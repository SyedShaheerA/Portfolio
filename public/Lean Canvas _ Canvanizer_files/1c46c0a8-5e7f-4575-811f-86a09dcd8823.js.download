var mouseflowDisableKeyLogging = true;if(typeof mouseflow==='undefined'&&typeof mouseflowPlayback==='undefined'){(function(){var _569=true;var _568=false;var _476=[{_22:"startsWith",_5:"/password/reset/",_581:"password"},{_22:"startsWith",_5:"/thenextlevel*",_581:"thenextlevel"}];var _486=[];var _48='https://eu.mouseflow.com';var _567=false;var _420=(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function n(t){return"object"==typeof t&&null!==t&&t.nodeType===Node.ELEMENT_NODE}t.r(e),t.d(e,{default:()=>Q,getCssSelector:()=>K});const r={NONE:"",DESCENDANT:" ",CHILD:" > "},o={id:"id",class:"class",tag:"tag",attribute:"attribute",nthchild:"nthchild",nthoftype:"nthoftype"},i="CssSelectorGenerator";function c(t="unknown problem",...e){console.warn(`${i}: ${t}`,...e)}const u={selectors:[o.id,o.class,o.tag,o.attribute],includeTag:!1,whitelist:[],blacklist:[],combineWithinSelector:!0,combineBetweenSelectors:!0,root:null,maxCombinations:Number.POSITIVE_INFINITY,maxCandidates:Number.POSITIVE_INFINITY};function s(t){return t instanceof RegExp}function a(t){return["string","function"].includes(typeof t)||s(t)}function l(t){return Array.isArray(t)?t.filter(a):[]}function f(t){const e=[Node.DOCUMENT_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE];return function(t){return t instanceof Node}(t)&&e.includes(t.nodeType)}function d(t,e){if(f(t))return t.contains(e)||c("element root mismatch","Provided root does not contain the element. This will most likely result in producing a fallback selector using element's real root node. If you plan to use the selector using provided root (e.g. `root.querySelector`), it will not work as intended."),t;const n=e.getRootNode({composed:!1});return f(n)?(n!==document&&c("shadow root inferred","You did not provide a root and the element is a child of Shadow DOM. This will produce a selector using ShadowRoot as a root. If you plan to use the selector using document as a root (e.g. `document.querySelector`), it will not work as intended."),n):S(e)}function m(t){return"number"==typeof t?t:Number.POSITIVE_INFINITY}function p(t=[]){const[e=[],...n]=t;return 0===n.length?e:n.reduce(((t,e)=>t.filter((t=>e.includes(t)))),e)}function g(t){return[].concat(...t)}function h(t){const e=t.map((t=>{if(s(t))return e=>t.test(e);if("function"==typeof t)return e=>{const n=t(e);return"boolean"!=typeof n?(c("pattern matcher function invalid","Provided pattern matching function does not return boolean. It's result will be ignored.",t),!1):n};if("string"==typeof t){const e=new RegExp("^"+t.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".+")+"$");return t=>e.test(t)}return c("pattern matcher invalid","Pattern matching only accepts strings, regular expressions and/or functions. This item is invalid and will be ignored.",t),()=>!1}));return t=>e.some((e=>e(t)))}function b(t,e,n){const r=Array.from(d(n,t[0]).querySelectorAll(e));return r.length===t.length&&t.every((t=>r.includes(t)))}function y(t,e){e=null!=e?e:S(t);const r=[];let o=t;for(;n(o)&&o!==e;)r.push(o),o=o.parentElement;return r}function N(t,e){return p(t.map((t=>y(t,e))))}function S(t){return t.ownerDocument.querySelector(":root")}const E=", ",v=new RegExp(["^$","\\s"].join("|")),w=new RegExp(["^$"].join("|")),I=[o.nthoftype,o.tag,o.id,o.class,o.attribute,o.nthchild],T=h(["class","id","ng-*"]);function O({name:t}){return`[${t}]`}function C({name:t,value:e}){return`[${t}='${e}']`}function x({nodeName:t,nodeValue:e}){return{name:Y(t),value:Y(null!=e?e:void 0)}}function j(t){const e=Array.from(t.attributes).filter((e=>function({nodeName:t,nodeValue:e},n){const r=n.tagName.toLowerCase();return!(["input","option"].includes(r)&&"value"===t||"src"===t&&(null==e?void 0:e.startsWith("data:"))||T(t))}(e,t))).map(x);return[...e.map(O),...e.map(C)]}function A(t){var e;return(null!==(e=t.getAttribute("class"))&&void 0!==e?e:"").trim().split(/\s+/).filter((t=>!w.test(t))).map((t=>`.${Y(t)}`))}function $(t){var e;const n=null!==(e=t.getAttribute("id"))&&void 0!==e?e:"",r=`#${Y(n)}`,o=t.getRootNode({composed:!1});return!v.test(n)&&b([t],r,o)?[r]:[]}function D(t){const e=t.parentNode;if(e){const r=Array.from(e.childNodes).filter(n).indexOf(t);if(r>-1)return[`:nth-child(${String(r+1)})`]}return[]}function R(t){return[Y(t.tagName.toLowerCase())]}function P(t){const e=[...new Set(g(t.map(R)))];return 0===e.length||e.length>1?[]:[e[0]]}function _(t){const e=P([t])[0],n=t.parentElement;if(n){const r=Array.from(n.children).filter((t=>t.tagName.toLowerCase()===e)),o=r.indexOf(t);if(o>-1)return[`${e}:nth-of-type(${String(o+1)})`]}return[]}function k(t=[],{maxResults:e=Number.POSITIVE_INFINITY}={}){return Array.from(function*(t=[],{maxResults:e=Number.POSITIVE_INFINITY}={}){let n=0,r=M(1);for(;r.length<=t.length&&n<e;){n+=1;const e=r.map((e=>t[e]));yield e,r=L(r,t.length-1)}}(t,{maxResults:e}))}function L(t=[],e=0){const n=t.length;if(0===n)return[];const r=[...t];r[n-1]+=1;for(let t=n-1;t>=0;t--)if(r[t]>e){if(0===t)return M(n+1);r[t-1]++,r[t]=r[t-1]+1}return r[n-1]>e?M(n+1):r}function M(t=1){return Array.from(Array(t).keys())}const V=":".charCodeAt(0).toString(16).toUpperCase(),F=/[ !"#$%&'()\[\]{|}<>*+,./;=?@^`~\\]/;function Y(t=""){return CSS?CSS.escape(t):function(t=""){return t.split("").map((t=>":"===t?`\\${V} `:F.test(t)?`\\${t}`:escape(t).replace(/%/g,"\\"))).join("")}(t)}const W={tag:P,id:function(t){return 0===t.length||t.length>1?[]:$(t[0])},class:function(t){return p(t.map(A))},attribute:function(t){return p(t.map(j))},nthchild:function(t){return p(t.map(D))},nthoftype:function(t){return p(t.map(_))}},q={tag:R,id:$,class:A,attribute:j,nthchild:D,nthoftype:_};function B(t){return t.includes(o.tag)||t.includes(o.nthoftype)?[...t]:[...t,o.tag]}function G(t={}){const e=[...I];return t[o.tag]&&t[o.nthoftype]&&e.splice(e.indexOf(o.tag),1),e.map((e=>{return(r=t)[n=e]?r[n].join(""):"";var n,r})).join("")}function H(t,e,n="",o){const i=function(t,e){return""===e?t:function(t,e){return[...t.map((t=>e+r.DESCENDANT+t)),...t.map((t=>e+r.CHILD+t))]}(t,e)}(function(t,e,n){const r=function(t,e){const{blacklist:n,whitelist:r,combineWithinSelector:o,maxCombinations:i}=e,c=h(n),u=h(r);return function(t){const{selectors:e,includeTag:n}=t,r=[...e];return n&&!r.includes("tag")&&r.push("tag"),r}(e).reduce(((e,n)=>{const r=function(t,e){return(0,W[e])(t)}(t,n),s=function(t=[],e,n){return t.filter((t=>n(t)||!e(t)))}(r,c,u),a=function(t=[],e){return t.sort(((t,n)=>{const r=e(t),o=e(n);return r&&!o?-1:!r&&o?1:0}))}(s,u);return e[n]=o?k(a,{maxResults:i}):a.map((t=>[t])),e}),{})}(t,n),o=function(t,e){return function(t){const{selectors:e,combineBetweenSelectors:n,includeTag:r,maxCandidates:o}=t,i=n?k(e,{maxResults:o}):e.map((t=>[t]));return r?i.map(B):i}(e).map((e=>function(t,e){const n={};return t.forEach((t=>{const r=e[t];r&&r.length>0&&(n[t]=r)})),function(t={}){let e=[];return Object.entries(t).forEach((([t,n])=>{e=n.flatMap((n=>0===e.length?[{[t]:n}]:e.map((e=>Object.assign(Object.assign({},e),{[t]:n})))))})),e}(n).map(G)}(e,t))).filter((t=>t.length>0))}(r,n),i=g(o);return[...new Set(i)]}(t,0,o),n);for(const n of i)if(b(t,n,e))return n;return null}function U(t){return{value:t,include:!1}}function z({selectors:t,operator:e}){let n=[...I];t[o.tag]&&t[o.nthoftype]&&(n=n.filter((t=>t!==o.tag)));let r="";return n.forEach((e=>{var n;(null!==(n=t[e])&&void 0!==n?n:[]).forEach((({value:t,include:e})=>{e&&(r+=t)}))})),e+r}function J(t){return[":root",...y(t).reverse().map((t=>{const e=function(t,e,n=r.NONE){const o={};return e.forEach((e=>{Reflect.set(o,e,function(t,e){return q[e](t)}(t,e).map(U))})),{element:t,operator:n,selectors:o}}(t,[o.nthchild],r.CHILD);return e.selectors.nthchild.forEach((t=>{t.include=!0})),e})).map(z)].join("")}function K(t,e={}){var r;const i=function(t){(t instanceof NodeList||t instanceof HTMLCollection)&&(t=Array.from(t));const e=(Array.isArray(t)?t:[t]).filter(n);return[...new Set(e)]}(t),c=function(t,e={}){const n=Object.assign(Object.assign({},u),e);return{selectors:(r=n.selectors,Array.isArray(r)?r.filter((t=>{return e=o,n=t,Object.values(e).includes(n);var e,n})):[]),whitelist:l(n.whitelist),blacklist:l(n.blacklist),root:d(n.root,t),combineWithinSelector:!!n.combineWithinSelector,combineBetweenSelectors:!!n.combineBetweenSelectors,includeTag:!!n.includeTag,maxCombinations:m(n.maxCombinations),maxCandidates:m(n.maxCandidates)};var r}(i[0],e),s=null!==(r=c.root)&&void 0!==r?r:S(i[0]);let a="",f=s;function p(){return function(t,e,n="",r){if(0===t.length)return null;const o=[t.length>1?t:[],...N(t,e).map((t=>[t]))];for(const t of o){const o=H(t,e,n,r);if(o)return{foundElements:t,selector:o}}return null}(i,f,a,c)}let g=p();for(;g;){const{foundElements:t,selector:e}=g;if(b(i,e,s))return e;f=t[0],a=e,g=p()}return i.length>1?i.map((t=>K(t,c))).join(E):function(t){return t.map(J).join(E)}(i)}const Q=K;return e})();
var _297=typeof _836==='function';function _759(_110){return'MF'+(_2.includeDebugTime?' - '+_14:'')+': '+_110}function _8(_110,_14){if(!_2.debug)return;_14=(typeof _14!=='undefined'?_14:'');if(_110 instanceof Error){_110.message=_759(_110.message);console.error(_110)}else{console.groupCollapsed(_759(_110));console.trace();console.groupEnd()}}var _24=new _1049(window,_8);var _17=new _919(window,_24);var _11=new _918(window,Math,JSON,_24);var _27=new _953(_24,_11);var _60=new _843('local',window,_11,_8);var _133=new _843('session',window,_11,_8);var _481=new _994(window,_17);var _2=new _946(window,_60,_133,_569,_568,_567);_2._260();_2._256=[];_2._415=[];_2._339=["NoteContainer","note-np","note-desc"];_2._439=["NoteContainer","note-np","note-desc"];_2._697=[];_2._726=[];_2._47='1c46c0a8-5e7f-4575-811f-86a09dcd8823';_2._576=true;_2._930='5242000';_2._402('appUrl',_48);var _371=new _1086(window,_11,_2,_8);function _836(_3,_115,_24,_2,_17,_11,_27,_90,_328,_60,_133,_250,_563,_8,_481,_371,_135,_207){var _1178=false;var _176='https://eu01.rec.mouseflow.com/';var _203=100.00000;var _189=[{_22:"startsWith",_5:"/upgrade"},{_22:"startsWith",_5:"/demo/"},{_22:"startsWith",_5:"/password"}];var _1232=[];var _1050=[];var _308=["next.canvanizer.com","canvanizer.com"];var _914=false;var _1141=false;var _510='2025-11-10T10:58:37.4055461Z';var _188='19.03';var _197=false;var _491=false;var _93=false;var _195=false;var _529=false;var _907=/\[(\d+)\]_mf$/;var _12=_3.document;var _79=_3.location;var _15=_924();var _1=_620();var _404=_11._608(_2);var _76={_738:100,_1198:250,_1199:10000,_686:1336,_525:1800000,_1047:3600000,_1254:100,_1020:2000,_909:8000,_651:100000,_795:2048,_1056:200,_1057:5000,_1202:2000,};var _475,_474,_470,_346,_337,_542,_305,_725,_534,_1285,_102,_674=[],_644=[],_627=[],_579=[],_673=[],_179=new Map(),_283=new Map();var _6={_430:0,_440:1,_436:2,_301:3,_319:4,_227:5,_235:6,_314:7,_453:8,_316:9,_255:10,_518:11,_533:12,_361:13,_903:14,_52:15,_1276:16,_1275:17,_87:18,_499:19,_1036:20,_495:21,_490:22,_416:23,_511:24,_531:25,_530:26,_528:27,_422:28,_629:29,_423:30,_631:31,_429:32,_323:33,_723:34,_291:35,_508:36,_504:37,_54:38,_431:39,_1269:40,_259:41,_74:42,_1274:43,_662:44,_258:45};var _94={_734:{_23:'bounce',_5:2,_49:1,_148:1000},_385:{_23:'click-rage',_5:5,_49:2,_148:2000},_668:{_23:'click-error',_5:2,_49:3,_148:20},_633:{_23:'speed-browsing',_5:1,_49:6,_148:1000},_291:{_23:'submit-failure',_5:3,_49:7,_148:20},_473:{_23:'404',_5:5,_49:8,_148:20},_406:{_23:'dead-click',_5:1,_49:9,_148:1000}};var _749=/[\x20\r\n]+/g;var _960=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@/;var _955=/^\d{12,19}$/;var _1011=/^(onbeforeunload|onblur|onchange|onclick|onfocus|oninput|onkeydown|onkeypress|onkeyup|onload|onmousedown|onmouseenter|onmouseleave|onmousemove|onmouseout|onmouseover|onmouseup|onresize|onsubmit|ontouchcancel|ontouchend|ontouchenter|ontouchleave|ontouchmove|ontouchstart|onunload)$/;var _951=/checkbox|radio|button|submit|file|image|reset/;var _957=[{name:'VISA',patternRegex:/^4(\d{15}|\d{17,18})$/},{name:'Mastercard',patternRegex:/^(222[1-9]|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720|5[1-5]\d\d)\d{12}$/},{name:'American Express',patternRegex:/^3[47]\d{13}$/},{name:'Diners Club',patternRegex:/^3(0[0-5]|[689]\d)(\d{11}|\d{13}|\d{16})$/},{name:'Discover',patternRegex:/^(6011|64[456789]\d|65\d{2})(\d{12}|\d{15})$/},{name:'JCB',patternRegex:/^(352[89]|35[3-8]\d|2131|1800)\d{12,15}$/},{name:'China UnionPay',patternRegex:/^(62[03456]\d{3}]|6210\d\d|621[1-7]\d\d|6218[0-2]\d|6218[4-9]\d|6219[0-7]\d|6220[0-579]\d|62201\d|6220[2-9]\d|622[1-9]\d{2}|622018|627[026]\d\d|62770\d|6277[1-7]\d|62778[1-9]|62779\d|628[2-9]\d\d|629[12]\d\d|810\d\d\d|811\d\d\d|81[2-6]\d\d\d|817[01]\d\d)\d{8,13}$/},{name:'Maestro',patternRegex:/^((493698|50000\d|5000[1-9]\d|500[1-9]\d{2}|50[1-3]\d{3}|5040\d{2}|5041[0-6]\d|50417[0-4]|50417[6-9]|5041[89]\d|504[2-9]\d{2}|505\d{3}|506[0-5]\d{2}|5066[0-8]\d|50669[0-8]|506779|5067[89]\d|506[89]\d{2}|50[78]\d{3})\d{6,13}|(5[6-9]|63|67|6\d)\d{10,17})$/},{name:'Elo',patternRegex:/^(40117[89]|438935|457631|457632|431274|451416|457393|504175|506699|5067[0-6]\d|50677[0-8]|50900\d|5090[1-9]\d|509[1-9]\d{2}|627780|636297|636368|65003[1-3]|65003[5-9]|65004\d|65005[01]|65040[5-9]|6504[1-3]\d|65048[5-9]|65049\d|6505[0-2]\d|65053[0-8]|65054[1-9]|6505[5-8]\d|65059[0-8]|65070\d|65071[0-8]|65072[0-7]|65090[1-9]|6509[1-6]\d|65097[0-8]|65165[2-9]|6516[67]\d|65500\d|65501\d|65502[1-9]|6550[34]\d|65505[0-8])\d{10}$/},{name:'Hiper',patternRegex:/^(637095|63737423|63743358|637568|637599|637609|637612)\d{10}$/},{name:'Hipercard',patternRegex:/^(606282)\d{10}$/},{name:'Dankort',patternRegex:/^5019\d{12}$/},{name:'VISA Dankort',patternRegex:/^4571\d{12}$/}];const _704=_1136();const _303=new WeakMap();const _306='mf-dead-click';let _558=false;var _956=(function(_1018){return function(_699){var _716=_699.length,_721=1,_538=0,_220;while(_716){_220=parseInt(_699.charAt(--_716),10);_721^=1;_538+=_721?_1018[_220]:_220}return _538&&_538% 10===0}}([0,2,4,6,8,1,3,5,7,9]));
    // Copyright 2011 Google Inc.
    //
    // Licensed under the Apache License, Version 2.0 (the "License");
    // you may not use this file except in compliance with the License.
    // You may obtain a copy of the License at
    //
    //     http://www.apache.org/licenses/LICENSE-2.0
    //
    // Unless required by applicable law or agreed to in writing, software
    // distributed under the License is distributed on an "AS IS" BASIS,
    // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    // See the License for the specific language governing permissions and
    // limitations under the License.
    //
    // This component contains modifications carried out by Mouseflow ApS.
    var __extends=this.__extends||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __()};var MutationObserverCtor;if(typeof WebKitMutationObserver!=='undefined')MutationObserverCtor=_24._230(_3,'WebKitMutationObserver');else if(typeof MutationObserver!=='undefined')MutationObserverCtor=_24._230(_3,'MutationObserver');if(MutationObserverCtor===undefined){_8('DOM Mutation Observers not supported.',_14())}var NodeMap=(function(){function NodeMap(){this.nodes=[];this.values=[]}NodeMap.prototype.isIndex=function(s){return+s===s>>>0};NodeMap.prototype.nodeId=function(node){var id=node[NodeMap.ID_PROP];if(!id)id=node[NodeMap.ID_PROP]=NodeMap.nextId_++;return id};NodeMap.prototype.set=function(node,value){var id=this.nodeId(node);this.nodes[id]=node;this.values[id]=value};NodeMap.prototype.get=function(node){var id=this.nodeId(node);return this.values[id]};NodeMap.prototype.has=function(node){return this.nodeId(node)in this.nodes};NodeMap.prototype.deleteNode=function(node){var id=this.nodeId(node);delete this.nodes[id];this.values[id]=undefined};NodeMap.prototype.keys=function(){var nodes=[];for(var id in this.nodes){if(!this.isIndex(id))continue;nodes.push(this.nodes[id])}return nodes};NodeMap.ID_PROP='__mouseflow_node_map_id__';NodeMap.nextId_=1;return NodeMap})();var Movement;(function(Movement){Movement[Movement['STAYED_OUT']=0]='STAYED_OUT';Movement[Movement['ENTERED']=1]='ENTERED';Movement[Movement['STAYED_IN']=2]='STAYED_IN';Movement[Movement['REPARENTED']=3]='REPARENTED';Movement[Movement['REORDERED']=4]='REORDERED';Movement[Movement['EXITED']=5]='EXITED'})(Movement||(Movement={}));function enteredOrExited(changeType){return changeType===Movement.ENTERED||changeType===Movement.EXITED}var NodeChange=(function(){function NodeChange(node,childList,attributes,characterData,oldParentNode,added,attributeOldValues,characterDataOldValue){if(childList===void 0){childList=false}if(attributes===void 0){attributes=false}if(characterData===void 0){characterData=false}if(oldParentNode===void 0){oldParentNode=null}if(added===void 0){added=false}if(attributeOldValues===void 0){attributeOldValues=null}if(characterDataOldValue===void 0){characterDataOldValue=null}this.node=node;this.childList=childList;this.attributes=attributes;this.characterData=characterData;this.oldParentNode=oldParentNode;this.added=added;this.attributeOldValues=attributeOldValues;this.characterDataOldValue=characterDataOldValue;this.isCaseInsensitive=this.node.nodeType===1&&this.node instanceof HTMLElement&&typeof(HTMLDocument)!=='undefined'&&this.node.ownerDocument instanceof HTMLDocument}NodeChange.prototype.getAttributeOldValue=function(name){if(!this.attributeOldValues)return undefined;if(this.isCaseInsensitive)name=name.toLowerCase();return this.attributeOldValues[name]};NodeChange.prototype.getAttributeNamesMutated=function(){var names=[];if(!this.attributeOldValues)return names;for(var name in this.attributeOldValues){names.push(name)}return names};NodeChange.prototype.attributeMutated=function(name,oldValue){this.attributes=true;this.attributeOldValues=this.attributeOldValues||{};if(name in this.attributeOldValues)return;this.attributeOldValues[name]=oldValue};NodeChange.prototype.characterDataMutated=function(oldValue){if(this.characterData)return;this.characterData=true;this.characterDataOldValue=oldValue};NodeChange.prototype.removedFromParent=function(parent){this.childList=true;if(this.added||this.oldParentNode)this.added=false;else this.oldParentNode=parent};NodeChange.prototype.insertedIntoParent=function(){this.childList=true;this.added=true};NodeChange.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return _24._88(this.node)};return NodeChange})();var ChildListChange=(function(){function ChildListChange(){this.added=new NodeMap();this.removed=new NodeMap();this.maybeMoved=new NodeMap();this.oldPrevious=new NodeMap();this.moved=undefined}return ChildListChange})();var TreeChanges=(function(_669){__extends(TreeChanges,_669);function TreeChanges(rootNode,mutations){_669.call(this);this.rootNode=rootNode;this.reachableCache=undefined;this.wasReachableCache=undefined;this.anyParentsChanged=false;this.anyAttributesChanged=false;this.anyCharacterDataChanged=false;for(var m=0;m<mutations.length;m++){var mutation=mutations[m];switch(mutation.type){case'childList':this.anyParentsChanged=true;for(let i=0;i<mutation.removedNodes.length;i++){let node=mutation.removedNodes[i];this.getChange(node).removedFromParent(mutation.target)}for(let i=0;i<mutation.addedNodes.length;i++){let node=mutation.addedNodes[i];this.getChange(node).insertedIntoParent()}break;case'attributes':this.anyAttributesChanged=true;this.getChange(mutation.target).attributeMutated(mutation.attributeName,mutation.oldValue);break;case'characterData':this.anyCharacterDataChanged=true;this.getChange(mutation.target).characterDataMutated(mutation.oldValue);break}}}TreeChanges.prototype.getChange=function(node){var change=this.get(node);if(!change){change=new NodeChange(node);this.set(node,change)}return change};TreeChanges.prototype.getOldParent=function(node){var change=this.get(node);return change?change.getOldParent():_24._88(node)};TreeChanges.prototype.getIsReachable=function(node){if(node===this.rootNode)return true;if(!node)return false;this.reachableCache=this.reachableCache||new NodeMap();var isReachable=this.reachableCache.get(node);if(isReachable===undefined){isReachable=this.getIsReachable(_24._88(node));this.reachableCache.set(node,isReachable)}return isReachable};TreeChanges.prototype.getWasReachable=function(node){if(node===this.rootNode)return true;if(!node)return false;this.wasReachableCache=this.wasReachableCache||new NodeMap();var wasReachable=this.wasReachableCache.get(node);if(wasReachable===undefined&&node!=this.getOldParent(node)){wasReachable=this.getWasReachable(this.getOldParent(node));this.wasReachableCache.set(node,wasReachable)}return wasReachable};TreeChanges.prototype.reachabilityChange=function(node){if(this.getIsReachable(node)){return this.getWasReachable(node)?Movement.STAYED_IN:Movement.ENTERED}return this.getWasReachable(node)?Movement.EXITED:Movement.STAYED_OUT};return TreeChanges})(NodeMap);var MutationProjection=(function(){function MutationProjection(rootNode,mutations,selectors,calcReordered,calcOldPreviousSibling){this.rootNode=rootNode;this.mutations=mutations;this.selectors=selectors;this.calcReordered=calcReordered;this.calcOldPreviousSibling=calcOldPreviousSibling;this.treeChanges=new TreeChanges(rootNode,mutations);this.entered=[];this.exited=[];this.stayedIn=new NodeMap();this.visited=new NodeMap();this.childListChangeMap=undefined;this.characterDataOnly=undefined;this.matchCache=undefined;this.processMutations()}MutationProjection.prototype.processMutations=function(){if(!this.treeChanges.anyParentsChanged&&!this.treeChanges.anyAttributesChanged)return;var changedNodes=this.treeChanges.keys();for(var i=0;i<changedNodes.length;i++){this.visitNode(changedNodes[i],undefined)}};MutationProjection.prototype.visitNode=function(node,parentReachable){if(this.visited.has(node))return;this.visited.set(node,true);var change=this.treeChanges.get(node);var reachable=parentReachable;if((change&&change.childList)||reachable==undefined)reachable=this.treeChanges.reachabilityChange(node);if(reachable===Movement.STAYED_OUT)return;this.matchabilityChange(node);if(reachable===Movement.ENTERED){this.entered.push(node)}else if(reachable===Movement.EXITED){this.exited.push(node);this.ensureHasOldPreviousSiblingIfNeeded(node)}else if(reachable===Movement.STAYED_IN){var movement=Movement.STAYED_IN;if(change&&change.childList){if(change.oldParentNode!==_24._88(node)){movement=Movement.REPARENTED;this.ensureHasOldPreviousSiblingIfNeeded(node)}else if(this.calcReordered&&this.wasReordered(node)){movement=Movement.REORDERED}}this.stayedIn.set(node,movement)}if(reachable===Movement.STAYED_IN)return;for(var child=_24._826(node);child;child=_24._514(child)){this.visitNode(child,reachable)}};MutationProjection.prototype.ensureHasOldPreviousSiblingIfNeeded=function(node){if(!this.calcOldPreviousSibling)return;this.processChildlistChanges();var parentNode=_24._88(node);var nodeChange=this.treeChanges.get(node);if(nodeChange&&nodeChange.oldParentNode)parentNode=nodeChange.oldParentNode;var change=this.childListChangeMap.get(parentNode);if(!change){change=new ChildListChange();this.childListChangeMap.set(parentNode,change)}if(!change.oldPrevious.has(node)){change.oldPrevious.set(node,node.previousSibling)}};MutationProjection.prototype.getChanged=function(summary,selectors,characterDataOnly){this.selectors=selectors;this.characterDataOnly=characterDataOnly;for(let i=0;i<this.entered.length;i++){let node=this.entered[i];let matchable=this.matchabilityChange(node);if(matchable===Movement.ENTERED||matchable===Movement.STAYED_IN)summary.added.push(node)}var stayedInNodes=this.stayedIn.keys();for(let i=0;i<stayedInNodes.length;i++){let node=stayedInNodes[i];let matchable=this.matchabilityChange(node);if(matchable===Movement.ENTERED){summary.added.push(node)}else if(matchable===Movement.EXITED){summary.removed.push(node)}else if(matchable===Movement.STAYED_IN&&(summary.reparented||summary.reordered)){var movement=this.stayedIn.get(node);if(summary.reparented&&movement===Movement.REPARENTED)summary.reparented.push(node);else if(summary.reordered&&movement===Movement.REORDERED)summary.reordered.push(node)}}for(var i=0;i<this.exited.length;i++){var node=this.exited[i];var matchable=this.matchabilityChange(node);if(matchable===Movement.EXITED||matchable===Movement.STAYED_IN)summary.removed.push(node)}};MutationProjection.prototype.getOldParentNode=function(node){var change=this.treeChanges.get(node);if(change&&change.childList)return change.oldParentNode?change.oldParentNode:null;var reachabilityChange=this.treeChanges.reachabilityChange(node);if(reachabilityChange===Movement.STAYED_OUT||reachabilityChange===Movement.ENTERED)throw Error('getOldParentNode requested on invalid node.');return _24._88(node)};MutationProjection.prototype.getOldPreviousSibling=function(node){var parentNode=_24._88(node);var nodeChange=this.treeChanges.get(node);if(nodeChange&&nodeChange.oldParentNode)parentNode=nodeChange.oldParentNode;var change=this.childListChangeMap.get(parentNode);if(!change)throw Error('getOldPreviousSibling requested on invalid node.');return change.oldPrevious.get(node)};MutationProjection.prototype.getOldAttribute=function(element,attrName){var change=this.treeChanges.get(element);if(!change||!change.attributes)throw Error('getOldAttribute requested on invalid node.');var value=change.getAttributeOldValue(attrName);if(value===undefined)throw Error('getOldAttribute requested for unchanged attribute name.');return value};MutationProjection.prototype.attributeChangedNodes=function(includeAttributes){if(!this.treeChanges.anyAttributesChanged)return{};var attributeFilter;var caseInsensitiveFilter;if(includeAttributes){attributeFilter={};caseInsensitiveFilter={};for(let i=0;i<includeAttributes.length;i++){let attrName=includeAttributes[i];attributeFilter[attrName]=true;caseInsensitiveFilter[attrName.toLowerCase()]=attrName}}var result={};var nodes=this.treeChanges.keys();for(let i=0;i<nodes.length;i++){var node=nodes[i];var change=this.treeChanges.get(node);if(!change.attributes)continue;if(Movement.STAYED_IN!==this.treeChanges.reachabilityChange(node)||Movement.STAYED_IN!==this.matchabilityChange(node)){continue}var element=node;var changedAttrNames=change.getAttributeNamesMutated();for(var j=0;j<changedAttrNames.length;j++){let attrName=changedAttrNames[j];if(attributeFilter&&!attributeFilter[attrName]&&!(change.isCaseInsensitive&&caseInsensitiveFilter[attrName])){continue}var oldValue=change.getAttributeOldValue(attrName);if(oldValue===element.getAttribute(attrName))continue;if(caseInsensitiveFilter&&change.isCaseInsensitive)attrName=caseInsensitiveFilter[attrName];result[attrName]=result[attrName]||[];result[attrName].push(element)}}return result};MutationProjection.prototype.getOldCharacterData=function(node){var change=this.treeChanges.get(node);if(!change||!change.characterData)throw Error('getOldCharacterData requested on invalid node.');return change.characterDataOldValue};MutationProjection.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];var nodes=this.treeChanges.keys();var result=[];for(var i=0;i<nodes.length;i++){var target=nodes[i];if(Movement.STAYED_IN!==this.treeChanges.reachabilityChange(target))continue;var change=this.treeChanges.get(target);if(!change.characterData||target.textContent==change.characterDataOldValue)continue;result.push(target)}return result};MutationProjection.prototype.computeMatchabilityChange=function(selector,el){if(!this.matchCache)this.matchCache=[];if(!this.matchCache[selector.uid])this.matchCache[selector.uid]=new NodeMap();var cache=this.matchCache[selector.uid];var result=cache.get(el);if(result===undefined){result=selector.matchabilityChange(el,this.treeChanges.get(el));cache.set(el,result)}return result};MutationProjection.prototype.matchabilityChange=function(node){var _38=this;if(this.characterDataOnly){switch(node.nodeType){case 8:case 3:return Movement.STAYED_IN;default:return Movement.STAYED_OUT}}if(!this.selectors)return Movement.STAYED_IN;if(node.nodeType!==1)return Movement.STAYED_OUT;var el=node;var matchChanges=this.selectors.map(function(selector){return _38.computeMatchabilityChange(selector,el)});var accum=Movement.STAYED_OUT;var i=0;while(accum!==Movement.STAYED_IN&&i<matchChanges.length){switch(matchChanges[i]){case Movement.STAYED_IN:accum=Movement.STAYED_IN;break;case Movement.ENTERED:if(accum===Movement.EXITED)accum=Movement.STAYED_IN;else accum=Movement.ENTERED;break;case Movement.EXITED:if(accum===Movement.ENTERED)accum=Movement.STAYED_IN;else accum=Movement.EXITED;break}i++}return accum};MutationProjection.prototype.getChildlistChange=function(el){var change=this.childListChangeMap.get(el);if(!change){change=new ChildListChange();this.childListChangeMap.set(el,change)}return change};MutationProjection.prototype.processChildlistChanges=function(){if(this.childListChangeMap)return;this.childListChangeMap=new NodeMap();for(var i=0;i<this.mutations.length;i++){var mutation=this.mutations[i];if(mutation.type!='childList')continue;if(this.treeChanges.reachabilityChange(mutation.target)!==Movement.STAYED_IN&&!this.calcOldPreviousSibling)continue;var change=this.getChildlistChange(mutation.target);var oldPrevious=mutation.previousSibling;for(let j=0;j<mutation.removedNodes.length;j++){let node=mutation.removedNodes[j];recordOldPrevious(node,oldPrevious,change);if(change.added.has(node)){change.added.deleteNode(node)}else{change.removed.set(node,true);change.maybeMoved.deleteNode(node)}oldPrevious=node}recordOldPrevious(mutation.nextSibling,oldPrevious,change);for(let j=0;j<mutation.addedNodes.length;j++){let node=mutation.addedNodes[j];if(change.removed.has(node)){change.removed.deleteNode(node);change.maybeMoved.set(node,true)}else{change.added.set(node,true)}}}};MutationProjection.prototype.wasReordered=function(node){if(!this.treeChanges.anyParentsChanged)return false;this.processChildlistChanges();var parentNode=_24._88(node);var nodeChange=this.treeChanges.get(node);if(nodeChange&&nodeChange.oldParentNode)parentNode=nodeChange.oldParentNode;var change=this.childListChangeMap.get(parentNode);if(!change)return false;if(change.moved)return change.moved.get(node);change.moved=new NodeMap();var pendingMoveDecision=new NodeMap();function isMoved(node){if(!node)return false;if(!change.maybeMoved.has(node))return false;var didMove=change.moved.get(node);if(didMove!==undefined)return didMove;if(pendingMoveDecision.has(node)){didMove=true}else{pendingMoveDecision.set(node,true);didMove=getPrevious(node)!==getOldPrevious(node)}if(pendingMoveDecision.has(node)){pendingMoveDecision.deleteNode(node);change.moved.set(node,didMove)}else{didMove=change.moved.get(node)}return didMove}var oldPreviousCache=new NodeMap();function getOldPrevious(node){var oldPrevious=oldPreviousCache.get(node);if(oldPrevious!==undefined)return oldPrevious;oldPrevious=change.oldPrevious.get(node);while(oldPrevious&&(change.removed.has(oldPrevious)||isMoved(oldPrevious))){oldPrevious=getOldPrevious(oldPrevious)}if(oldPrevious===undefined)oldPrevious=node.previousSibling;oldPreviousCache.set(node,oldPrevious);return oldPrevious}var previousCache=new NodeMap();function getPrevious(node){if(previousCache.has(node))return previousCache.get(node);var previous=node.previousSibling;while(previous&&(change.added.has(previous)||isMoved(previous)))previous=previous.previousSibling;previousCache.set(node,previous);return previous}change.maybeMoved.keys().forEach(isMoved);return change.moved.get(node)};return MutationProjection})();function recordOldPrevious(node,previous,change){if(!node||change.oldPrevious.has(node)||change.added.has(node)||change.maybeMoved.has(node))return;if(previous&&(change.added.has(previous)||change.maybeMoved.has(previous)))return;change.oldPrevious.set(node,previous)}var Summary=(function(){function Summary(projection,query){var _38=this;this.projection=projection;this.added=[];this.removed=[];this.reparented=query.all||query.element||query.characterData?[]:undefined;this.reordered=query.all?[]:undefined;projection.getChanged(this,query.elementFilter,query.characterData);if(query.all||query.attribute||query.attributeList){var filter=query.attribute?[query.attribute]:query.attributeList;var attributeChanged=projection.attributeChangedNodes(filter);if(query.attribute){this.valueChanged=attributeChanged[query.attribute]||[]}else{this.attributeChanged=attributeChanged;if(query.attributeList){query.attributeList.forEach(function(attrName){if(Object.prototype.hasOwnProperty.call(!_38.attributeChanged,attrName))_38.attributeChanged[attrName]=[]})}}}if(query.all||query.characterData){var characterDataChanged=projection.getCharacterDataChanged();if(query.characterData)this.valueChanged=characterDataChanged;else this.characterDataChanged=characterDataChanged}if(this.reordered)this.getOldPreviousSibling=projection.getOldPreviousSibling.bind(projection)}Summary.prototype.getOldParentNode=function(node){return this.projection.getOldParentNode(node)};Summary.prototype.getOldAttribute=function(node,name){return this.projection.getOldAttribute(node,name)};Summary.prototype.getOldCharacterData=function(node){return this.projection.getOldCharacterData(node)};Summary.prototype.getOldPreviousSibling=function(node){return this.projection.getOldPreviousSibling(node)};return Summary})();var validNameInitialChar=/[a-zA-Z_]+/;var validNameNonInitialChar=/[a-zA-Z0-9_-]+/;function escapeQuotes(value){return'"'+value.replace(/"/g,'\\"')+'"'}var Qualifier=(function(){function Qualifier(){}Qualifier.prototype.matches=function(oldValue){if(oldValue===null)return false;if(this.attrValue===undefined)return true;if(!this.contains)return this.attrValue==oldValue;var tokens=oldValue.split(' ');for(var i=0;i<tokens.length;i++){if(this.attrValue===tokens[i])return true}return false};Qualifier.prototype.toString=function(){if(this.attrName==='class'&&this.contains)return'.'+this.attrValue;if(this.attrName==='id'&&!this.contains)return'#'+this.attrValue;if(this.contains)return'['+this.attrName+'~='+escapeQuotes(this.attrValue)+']';if('attrValue'in this)return'['+this.attrName+'='+escapeQuotes(this.attrValue)+']';return'['+this.attrName+']'};return Qualifier})();var Selector=(function(){function Selector(){this.uid=Selector.nextUid++;this.qualifiers=[]}try{Object.defineProperty(Selector.prototype,'caseInsensitiveTagName',{get:function(){return this.tagName.toUpperCase()},enumerable:true,configurable:true});Object.defineProperty(Selector.prototype,'selectorString',{get:function(){return this.tagName+this.qualifiers.join('')},enumerable:true,configurable:true})}catch(e){}Selector.prototype.isMatching=function(el){return el[Selector.matchesSelector](this.selectorString)};Selector.prototype.wasMatching=function(el,change,isMatching){if(!change||!change.attributes)return isMatching;var tagName=change.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if(tagName!=='*'&&tagName!==el.tagName)return false;var attributeOldValues=[];var anyChanged=false;for(let i=0;i<this.qualifiers.length;i++){let qualifier=this.qualifiers[i];let oldValue=change.getAttributeOldValue(qualifier.attrName);attributeOldValues.push(oldValue);anyChanged=anyChanged||(oldValue!==undefined)}if(!anyChanged)return isMatching;for(let i=0;i<this.qualifiers.length;i++){let qualifier=this.qualifiers[i];let oldValue=attributeOldValues[i];if(oldValue===undefined)oldValue=el.getAttribute(qualifier.attrName);if(!qualifier.matches(oldValue))return false}return true};Selector.prototype.matchabilityChange=function(el,change){var isMatching=this.isMatching(el);if(isMatching)return this.wasMatching(el,change,isMatching)?Movement.STAYED_IN:Movement.ENTERED;else return this.wasMatching(el,change,isMatching)?Movement.EXITED:Movement.STAYED_OUT};Selector.parseSelectors=function(input){var selectors=[];var currentSelector;var currentQualifier;function newSelector(){if(currentSelector){if(currentQualifier){currentSelector.qualifiers.push(currentQualifier);currentQualifier=undefined}selectors.push(currentSelector)}currentSelector=new Selector()}function newQualifier(){if(currentQualifier)currentSelector.qualifiers.push(currentQualifier);currentQualifier=new Qualifier()}var WHITESPACE=/\s/;var valueQuoteChar;var SYNTAX_ERROR='Invalid or unsupported selector syntax.';var SELECTOR=1;var TAG_NAME=2;var QUALIFIER=3;var QUALIFIER_NAME_FIRST_CHAR=4;var QUALIFIER_NAME=5;var ATTR_NAME_FIRST_CHAR=6;var ATTR_NAME=7;var EQUIV_OR_ATTR_QUAL_END=8;var EQUAL=9;var ATTR_QUAL_END=10;var VALUE_FIRST_CHAR=11;var VALUE=12;var QUOTED_VALUE=13;var SELECTOR_SEPARATOR=14;var state=SELECTOR;var i=0;while(i<input.length){var c=input[i++];switch(state){case SELECTOR:if(c.match(validNameInitialChar)){newSelector();currentSelector.tagName=c;state=TAG_NAME;break}if(c=='*'){newSelector();currentSelector.tagName='*';state=QUALIFIER;break}if(c=='.'){newSelector();newQualifier();currentSelector.tagName='*';currentQualifier.attrName='class';currentQualifier.contains=true;state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='#'){newSelector();newQualifier();currentSelector.tagName='*';currentQualifier.attrName='id';state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='['){newSelector();newQualifier();currentSelector.tagName='*';currentQualifier.attrName='';state=ATTR_NAME_FIRST_CHAR;break}if(c.match(WHITESPACE))break;throw Error(SYNTAX_ERROR);case TAG_NAME:if(c.match(validNameNonInitialChar)){currentSelector.tagName+=c;break}if(c=='.'){newQualifier();currentQualifier.attrName='class';currentQualifier.contains=true;state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='#'){newQualifier();currentQualifier.attrName='id';state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='['){newQualifier();currentQualifier.attrName='';state=ATTR_NAME_FIRST_CHAR;break}if(c.match(WHITESPACE)){state=SELECTOR_SEPARATOR;break}if(c==','){state=SELECTOR;break}throw Error(SYNTAX_ERROR);case QUALIFIER:if(c=='.'){newQualifier();currentQualifier.attrName='class';currentQualifier.contains=true;state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='#'){newQualifier();currentQualifier.attrName='id';state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='['){newQualifier();currentQualifier.attrName='';state=ATTR_NAME_FIRST_CHAR;break}if(c.match(WHITESPACE)){state=SELECTOR_SEPARATOR;break}if(c==','){state=SELECTOR;break}throw Error(SYNTAX_ERROR);case QUALIFIER_NAME_FIRST_CHAR:if(c.match(validNameInitialChar)){currentQualifier.attrValue=c;state=QUALIFIER_NAME;break}throw Error(SYNTAX_ERROR);case QUALIFIER_NAME:if(c.match(validNameNonInitialChar)){currentQualifier.attrValue+=c;break}if(c=='.'){newQualifier();currentQualifier.attrName='class';currentQualifier.contains=true;state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='#'){newQualifier();currentQualifier.attrName='id';state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='['){newQualifier();state=ATTR_NAME_FIRST_CHAR;break}if(c.match(WHITESPACE)){state=SELECTOR_SEPARATOR;break}if(c==','){state=SELECTOR;break}throw Error(SYNTAX_ERROR);case ATTR_NAME_FIRST_CHAR:if(c.match(validNameInitialChar)){currentQualifier.attrName=c;state=ATTR_NAME;break}if(c.match(WHITESPACE))break;throw Error(SYNTAX_ERROR);case ATTR_NAME:if(c.match(validNameNonInitialChar)){currentQualifier.attrName+=c;break}if(c.match(WHITESPACE)){state=EQUIV_OR_ATTR_QUAL_END;break}if(c=='~'){currentQualifier.contains=true;state=EQUAL;break}if(c=='='){currentQualifier.attrValue='';state=VALUE_FIRST_CHAR;break}if(c==']'){state=QUALIFIER;break}throw Error(SYNTAX_ERROR);case EQUIV_OR_ATTR_QUAL_END:if(c=='~'){currentQualifier.contains=true;state=EQUAL;break}if(c=='='){currentQualifier.attrValue='';state=VALUE_FIRST_CHAR;break}if(c==']'){state=QUALIFIER;break}if(c.match(WHITESPACE))break;throw Error(SYNTAX_ERROR);case EQUAL:if(c=='='){currentQualifier.attrValue='';state=VALUE_FIRST_CHAR;break}throw Error(SYNTAX_ERROR);case ATTR_QUAL_END:if(c==']'){state=QUALIFIER;break}if(c.match(WHITESPACE))break;throw Error(SYNTAX_ERROR);case VALUE_FIRST_CHAR:if(c.match(WHITESPACE))break;if(c=='"'||c=="'"){valueQuoteChar=c;state=QUOTED_VALUE;break}currentQualifier.attrValue+=c;state=VALUE;break;case VALUE:if(c.match(WHITESPACE)){state=ATTR_QUAL_END;break}if(c==']'){state=QUALIFIER;break}if(c=="'"||c=='"')throw Error(SYNTAX_ERROR);currentQualifier.attrValue+=c;break;case QUOTED_VALUE:if(c==valueQuoteChar){state=ATTR_QUAL_END;break}currentQualifier.attrValue+=c;break;case SELECTOR_SEPARATOR:if(c.match(WHITESPACE))break;if(c==','){state=SELECTOR;break}throw Error(SYNTAX_ERROR)}}switch(state){case SELECTOR:case TAG_NAME:case QUALIFIER:case QUALIFIER_NAME:case SELECTOR_SEPARATOR:newSelector();break;default:throw Error(SYNTAX_ERROR)}if(!selectors.length)throw Error(SYNTAX_ERROR);return selectors};Selector.nextUid=1;Selector.matchesSelector=(function(){var element=_12.createElement('div');if(typeof element['webkitMatchesSelector']==='function')return'webkitMatchesSelector';if(typeof element['mozMatchesSelector']==='function')return'mozMatchesSelector';if(typeof element['msMatchesSelector']==='function')return'msMatchesSelector';return'matchesSelector'})();return Selector})();var attributeFilterPattern=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:.]*)$/;function validateAttribute(attribute){if(typeof attribute!='string')throw Error('Invalid request opion. attribute must be a non-zero length string.');attribute=attribute.trim();if(!attribute)throw Error('Invalid request opion. attribute must be a non-zero length string.');if(!attribute.match(attributeFilterPattern))throw Error('Invalid request option. invalid attribute name: '+attribute);return attribute}function validateElementAttributes(attribs){if(!attribs.trim().length)throw Error('Invalid request option: elementAttributes must contain at least one attribute.');var lowerAttributes={};var attributes={};var tokens=attribs.split(/\s+/);for(var i=0;i<tokens.length;i++){let name=tokens[i];if(!name)continue;name=validateAttribute(name);var nameLower=name.toLowerCase();if(lowerAttributes[nameLower])throw Error('Invalid request option: observing multiple case variations of the same attribute is not supported.');attributes[name]=true;lowerAttributes[nameLower]=true}return Object.keys(attributes)}function elementFilterAttributes(selectors){var attributes={};selectors.forEach(function(selector){selector.qualifiers.forEach(function(qualifier){attributes[qualifier.attrName]=true})});return Object.keys(attributes)}var MutationSummary=(function(){function MutationSummary(opts){var _38=this;this.connected=false;this.options=MutationSummary.validateOptions(opts);this.observerOptions=MutationSummary.createObserverOptions(this.options.queries);this.root=this.options.rootNode;this.callback=this.options.callback;this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(query){return query.elementFilter?query.elementFilter:[]}));if(!this.elementFilter.length)this.elementFilter=undefined;this.calcReordered=this.options.queries.some(function(query){return query.all});this.queryValidators=[];if(MutationSummary.createQueryValidator){this.queryValidators=this.options.queries.map(function(query){return MutationSummary.createQueryValidator(_38.root,query)})}this.observedMutations=[];this.observer=MutationObserverCtor?new MutationObserverCtor(function(mutations){_38.observedMutations.push(mutations);_17._39(()=>{if(!_38.observedMutations.length)return;_38.observerCallback(_38.observedMutations.flat());_38.observedMutations=[]},1)}):{observe:function(){}};this.reconnect()}MutationSummary.createObserverOptions=function(queries){var observerOptions={childList:true,subtree:true};var attributeFilter;function observeAttributes(attributes){if(observerOptions.attributes&&!attributeFilter)return;observerOptions.attributes=true;observerOptions.attributeOldValue=true;if(!attributes){attributeFilter=undefined;return}attributeFilter=attributeFilter||{};attributes.forEach(function(attribute){attributeFilter[attribute]=true;attributeFilter[attribute.toLowerCase()]=true})}queries.forEach(function(query){if(query.characterData){observerOptions.characterData=true;observerOptions.characterDataOldValue=true;return}if(query.all){observeAttributes();observerOptions.characterData=true;observerOptions.characterDataOldValue=true;return}if(query.attribute){observeAttributes([query.attribute.trim()]);return}var attributes=elementFilterAttributes(query.elementFilter).concat(query.attributeList||[]);if(attributes.length)observeAttributes(attributes)});if(attributeFilter)observerOptions.attributeFilter=Object.keys(attributeFilter);return observerOptions};MutationSummary.validateOptions=function(options){for(var prop in options){if(!(prop in MutationSummary.optionKeys))throw Error('Invalid option: '+prop)}if(typeof options.callback!=='function')throw Error('Invalid options: callback is required and must be a function');if(!options.queries||!options.queries.length)throw Error('Invalid options: queries must contain at least one query request object.');var opts={callback:options.callback,rootNode:options.rootNode||_12,observeOwnChanges:!!options.observeOwnChanges,oldPreviousSibling:!!options.oldPreviousSibling,queries:[]};for(var i=0;i<options.queries.length;i++){var request=options.queries[i];if(request.all){if(Object.keys(request).length>1)throw Error('Invalid request option. all has no options.');opts.queries.push({all:true});continue}if('attribute'in request){let query={attribute:validateAttribute(request.attribute)};query.elementFilter=Selector.parseSelectors('*['+query.attribute+']');if(Object.keys(request).length>1)throw Error('Invalid request option. attribute has no options.');opts.queries.push(query);continue}if('element'in request){var requestOptionCount=Object.keys(request).length;let query={element:request.element,elementFilter:Selector.parseSelectors(request.element)};if(Object.prototype.hasOwnProperty.call(request,'elementAttributes')){query.attributeList=validateElementAttributes(request.elementAttributes);requestOptionCount--}if(requestOptionCount>1)throw Error('Invalid request option. element only allows elementAttributes option.');opts.queries.push(query);continue}if(request.characterData){if(Object.keys(request).length>1)throw Error('Invalid request option. characterData has no options.');opts.queries.push({characterData:true});continue}throw Error('Invalid request option. Unknown query request.')}return opts};MutationSummary.prototype.createSummaries=function(mutations){if(!mutations||!mutations.length)return[];var projection=new MutationProjection(this.root,mutations,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling);var summaries=[];for(var i=0;i<this.options.queries.length;i++){summaries.push(new Summary(projection,this.options.queries[i]))}return summaries};MutationSummary.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(validator){if(validator)validator.recordPreviousState()})};MutationSummary.prototype.runQueryValidators=function(summaries){this.queryValidators.forEach(function(validator,index){if(validator)validator.validate(summaries[index])})};MutationSummary.prototype.changesToReport=function(summaries){return summaries.some(function(summary){var summaryProps=['added','removed','reordered','reparented','valueChanged','characterDataChanged'];if(summaryProps.some(function(prop){return summary[prop]&&summary[prop].length}))return true;if(summary.attributeChanged){var attrNames=Object.keys(summary.attributeChanged);var attrsChanged=attrNames.some(function(attrName){return!!summary.attributeChanged[attrName].length});if(attrsChanged)return true}return false})};MutationSummary.prototype.observerCallback=function(mutations){if(!this.options.observeOwnChanges)this.observer.disconnect();var summaries=this.createSummaries(mutations);this.runQueryValidators(summaries);if(this.options.observeOwnChanges)this.checkpointQueryValidators();if(this.changesToReport(summaries))this.callback(summaries);if(!this.options.observeOwnChanges&&this.connected){this.checkpointQueryValidators();this.observer.observe(this.root,this.observerOptions)}};MutationSummary.prototype.reconnect=function(){if(this.connected)throw Error('Already connected');this.observer.observe(this.root,this.observerOptions);this.connected=true;this.checkpointQueryValidators()};MutationSummary.prototype.takeSummaries=function(){if(!this.connected)throw Error('Not connected');var summaries=this.createSummaries(this.observer.takeRecords());return this.changesToReport(summaries)?summaries:undefined};MutationSummary.prototype.disconnect=function(){var summaries=this.takeSummaries();this.observer.disconnect();this.connected=false;return summaries};MutationSummary.NodeMap=NodeMap;MutationSummary.parseElementFilter=Selector.parseSelectors;MutationSummary.optionKeys={'callback':true,'queries':true,'rootNode':true,'oldPreviousSibling':true,'observeOwnChanges':true};return MutationSummary})();var TreeMirrorClient=(function(){function TreeMirrorClient(target,mirror,testingQueries){var _38=this;this.target=target;this.mirror=mirror;this.nextId=1;this.knownNodes=new MutationSummary.NodeMap();this.mutationSummaries=[];_458();var serializedRoot=this.serializeNode(target,true);var rootId=serializedRoot.id;this.mirror.initialize(rootId,[serializedRoot]);var queries=[{all:true}];if(testingQueries)queries=queries.concat(testingQueries);this.mutationSummaries.push(new MutationSummary({rootNode:target,callback:function(summaries){_38.applyChanged(summaries)},queries:queries}))}TreeMirrorClient.prototype.addShadowRoot=function(shadow){if(_315(shadow.host)||_409(shadow.host))return;const isKnownNode=this.isKnownNode(shadow);const isInitial=!isKnownNode;const data=this.serializeNode(shadow,isInitial);if(!data)return;if(!isKnownNode){data.parentNode=this.serializeNode(shadow.host);this.mirror.applyChanged({removed:[],addedOrMoved:[data],attributes:[],text:[]})}const existingSummary=this.mutationSummaries.find(m=>m.root===shadow);if(existingSummary)return;const _38=this;this.mutationSummaries.push(new MutationSummary({rootNode:shadow,callback:function(summaries){_38.applyChanged(summaries)},queries:[{all:true}]}))};TreeMirrorClient.prototype.disconnect=function(){this.mutationSummaries.forEach(function(mutationSummary){mutationSummary.disconnect()});this.mutationSummaries=[]};TreeMirrorClient.prototype.rememberNode=function(node){var id=this.nextId++;this.knownNodes.set(node,id);return id};TreeMirrorClient.prototype.forgetNode=function(node){this.knownNodes.deleteNode(node)};TreeMirrorClient.prototype.isKnownNode=function(node){return!!this.knownNodes.get(node)};TreeMirrorClient.prototype.serializeNode=function(node,isInitial){if(node===null)return null;if(_254(node,_330))return null;if(_254(node,_311))return null;var id=this.knownNodes.get(node);if(id!==undefined){if(isInitial)return _8('Found duplicated node during initial DOM: '+id,_14());return{id:id}}var data={nodeType:node.nodeType,id:this.rememberNode(node)};var parent=_24._88(node);if(_11._213(node,'data-mf-replace')||_11._213(node,'data-mf-replace-inner'))return null;var _548=_573(node),_637=!!_254(parent,_330);if(_548||_637){_8('CSS Blacklist blocked node. NodeType: '+node.nodeType+'. '+(node.nodeType===1?'Tag: '+node.tagName:''),_14());_332(node,_330,true);if(isInitial){for(const _64 of _24._208(node))this.serializeNode(_64,true)}if(_637)return null}var _549=_409(node),_733=!!_254(parent,_311);if(_549||_733){_8('CSS Masked blocked node. NodeType: '+node.nodeType+'. '+(node.nodeType===1?'Tag: '+node.tagName:''),_14());_332(node,_311,true);if(isInitial){for(const _64 of _24._208(node))this.serializeNode(_64,true)}if(_733)return null}switch(data.nodeType){case 9:this.serializeAdoptedStyleSheets(node,data);this.serializeChildNodes(node,data);break;case 11:data.isShadowRoot=_24._1075(node);this.serializeAdoptedStyleSheets(node,data);this.serializeChildNodes(node,data);break;case 10:data.name=node.name;data.publicId=node.publicId;data.systemId=node.systemId;break;case 8:case 3:if(node.nodeType===8&&node.textContent.indexOf('[if')!==0&&node.textContent.indexOf('<![endif]')!==0)break;data.textContent=_655(node);if(_749.test(data.textContent)&&!_1138(parent))data.textContent=data.textContent.replace(_749,' ');if(parent&&parent.tagName==='STYLE'&&/^\s*$/.test(node.textContent)){data.textContent=_428(parent.sheet)}break;case 1:if(node.tagName==='IFRAME'&&parent&&parent.tagName==='HEAD'){data.nodeType=8;data.textContent='';break}data.tagName=node.tagName;if(node.attributes['data-mf-replace']){let _350=node.attributes['data-mf-replace'].value;data=_698.call(this,_350,function(_20){var _10=this.serializeNode(_20,true);_10.id=data.id;this.knownNodes.set(_20,_10.id);return _10})[0];break}if(node.tagName==='SCRIPT'){if(/\/?aura_prod\.js(\?.+)?$/.test(node.src)){_8('Salesforce Aura script added');_1091();_1088()}break}data.attributes={};var _1023=_548||_549;if(_1023){_966(node,data)}else{_1032(node,data)}if(_548){data.attributes.class=node.className+' mf-excluded';break}if(_549){data.attributes.class=node.className+' mf-masked'}if(node===_404)data.attributes.class=(data.attributes.class||'')+' mf-scroll-main';if(_627.indexOf(node)!==-1)data.attributes.class=(data.attributes.class||'')+' mf-listen';if(node.tagName==='IFRAME'&&node.offsetWidth<=1&&node.offsetHeight<=1)data.attributes.src='';if(isInitial&&node.tagName==='INPUT'){if(!data.attributes.value&&node.value)data.attributes.value=_280(node);if(!data.attributes.checked&&node.checked)data.attributes.checked=node.checked}if(isInitial&&node.tagName==='OPTION'&&!data.attributes.selected&&node.selected)data.attributes.selected=node.selected;if(node.tagName==='INPUT'&&node.type==='hidden'&&data.attributes.value)data.attributes.value='';if(node.attributes['data-mf-replace-inner']){let _350=node.attributes['data-mf-replace-inner'].value;data.childNodes=_698.call(this,_350,function(_20){return this.serializeNode(_20,true)});break}if(isInitial){this.serializeChildNodes(node,data);if(node.shadowRoot){if(!data.childNodes)data.childNodes=[];var shadowRootData=this.serializeNode(node.shadowRoot,true);if(shadowRootData)data.childNodes.push(shadowRootData)}var cssDomain=node.tagName==='LINK'?node.href.split('/')[2]:'-1';var cssGetAllowed=_12.domain.indexOf(cssDomain)!==-1;var _1026=node.tagName==='LINK'&&node.href&&cssGetAllowed&&(node.href.indexOf('blob:')===0||_2.enableCssRecording);var _1027=node.tagName==='STYLE'&&!node.textContent;var cssRules=_1026||_1027?_428(node.sheet):null;if(cssRules){data.childNodes=[{nodeType:3,textContent:cssRules}];data.tagName='STYLE';data.href=undefined;data.rel=undefined}}break}return data};TreeMirrorClient.prototype.serializeAddedAndMoved=function(added,reparented,reordered){var _38=this;var all=added.concat(reparented).concat(reordered);var parentMap=new MutationSummary.NodeMap();all.forEach(function(node){var parent=_24._88(node);var children=parentMap.get(parent);if(!children){children=new MutationSummary.NodeMap();parentMap.set(parent,children)}children.set(node,true)});var moved=[];parentMap.keys().forEach(function(parent){var children=parentMap.get(parent);var keys=children.keys();while(keys.length){var node=keys[0];while(node.previousSibling&&children.has(node.previousSibling))node=node.previousSibling;var _243=false;while(node&&children.has(node)){if(_658(node))_243=true;else if(_666(node.previousSibling))_243=false;if(!_243){var data=_38.serializeNode(node);if(data){var _397=node.previousSibling;while(_397&&!data.previousSibling){data.previousSibling=_38.serializeNode(_397);_397=_397.previousSibling}data.parentNode=_38.serializeNode(_24._88(node));if(data.parentNode)moved.push(data)}}children.deleteNode(node);node=_24._514(node)}keys=children.keys()}});return moved};TreeMirrorClient.prototype.serializeAttributeChanges=function(attributeChanged){var _38=this;var map=new MutationSummary.NodeMap();Object.keys(attributeChanged).forEach(function(attrName){attributeChanged[attrName].forEach(function(element){if(element.hasAttribute&&element.hasAttribute('data-mf-replace')||_11._213(element,'data-mf-replace')||_11._213(element,'data-mf-replace-inner')){return}if(_573(element))_332(element,_330,true,true);if(_493(element))_332(element,_311,true,true);var record=map.get(element);if(!record){record=_38.serializeNode(element);if(record){record.attributes={};map.set(element,record)}}if(record){if(attrName.toLowerCase()==='value'&&element.tagName==='INPUT')record.attributes.value=_280(element);else if(attrName==='mf_adoptedStyleSheets')_38.serializeAdoptedStyleSheets(element,record);else record.attributes[attrName]=element.getAttribute(attrName)}})});return map.keys().map(function(node){return map.get(node)})};TreeMirrorClient.prototype.serializeTextChanges=function(textChanges){var _38=this;return textChanges.map(function(node){var data=_38.serializeNode(node);if(data){if(node.tagName==='STYLE'&&/^\s*$/.test(node.textContent))data.textContent=_428(node.sheet);else data.textContent=_655(node)}return data})};TreeMirrorClient.prototype.applyChanged=function(summaries){_458();var summary=summaries[0];['removed','added','reparented','reordered','attributeChanged','characterDataChanged'].forEach(function(key){if(!summary[key])summary[key]=[]});var _38=this;var removed=summary.removed.map(function(node){return _38.serializeNode(node)});var moved=this.serializeAddedAndMoved(summary.added,summary.reparented,summary.reordered);var attributes=this.serializeAttributeChanges(summary.attributeChanged);var text=this.serializeTextChanges(summary.characterDataChanged);this.mirror.applyChanged({removed:_401(removed),addedOrMoved:_401(moved),attributes:_401(attributes),text:_401(text)});summary.removed.forEach(function(node){_38.forgetNode(node)});summary.added.forEach(function(node){_357(node)})};TreeMirrorClient.prototype.serializeChildNodes=function(node,data){const children=_24._208(node);if(!children.length)return;data.childNodes=[];let _243=false;for(const child of children){if(_658(child))_243=true;else if(_666(child.previousSibling))_243=false;if(_243)continue;const serializedChild=this.serializeNode(child,true);if(serializedChild){data.childNodes.push(serializedChild)}}};TreeMirrorClient.prototype.serializeAdoptedStyleSheets=function(_20,_10){if(!_20.adoptedStyleSheets)return;var _38=this;_10.css=_20.adoptedStyleSheets.map(function(_143){var _405={id:_38.knownNodes.get(_143)};if(!_405.id){_405.id=_38.rememberNode(_143);_405.text=_428(_143)}return _405})};return TreeMirrorClient})();function _401(_1031){return _1031.filter(function(_83){return _83})}function _1032(node,data){for(var i=0;i<node.attributes.length;i++){var attr=node.attributes[i];if(_1001(attr.name.toLowerCase()))continue;if(attr.name.toLowerCase()==='value'&&node.tagName==='INPUT')data.attributes.value=_280(node);else data.attributes[attr.name]=attr.value}}function _458(){_364(_674,_2._256);_364(_644,_2._415);_364(_627,_2._339);_364(_673,_2._439);_364(_579,['.mf-form']);_207._445();_445();_1014()}function _364(_724,_739){_724.length=0;if(!_739.length)return;try{var _194=_156(_739.join(','),_12);for(var i=0;i<_194.length;i++){_724.push(_194[i])}}catch(e){}}function _445(){if(!_2.freezeElementIds)return;_2.freezeElementIds.forEach(function(_7){try{var _194=_156(_7,_12);_194.forEach(function(_20){if(_179.has(_20))return;if(_194.length>1)_7=_162(_20);_179.set(_20,_7)})}catch(e){}})}function _1014(){_283.clear();const _1024=_90._137();for(const _248 of _2._726){if(_248._310&&_248._310!=_1024)continue;let _282;if(_248._1277){const _660=_156(_248._25,_12);if(!_660?.length)continue;_282=_660}else{const _649=_413(_248._25,false);if(!_649)continue;_282=[_649]}if(_248._406){const _650=_283.get(_94._406._23);if(_650)_282.forEach(_20=>_650.add(_20));else _283.set(_94._406._23,new Set(_282))}if(_248._385){const _628=_283.get(_94._385._23);if(_628)_282.forEach(_20=>_628.add(_20));else _283.set(_94._385._23,new Set(_282))}}}function _156(_7,_26){try{var _45=[];_7.split(',').forEach(function(_7){var _37=_7.split(' > :document-fragment: > ',2);_26.querySelectorAll(_37[0]).forEach(function(_0){if(_37[1]&&_0.shadowRoot){_156(_37[1],_0.shadowRoot).forEach(function(_0){_45.push(_0)})}else{_45.push(_0)}})});return _45}catch(_35){_8('Could not get element from selector: '+_35.message)}}function _698(_350,_996){const _10=[];const _609=_12.createElement('div');_609.innerHTML=_350;for(const _997 of _24._208(_609)){const _998=_996.call(this,_997);_10.push(_998)}return _10}function _658(_20){return _20&&_20.nodeType===8&&_20.textContent.trim().toLowerCase().indexOf('mouseflowexcludestart')===0}function _666(_20){return _20&&_20.nodeType===8&&_20.textContent.trim().toLowerCase().indexOf('mouseflowexcludeend')===0}function _1001(_556){return _1011.test(_556)}function _428(_143){var _279='';try{if(!_143||!_143.cssRules)return _279}catch(e){return _279}for(var _4=0;_4<_143.cssRules.length;_4++){_279+=_143.cssRules[_4].cssText}return _279}function _1158(){_163({_19:_176+'install?websiteId='+_2._47,_113:function(){_8('Website installed signal sent.',_14())},_52:function(){_8('Error in transmitCrossDomain - could not signal that website was installed.',_14())}})}function _1179(_66){_163({_19:_176+'config?websiteId='+_2._47,_113:function(_69){var _1003=_11._370(_69._438);_2.keyLogging=_1003.enableKeystrokes;_8('Fetched recording script configuration.');_66()},_52:function(){_8('Error in transmitCrossDomain - could not fetch recording script configuration.');_66()}})}function _34(){if(_93){_8('Recording script is already started',_14());return}if(!_491){_8('Recording not started - recording script is not initialized',_14());return}_8('Recording starting, version '+_188+(_2.gdprEnabled?', GDPR mode enabled':'')+(_2._576?', privacy enforced':''),_14());if(!_754())return;_93=true;_1197();_458();_15._77=_1261(_1._741);if(_1008())_1009();_1._269=_188;_1005()}function _1005(){var _639=_1147();var _19=_176+'init?v='+_188+'&p='+_2._47+'&s='+_15._67+'&page='+_15._77+'&ret='+(_15._353?'1':'0')+'&u='+_15._205+'&href={href}'+'&url='+_120(_90._137())+'&ref={referrer}'+'&title='+_120(_12.title)+'&res='+_3.screen.width+'x'+_3.screen.height+'&tz='+_1267()+'&to='+_15._720+'&dnt='+_15._750+'&ori='+(typeof _3.orientation!='undefined'?_3.orientation:'')+'&dw='+_12.documentElement.clientWidth+'&dh='+_12.documentElement.clientHeight+'&time='+_1161()+'&pxr='+(typeof _3.devicePixelRatio!='undefined'?_3.devicePixelRatio:1)+(_639.length>0?'&fw='+_639.join(','):'')+'&gdpr='+(_2.gdprEnabled?1:0);_19=_19.replace('{href}',_1140(_19.length)).replace('{referrer}',_120(_2.referrer));_1144();if(_2.hasCustomHref)_135._849(['tag','mf_secret_custom-href']);var _727=_1082(_76._795-_19.length-6);_19+=_1061(_727);_163({_19:_19,_113:function(_69){if(_69._438==='Recording blocked'){_8('Recording not started - mf_block cookie set to 1',_14());return}const _635=parseInt(_69._438,10);if(isNaN(_635)){_8('Recording not started - init failed',_14());return}_1._794=_635;_727.forEach(function(_165){_813(_165.key,_165.value)});_195=true;_1065();_250._34(_15,_1,_352);_135._34();_940();_942();_921()},_995:true,_52:function(){_8('Error in transmitCrossDomain - recording not starting.',_14())}});_682();_1._127=null;_1268();_1._96={x:_3.pageXOffset,y:_3.pageYOffset};_622();_1._356=1;_471();_8('Recording started. '+'session: '+_15._67+', '+'page: '+_15._77+', '+'last page: '+_15._403+', '+'display URL: '+_90._137(),_14())}function _1008(){return!_15._67||!_1259()||(_1._269&&_1._269!=='0'&&_1._269!==_188)||(+new Date()-_1._383)>_76._525}function _1009(){_8('Starting new session');var _1010=_15._67;_15._67=_498();_1._180=[];_15._343=0;if(_15._67===_1010)throw Error('New session ID is identical to the old session ID. This might be because Math.random has been overwritten.')}function _65(_1012){if(!_93)return;_1064();_197=false;_653();_135._847();_17._123(_475);_17._123(_474);_17._123(_470);_17._142(_346);if(_305){_17._142(_305);_874()}if(_337){_17._142(_337);_742()}if(_542){_17._123(_542);_755()}_1195();if(!_1012)_30(_6._1036,{});_450();_195=false;if(_102)_102.disconnect();_250._65();_471();_1=_620();_8('Recording stopped',_14());_93=false;_529=false}function _418(_28,_79,_1063){if(_14()<100){var _1037=!_28||_28.toString()===_2.path;var _1038=(_79||_3.location).href===_2.location.href;if(_1037&&_1038)return}if(_93)_65();_2.htmlDelay=_2.newPageViewHtmlDelay;_2._562(_28,_79);_2.forcePath=!!_1063;_15._77='';_1._927=true;if(!_491)_299();_34();_467(0)}function _1064(){if(_1._140){if(+new Date()-_1._140<_2.registerSubmitTimeout){_8('Registering formSubmit',_14())}else{_8('Not registering formSubmit. Timeout exceeded.',_14());_1._127=null}}}function _561(){_65();_1168('mf_'+_2._47);if(_3.name&&((_3.name.length===35&&_3.name.indexOf('mf_')===0)||(_2.crossDomainSupport&&_3.name.indexOf('mf_'+_2._47)===0)))_3.name=''}function _1065(){if(_2.htmlFetchMode==='post'){_17._142(_725);_725=_17._39(function(){_1067()},_2.htmlDelay)}else{_8('Html not sent due to mouseflowHtmlFecthMode setting',_14())}}function _1067(){if(_102)_102.disconnect();const _61={_47:_2._47,_67:_15._67,_77:_15._77};_448({initialize,applyChanged});_357(_12.body);function initialize(_1068,_136){if(_61._77===_15._77)_197=true;_17._39(function(){_933({_61:_61,_10:{f:'initialize',args:[_1068,_136]},_171:_12.documentElement.innerHTML.length})},1)}function applyChanged(_204){const _1069=_14()-_1._588<30000;const _1070=_204.removed.length||_204.addedOrMoved.length||_204.attributes.length||_204.text.length;if(!_1069||!_1070)return;_981({_61:_61,_10:{f:'applyChanged',args:[_204.removed,_204.addedOrMoved,_204.attributes,_204.text]}})}}function _448(_748){if(_102)_102.disconnect();_102=new TreeMirrorClient(_12,{initialize:_748.initialize??function(){},applyChanged:_748.applyChanged??function(){}});_1237();_357(_12.body)}function _521(){if(_102)_102.disconnect()}function _755(){if(!_93)return;_1073();_1077();_1040()}function _1073(){const _1074=_3.dataLayer||[];const _743=[];let _375=_1074.filter(item=>item[0]==='event');for(let i=_1._442||0;i<_375.length;i++){_743.push({"eventName":_375[i][1],"eventObject":_375[i][2]})}_1._334.push(..._743);_1._442=_375.length}function _1077(){const _292=_3.s||[];if(typeof AppMeasurement==='undefined'||_292?.constructor!==AppMeasurement){return}const _32={props:{eventName:'props',eventObject:{}},eVars:{eventName:'eVars',eventObject:{}}};for(const key in _292){if(key.startsWith('prop')&&_292[key]!=null){_32.props.eventObject[key]=_292[key]}else if(key.startsWith('eVar')&&_292[key]!=null){_32.eVars.eventObject[key]=_292[key]}}const _692=_122(JSON.stringify(_32));if(_1._452!==_692){_1._452=_692;_1._334.push(_32.props,_32.eVars)}}function _540(_16,_5,_1080,_706){if(!_93)return;if(!_705(_16,_5))return;if(!_813(_16,_5)){_8('Variable already set to same value, not triggering callback.',_14());return}var _10={key:_16.toString(),value:_5.toString()||'',scope:_1080||'session',overwrite:_706===undefined?true:_706};_1._164.push(_10);_17._142(_337);_337=_17._39(_742,1000)}function _705(_16,_5){if(!_16||!_5){_8('Variable key and value cannot be empty',_14());return false}if(_16.includes('=')){_8('Variable key cannot contain "="',_14());return false}if(_16.length>100){_8('Variable key cannot be more than 100 characters',_14());return false}if(_5.length>2000){_8('Variable value cannot be more than 2000 characters',_14());return false}return true}function _1082(limit){var _84=_135._958();if(!_84.length)return[];var _164=[];var _708=0;for(var _50=0;_50<_84.length;_50++){var _59=_84[_50];if(!_59||!_59.length||_59[0]!=='setVariable')continue;if((_59.length>3&&_59[3]!=='session')||(_59.length>4&&_59[4]!==true))continue;var _16=_59[1];var _5=_59[2];if(!_705(_16,_5))continue;if(_788(_16)!==-1)continue;var _1062=_120(_16)+'='+_120(_5);_708+=_1062.length+1;if(_708-1>=limit)break;_164.push({key:_16,value:_5});_84.splice(_50,1);_50--}return _164}function _1061(_164){var _376=_164.map(function(_165){return _120(_165.key)+'='+_120(_165.value)}).join('&');return _376?'&vars='+_120(_376):''}function _742(){_337=0;for(var _4=0;_4<_1._164.length;_4++){var _165=_1._164[_4];_8('Setting custom variable: '+_165.key+' = '+_165.value+', overwrite: '+(_165.overwrite===undefined?true:_165.overwrite),_14())}_352('variable',_1._164);_1._164=[]}function _1040(){if(!_2.enableDataLayerCapture)return;if(_1._334.length)_352('datalayer',_1._334);_1._334=[]}function _87(_1041){_30(_6._87,{target:_1041})}function _539(){_30(_6._87,{target:'*'})}function _543(_1042){if(!_93)return;if(_2.gdprEnabled||_2._576){_8('User identification not allowed (privacy enforced in script)',_14());return}_352('identify',{userId:_15._205,userName:_1042})}function _547(_46){if(!_93)return;_8('Registering form submit attempt on this page',_14());_591(_603(_46))}function _345(_46){if(!_93)return;var _472=_14();if(_1._127===_122(_2.path||_2.location.pathname)||_472>5000){_8('Registering form submit success on this page',_14());if(!_1._127){_30(_6._361,{element:_603(_46)})}_30(_6._723,{});_1._140=undefined;_1._127=undefined}else{_17._39(function(){_8('Registering form submit success on previous page',_14());_527([{_22:_6._723}],_758())},_625())}}function _377(_46){if(!_93)return;var _472=_14();if(_1._127===_122(_2.path||_2.location.pathname)||_472>5000){_8('Registering form submit failure on this page',_14());if(!_1._127){_30(_6._361,{element:_603(_46)})}_30(_6._291,{});_139(_94._291);_1._140=undefined;_1._127=undefined}else{_17._39(function(){_8('Registering form submit failure on previous page',_14());_527([{_22:_6._291},{_22:_6._74,_21:_419(_94._291)},{_22:_6._87,_21:{target:_94._291._23}}],_758())},_625())}}function _758(){const _607=_15._118.find(_61=>_61._49===_15._403)?._82;if(_1._140&&_607&&_1._140>_607&&_1._140<_1._82){return _1._140-_607}return 0}function _625(){var _671=1000;var _665=new Date()-_1._140;return _665>_671?0:_671-_665}function _603(_46){if(_46 instanceof Element)return _46;const _1052=_1050.filter(_602=>_602._399===_46).map(_602=>_602._25);const _25=_1052[0];return _413(_25||_46)}function _591(_46){if(!_93||!_46||_315(_46))return;if((+new Date())-_1._621<20)return;_1._621=+new Date();const _399=_162(_46);_30(_6._361,{element:_46,target:_399});const _309=_969(_46);const _354=_1._354[_399];if(!_354){_1._354[_399]=_309}else{_1207(_309,_354)}_1211(_309);_970(_46);_1._140=+new Date();_1._127=_122(_2.path||_2.location.pathname);_682()}function _682(){if(!_1._127)return;var _244=_1058();if(_244.length){_1054(_244);return}if(_1._127!==_122(_2.path||_2.location.pathname)){_345()}}function _1054(_244){var _687=_244.filter(function(_2){return!_2.target})[0];if(_687){_696(_687);return}_917(function(){var _690=_244.filter(function(_2){return _2.target&&_988(_2.target)})[0];if(!_690)return false;_696(_690);return true},_76._1056,_76._1057)}function _1058(){if(!_2.forms)return[];var _244=_2.forms.filter(function(_384){if(_384.formPath&&_122(_384.formPath)!==_1._127)return false;if(_384.redirectPath&&_384.redirectPath!==_2.location.pathname)return false;return true});return _244}function _988(_25){var _0=_12.querySelector(_25.selector);if(!_0)return false;if(!_25.text)return true;return _0.textContent.toLowerCase().includes(_25.text.toLowerCase())}function _696(_2){if(_2.result==='success'){_345()}else if(_2.result==='failure'){_377()}}function _917(_66,_757,_936){var _82=new Date();var _719=function(){var _923=new Date()-_82;if(_923<_936&&!_66())_17._39(_719,_757)};_17._39(_719,_757)}function _139(_74,_0,_25){if(!_93||!_74)return;const _366=_935(_74,_0);const _446=_419(_74,_0,_25,_366);if(!_446)return;_30(_6._74,_446);if(!_366)_250._1030(_74._23)}function _419(_74,_0,_25,_366){let _329=+_74._5;let _23=_74._23||'custom-friction'+(_74._800?('-'+_74._800):'');if(_366)_23+='__MUTED';const _545=_1._426.findIndex(e=>e._23===_23&&e._25===_25);const _541=_545>-1?_1._426[_545]:null;if(_541){const _937=new Date()-_541._121;if(_937<_74._148)return;_1._426.splice(_545,1)}_1._426.push({_23:_23,_25:_25,_121:new Date()});if((_366||_541)&&!_23.includes('custom-friction'))_329=0;const _446={value:_23,element:_0,target:_25||'',x:_329>0?_329:0,y:_329<0?_329*-1:0,};return _446}function _935(_74,_0){if(!_0||!_74||!_2._726.length)return false;const _731=_283.get(_74._23);if(!_731)return false;if(_408(_0,(_939)=>_731.has(_939)))return true;return false}function _940(){if(_15._118.length<2)return;var _286=_15._118[_15._118.length-2];var _298=_15._118[_15._118.length-1];var _217=_122(_2.path||_2.location.pathname);if(_286._217===_217&&_286._217!==_298._217&&_1._82-_298._82<10000){_527([{_22:_6._74,_21:_419(_94._734)},{_22:_6._87,_21:{target:_94._734._23}}])}}function _942(){if(_15._118.length<4)return;var _736=_15._118[_15._118.length-5];var _286=_15._118[_15._118.length-4];if(_1._82-_286._82<30000){if(_736&&_286._82-_736._82<30000)return;_714(_286._49,[{_22:_6._74,_21:_419(_94._633)},{_22:_6._87,_21:{target:_94._633._23}}])}}function _921(){const _253=_507();const _926=_253.responseStatus;if(_926===404){_139(_94._473);return}const _922=_2.notFoundIdentifiers.map(a=>new RegExp(a,'i')).some(a=>a.test(_12.title));if(_922){_139(_94._473);return}}function _368(){if(!_93)return;_250._368.apply(_250,arguments)}function _924(){return{_67:'',_77:'',_205:'',_353:false,_720:+('ontouchstart'in _3&&_2.touchEvents),_750:(navigator.doNotTrack==='yes'||navigator.doNotTrack==1||window.doNotTrack==1||navigator.msDoNotTrack==1)?1:0,_343:0,_403:'',_118:[],_317:[],_424:_133._860(),_191:null}}function _620(){return{_741:new Date(),_82:+new Date(),_794:null,_340:+new Date(),_383:+new Date(),_927:false,_10:[],_161:[],_63:[],_676:[],_614:{},_166:[],_70:[],_181:[],_659:0,_652:0,_233:0,_484:'',_621:0,_275:[],_426:[],_159:{x:0,y:0},_616:{x:0,y:0},_672:{x:0,y:0},_694:-100,_96:{x:0,y:0},_249:{x:0,y:0},_632:new Map(),_641:new Map(),_461:-100,_489:-100,_193:{x:0,y:0},_663:{x:1,y:1},_670:{x:0,y:0},_513:[],_985:0,_238:[],_164:[],_356:1,_588:0,_710:0,_354:{},_180:[],_730:0,_779:0,_760:0,_317:[],_342:0,_231:0,_174:null,_160:_972(),_901:0,_646:0,_647:false,_457:false,_269:0,_640:false,_680:false,_334:[],_442:0,_452:'',}}function _656(_20,_53){let _136=[];for(const _64 of _24._208(_20)){if(_53&&_53(_64))_136.push(_64);_136=_136.concat(_656(_64,_53))}return _136}function _677(_46,_53){return _46.elements?Array.from(_46.elements).filter(_53):_656(_46,_53)}function _969(_46){const _136=_677(_46,function(_9){return/input|select|textarea/i.test(_9.tagName)&&!/hidden|submit|reset|image|button/i.test(_9.type)});const _273=new Map();for(const _0 of _136){const _25=_162(_0);const _5=_265(_0);const _132=_273.get(_25);if(_132){_132._5+=', '+_5}else{const _7=null;_273.set(_25,{_25,_7,_5})}}return _273}function _970(_46){if(!_15._424)return;var _136=_677(_46,function(_9){return/input|textarea/i.test(_9.tagName)&&!/hidden|submit|reset|image|file|button|password/i.test(_9.type)});_136.forEach(function(_9){var _5=_265(_9);if(!_5||_5.length<=3||_236(_5)||_574(_9))return;var _126=_624(_5);if(_126.length===0)return;var _219=[];for(let _4=0;_4<_126.length;_4++){_219.push(_126[_4]._131)}var _222=false;for(let _4=0;_4<_1._160.length;_4++){var _349=_1._160[_4];_222=_219.length===_349.length&&_661(_349,_219)===0;if(_222)break}if(!_222)_1._160.push(_219)});if(_1._160.length){_1._160=_1._160.slice(-100);_971(_1._160)}}function _971(_63){_60._277('mf_replaceHashes',_63)}function _972(){return _60._262('mf_replaceHashes')||[]}function _986(_5){if(_1._160.length===0)return _5;var _126=_624(_5);for(var _4=0;_4<_1._160.length;_4++){var _349=_1._160[_4];var _214;do{var _149=_214!==undefined?_214+1:0;_214=_661(_126,_349,_149);if(_214!==-1){var _34=_126[_214]._34;var _281=_126[_214+_349.length-1]._281;var _975=_1142('*',_281-_34);_5=_5.slice(0,_34)+_975+_5.slice(_281)}}while(_214!==-1)}return _5}function _624(_5){var _219=[];var _34;function _617(_281){if(_34===undefined)return;var _613=_5.slice(_34,_281);_219.push({_34:_34,_281:_34+_613.length,_131:_122(_613)});_34=undefined}for(var _4=0;_4<_5.length;_4++){var _515=_5[_4];if(_1143(_515)){if(_34===undefined){_34=_4}}else{_617(_4)}}_617();return _219}function _661(_257,_126,_149){for(var _4=_149||0;_4<_257.length;_4++){if(_4+_126.length>_257.length)break;if(_982(_257,_126,_4))return _4}return-1}function _982(_257,_126,_149){var _222=false;for(var _4=_149||0,_145=0;_4<_257.length&&_145<_126.length;_4++,_145++){_222=_257[_4]._131===_126[_145];if(!_222)break}return _222}function _265(_0){let _5='';if(_0.type&&/radio|checkbox/.test(_0.type.toLowerCase())){_5=_0.checked?_0.value:''}else if(_0.tagName&&/select/.test(_0.tagName.toLowerCase())&&_0.options){for(let j=0;j<_0.options.length;j++){const _220=_0.options[j].selected?_0.options[j].value:'';if(_220&&_220!='')_5+=(_5&&_5!=''?',':'')+_220}}else{_5=_0.value}return _5||''}function _280(_0){if(_0.type==='password')return'*';var _5=_265(_0);if(_619(_0)){_5=_5.replace(/./g,_642(_0.type))}else if(_618(_0)&&!_574(_0)){_5=_5.slice(0,2)+_5.slice(2).replace(/./g,_642(_0.type))}return _5}function _655(_0){var _251=_0.textContent;if(_0.nodeType===3&&_24._88(_0))_0=_24._88(_0);var _654=_986(_251);if(_654!==_251&&_2.replaceLastFormValues)_251=_654;if(_952(_0))_251=_251.replace(/./g,'*');return _251}function _966(_20,_10){var _645=_876(_20);if(_20.id)_10.attributes.id=_20.id;if(_20.name)_10.attributes.name=_20.name;_10.attributes.style=(_20.style?_20.style.cssText+'; ':'')+'width: '+_645.width+'px; height: '+_645.height+'px;'+(_3.getComputedStyle(_20).display==='inline'?' display: inline-block;':'')}function _574(_0){return _11._187(_0,'mouseflow')||_644.indexOf(_0)!==-1}function _315(_0){if(!_0)return false;if(_0[NodeMap.ID_PROP])return!!_254(_0,_330);if(_408(_0,_573))return true;return false}function _493(_0){if(!_0)return false;if(_0[NodeMap.ID_PROP])return!!_254(_0,_311);if(_408(_0,_409))return true;return false}function _573(_0){return _674.indexOf(_0)!==-1||_11._187(_0,'no-mouseflow-dom')||_11._187(_0,'mf-excluded')}function _409(_0){return _673.indexOf(_0)!==-1||_11._187(_0,'mf-masked')}function _678(_0){return _11._187(_0,'no-mouseflow')||(!_2.keyLogging&&!_574(_0))||_315(_0)||_493(_0)}function _619(_0){return(_678(_0)||_236(_265(_0))||_954(_0))&&_643(_0)&&!_951.test(_0.type)}function _952(_0){return(_0.isContentEditable||_0.tagName==='TEXTAREA')&&_678(_0)}function _954(_0){return(_2.gdprEnabled||_2._576)&&(_959(_0)||_961(_0))}function _236(_5){var _577=_5.replace(/[-\s]+/g,'');if(!_955.test(_577)||!_956.call(this,_577))return false;return!_957.every(function(_664){if(_664.patternRegex.test(_577)){_8("Identified credit card "+_664.name);return false}return true})}function _959(_0){return/email/i.test(_0.type)||_960.test(_0.value)}function _961(_0){return/tel/i.test(_0.type)}function _618(_0){return _643(_0)&&/^\d{3}[^a-z]*$/i.test(_0.value)}function _643(_0){return _0.tagName==='INPUT'||_0.tagName==='TEXTAREA'}function _642(_963){return/number/i.test(_963)?'0':'*'}function _1271(_42){return _619(_42.target)||_618(_42.target)?'191':(_42.which&&_42.which.toString())||''}function _1260(_0){var _612=_162(_0);var _435=_1._614[_612];var _432=_280(_0);var _32=_432;if(_435&&_435.length>3&&_432.indexOf(_435)===0)_32='+||'+_432.substring(_435.length);_1._614[_612]=_432;return _32}function _1207(_274,_610){try{const _1208=new Set(_274.keys());const _1209=new Set(_610.keys());for(const _16 of _1208.union(_1209)){const _200=_274.get(_16);const _623=_610.get(_16);const _132=_200??_623;if(_200?._5===_623?._5)continue;_30(_6._504,{target:_132._25,selector:_132._7})}}catch(_35){_8('Error in _addChangedFieldEvents: '+_35.message,_14())}}function _1211(_309){try{for(const[,_132]of _309){if(_132._5)continue;_30(_6._508,{target:_132._25,selector:_132._7})}}catch(_35){_8('Error in getBlankFields: '+_35.message,_14())}}function _503(_0){if(_579.includes(_0))return null;return _0.form||_579.filter(function(_46){return _46.contains(_0)})[0]||null}function _1228(){_1214();_1227()}function _471(){_1215();_752()}function _1214(){var _638=_883('mf_user').split('|');for(var _4=0;_4<_638.length;_4++){var _85=_638[_4];switch(_4){case 0:_15._205=_85;break;case 1:_15._317=_85!==''?_85.split(/[$,]+/):[];break}}_15._353=_15._205!=='';if(_15._205===''||_15._205==='1')_15._205=_498();_1._640=true}function _1215(){if(!_1._640)return;_895('mf_user',[_15._205,_15._317.join('$')].join('|'),1,_11._325(_79,_2))}function _1227(){var _630=_883('mf_'+_2._47).split('|');for(var _4=0;_4<_630.length;_4++){var _85=_630[_4];switch(_4){case 0:_15._67=_85;break;case 1:_15._118=_1203(_85,_15._77);break;case 2:_1._383=parseInt(_85,10);break;case 3:_1._180=_85!==''?_85.split('.'):[];break;case 4:_15._343=parseInt(_85,10);break;case 5:_1._127=_85;break;case 6:_1._140=parseInt(_85,10);break;case 7:_1._317=_85!==''?_85.split(/[$,]+/):[];break;case 8:_15._353=_85==='1';break;case 9:_1._269=_85;break;case 10:_15._191=parseFloat(_85);break;case 11:_1._442=parseInt(_85,10);break;case 12:_1._452=_85;break}}if(!_15._67)_15._67=_2.sessionId||_1221();if(!_15._191)_15._191=_1222();var _298=_15._118[_15._118.length-1];if(_298)_15._403=_298._49;_1._680=true}function _1221(){var sessionId=_626();return sessionId&&sessionId.length===32?sessionId:null}function _1222(){var recordingRate=_626();return/^\d+\.\d+$/.test(recordingRate)?parseFloat(recordingRate):null}function _626(){return _2.crossDomainSupport&&_3.name&&_3.name.indexOf('mf_'+_2._47)===0?_3.name.split('=')[1]:null}function _752(){if(!_1._680)return;_895('mf_'+_2._47,[_15._67,_1184(),_1._383,_1._180.join('.'),_15._343,_1._127||'',_1._140||'',_1._317.join('$'),_15._353?'1':'0',_1._269,_15._191,_1._442||0,_1._452||''].join('|'),0,_11._325(_79,_2));if(_2.crossDomainSupport)_3.name='mf_'+_2._47+'='+(_15._67||_15._191)}function _1203(_5,_77){return _5.split(/[$,]+/).map(function(_61){var _63=_61.split('.');return{_49:_63[0],_217:_63[1],_82:+_63[2]}}).filter(function(p){return p._49!==_77}).slice(-5)}function _1184(){var _536=_15._118;if(_15._77){_536=_536.concat([{_49:_15._77,_217:_122(_2.path||_2.location.pathname),_82:_1._82}]).slice(-6)}return _536.map(function(_61){return _61._49+'.'+_61._217+'.'+_61._82}).join('$')}var _441='__mouseflow_properties__';var _330='is-blacklisted';var _311='is-masked';function _254(_20,_16){if(!_20)return null;var _264=_20[_441];return _264?_264[_16]:null}function _332(_20,_16,_5,_1192){var _264=_20[_441];if(!_264)_264=_20[_441]={};_264[_16]=_5;if(_1192){for(const _64 of _24._208(_20)){_332(_64,_16,_5,true)}}}function _740(_20){delete _20[_441];for(const _64 of _24._208(_20)){_740(_64)}}function _1195(){_740(_12.body)}function _1197(){_1._82=+new Date();_1._340=+new Date();_475=_17._184(_622,_76._738);_474=_17._184(_943,_76._1198);_470=_17._184(_499,_76._1199);_346=_17._39(_148,_76._525);if(_2.enableDataLayerCapture)_542=_17._184(_755,_76._1202)}function _1177(){if(!_789(_2.location.hostname))return false;if(_882()){_8('Recording not started - browser is IE8 or older');return false}return _754()}function _754(){_1228();if(_2.forceStart)return true;if(_1256()){_8('Recording not started - session ID is invalid.',_14());return false}if(_1264()){_8('Recording not started - honored "do not track" browser setting.',_14());return false}if(_1257()){_8('Recording not started - the browser was identified as a bot.',_14());return false}if(!_328._566(_189)){_8('Recording not started - page does not match page rules',_14());return false}var _455=_1232.filter(function(_78){return _328._296(_78)}).sort(_1272)[0];if(_455){_203=_455._203;_8('Recording rate set from page recording rule: '+_455._22+', "'+_455._5+'"',_14())}if(!_15._191)_15._191=_1273();var _751=_15._67||_15._191<=_203;if(!_751)_8('Recording not started - recordingRate or blocked',_14());_752();return _751}function _1272(_1258,_1265){return _1265._203-_1258._203}function _1273(){return _115.round(_115.random()*10000000)/100000}function _1264(){return _2.honorDoNotTrack&&_15._750}function _1256(){return _15._67&&_15._67.length!=32}function _1257(){if(_2.enableBots)return false;return _3.navigator.webdriver||/ptst|headlesschrome|lighthouse/i.test(_3.navigator.userAgent)}function _1259(){return(_15._343<_76._1254)}function _1261(_121){return _454(_121.getMonth()+1,2)+_454(_121.getDate(),2)+_454(_121.getSeconds(),2)+_454(_121.getMilliseconds(),3).slice(1)+_498()}function _454(_1263,_239){return(new Array(_239+1).join('0')+_1263).slice(-_239)}function _1267(){var _747=new Date();return _115.max(new Date(_747.getFullYear(),0,1).getTimezoneOffset(),new Date(_747.getFullYear(),6,1).getTimezoneOffset())}var _681=false;function _1268(){try{_594(_12);_104(_12,'mousemove',function(_9){_1._159={x:_9.pageX,y:_9.pageY}});_592(_12.documentElement,'mouseleave',function(){_30(_6._1269,{});_87('mouse-out')});_104(_12,'mousedown',function(_9){_1180(_9,_9.target)});_104(_12,'mouseup',function(_9){_1172(_9,_9.target)});_695(_12,'click',_704,function(_9){_1174(_9,_9.delegatedTarget||_9.target);if(!_9.delegatedTarget){const stylesBeforePotentialMutation={..._715(_9.target)};if(_2.enableDeadClick)_17._39(()=>_1239(_9,stylesBeforePotentialMutation),1)}});try{var _546=_1137();if(_546){_592(_12,'mouseenter',_546,function(_9){var _229=_400(_6._235).filter(function(_83){return _9.delegatedTarget&&_9.delegatedTarget.matches(_83._7)})[0];if(_229)_87(_229._87);_30(_6._235,{x:_9.pageX,y:_9.pageY,element:_9.target})});_592(_12,'mouseleave',_546,function(_9){_30(_6._314,{x:_9.pageX,y:_9.pageY,element:_9.target})})}}catch(_35){_8('Error in getHoverSelectors: '+_35.message,_14())}_104(_12,'focus','input,textarea,select,button',function(_9){_30(_6._518,{element:_9.target})});_104(_12,'blur','input,textarea,select,button',function(_9){_30(_6._533,{element:_9.target})});_104(_12,'keypress','input,textarea,select',function(_9){if(_9.target&&_9.target.type!=='password'){_30(_6._453,{element:_9.target})}});_104(_12,'keydown','input,textarea,select',function(_9){if(_9.target&&_9.target.type!=='password'){_30(_6._323,{element:_9.target,value:_1271(_9)})}});_104(_12,'keyup','input,textarea,select',function(_9){if(_9.target&&_9.target.type!=='password'){_30(_6._316,{element:_9.target,value:_1260(_9.target)});if(_236(_265(_9.target))&&_2.autoTagPayments)_87('payment')}});_104(_12,'change','input,textarea,select',function(_9){_30(_6._255,{element:_9.target,value:_280(_9.target)});if(_9.target&&['password','file'].indexOf(_9.target.type)===-1&&_236(_265(_9.target))&&_2.autoTagPayments)_87('payment')});_597(_12);if(_15._720){_104(_12,'touchstart',function(_9){var _112=_9.touches;if(_112.length>0){_30(_6._495,{x:_112[0].pageX,y:_112[0].pageY})}if(_112.length>1){_30(_6._531,{x:_112[1].pageX,y:_112[1].pageY})}});_104(_12,'touchmove',function(_9){var _112=_9.touches;var _410=_14();var _551=_410-_76._738;if(_112.length>0&&_1._694<_551){_30(_6._490,{x:_112[0].pageX,y:_112[0].pageY});if(_112.length>1){_30(_6._530,{x:_112[1].pageX,y:_112[1].pageY})}_1._694=_410;var _1231=!_172(_447(),_1._193);if(_1231){_1._193=_447();_30(_6._430,_1._193);if(_1._489<_551){_30(_6._430,_1._193);_1._489=_410}}_1._96={x:_3.pageXOffset,y:_3.pageYOffset};if(_1._461<_551&&!_172(_1._96,_1._249)){_1._249=_1._96;_30(_6._440,_1._96);_1._461=_410}}});_104(_12,'touchend',function(_9){var _112=_9.touches;if(_112.length===0)_30(_6._416,{x:0,y:0});if(_112.length>1)_30(_6._528,{x:0,y:0})});if(_3.screen.orientation){_104(_3.screen.orientation,'change',function(){_30(_6._511,{x:_3.screen.orientation.angle,y:0})})}}_104(_3,_1151(),function(){_65()});var _689=_3.onerror;_3.onerror=function(_110,_19,_601,_599,_182){var _1235=new Date()-_1._231;if(_1235>1000&&_1._342<50){_1._231=+new Date();var _555='Malformed error';if(_110&&_110.message)_555=_110.message;else if(typeof _110==='string')_555=_110;_1._174={_110:_555,_19:typeof _19==='string'?_19:'Malformed URL',_601:''+_601,_599:''+_599,_1109:_182&&_182.stack&&_182.stack.substring(0,800),_1278:_1._231};if(_1._233!==0&&_1._231-_1._233<100){const _0=_413(_1._484);_139(_94._668,_0,_1._484);_667()}}if(_689)_689.apply(this,arguments)};if(_2.keyLogging)_1135()}catch(_35){_8('Error in bindDomEvents: '+_35.message,_14())}}function _1237(){if(_681)return;try{if(_2.proxyAttachShadow)_278();_722();_1111();if(_2.proxyValueSetter)_732()}catch(_35){_8('Could not initialize proxies: '+_35.message,_14())}finally{_681=true}}function _1239(_9,_688){if(_712(_9))return;if(_560(_9.target))return;const _1241=_3.getSelection();const _1251=(_707(_9.target)||_1117(_688)||_560(_9.target)||_1113(_9.target)||_712(_9)||_1241.type==='Range');if(_1251)return;if(_1118(_9.target,_688)||_1120(_9.target,_9.clientX,_9.clientY)||_1112(_9.target)){_700(_9.target);return}const _225=_735(_9.target);if(_225){_700(_9.target,_225)}}function _700(_0,_1245=null){_139(_94._406,_0);_1246(_1245??_0)}function _1246(_1248){if(!_2.debugDeadClick){if(_558){for(const _0 of _12.getElementsByClassName(_306)){_0.classList.remove(_306)}}return}if(!_558){const _81=_12.createElement('style');_81.textContent=`.${_306} { outline: solid red }`;_12.head.append(_81);_558=true}const _45=new Set([..._12.getElementsByClassName(_306),_1248]);for(const _0 of _45){_0.classList.toggle(_306)}}function _711(_713){return _713==='true'||_713==='plaintext-only'}function _712(_9){const _1200=_9.target.getAttribute('contenteditable');if(_711(_1200)){return true}const _1181=_9.target.closest('[contenteditable]');const _1133=_1181?.getAttribute('contenteditable');if(_711(_1133)){return true}}function _1112(_0){return _0&&_0.tagName==='I'}function _560(_0){return _0&&_0.tagName==='LABEL'&&_0.control&&_707(_0.control)}function _1113(_0){const _709=_0.closest('label');return _709&&_560(_709)}function _707(_0){return _0.matches(_704)}function _1117(_304){return _304.cursor&&_304.cursor!=='default'&&_304.cursor!=='auto'}function _1118(_0,_304){return _0.tagName==='IMG'||_0 instanceof SVGElement||_304.backgroundImage?.startsWith('url')}function _1120(_0,x,y){for(const node of _24._208(_0)){if(node.nodeType!==Node.TEXT_NODE){continue}const _679=_12.createRange();_679.selectNodeContents(node);for(const rect of _679.getClientRects()){if(rect.left<x&&rect.right>x&&rect.top<y&&rect.bottom>y){return true}}}return false}function _735(_0,_701=1){if(!_0||_701>5)return null;const _81=_715(_0);const _1132=parseInt(_81.borderWidth,10);const _1123=parseInt(_81.outlineWidth,10);if(_1132>0||_1123>0)return _0;return _735(_24._1079(_0),_701+1)}function _715(_0){let _81=_303.get(_0);if(_81)return _81;_81=_3.getComputedStyle(_0);_303.set(_0,_81);if(_303.size>100)_303.delete(_303.keys().next().value);return _81}function _594(_26){_695(_26,'scroll','body,div,section,main,article,ul,.mf-scroll-listen',function(_9){if(_9.target===_12){_1._96={x:_3.pageXOffset,y:_3.pageYOffset}}else if(_9.target===_404){_1._96={x:_9.target.scrollLeft,y:_9.target.scrollTop}}else{const _25=_162(_9.target);_1._632.set(_25,{target:_25,selector:null,x:_9.target.scrollLeft,y:_9.target.scrollTop})}})}function _597(_26){_104(_26,'click','.mf-form-button',function(_9){_591(_503(_9.target))});_104(_26,'submit','form',function(_9){_591(_9.target)})}function _104(_25,_6,_53,_66){_27._41(_25,_6,_53,_66,{_98:true})}function _592(_25,_6,_53,_66){_27._41(_25,_6,_53,_66,{_98:true,_417:true})}function _695(_25,_6,_53,_66){_27._41(_25,_6,_53,_66,{_98:true,_949:true})}function _1111(){var _1121=CSSStyleSheet.prototype.insertRule;var _746;var _270=[];CSSStyleSheet.prototype.insertRule=function(){_1121.apply(this,arguments);if(!_197)return;var _20=this.ownerNode;if(_270.indexOf(_20)<0)_270.push(_20);_17._142(_746);_746=_17._39(function(){_270=_270.filter(function(_20){return _20&&_102.isKnownNode(_20)});_102.applyChanged([{characterDataChanged:_270}]);_270=[]},200)}}var _593=HTMLElement.prototype.attachShadow;var _411=false;function _1088(){var _82=new Date();var _1090=_17._184(function(){var _1089=new Date()-_82;if(HTMLElement.prototype.attachShadow!==_593||_1089>10000){_17._123(_1090);_278()}},200)}function _1091(){if(!_411||HTMLElement.prototype.attachShadow!==_753)return;_8('Resetting "attach shadow" proxy');delete HTMLElement.prototype.attachShadow;_411=false}function _278(){if(_411)return;if(!_197){_17._39(_278,200);return}_8('Setting up "attach shadow" proxy');_593=HTMLElement.prototype.attachShadow;HTMLElement.prototype.attachShadow=_753;_411=true}function _753(){var _105=_593.apply(this,arguments);if(_197&&_102.isKnownNode(this)){_594(_105);_597(_105);_102.addShadowRoot(_105)}return _105}function _357(_0){if(_0.shadowRoot){_594(_0.shadowRoot);_597(_0.shadowRoot);_102.addShadowRoot(_0.shadowRoot);_357(_0.shadowRoot)}for(let _64=_0.firstElementChild;_64;_64=_64.nextElementSibling){_357(_64)}}function _722(){if(!_197){_17._39(_722,200);return}_363(Document.prototype,'adoptedStyleSheets',{_125:_729});_363(ShadowRoot.prototype,'adoptedStyleSheets',{_125:_729})}function _729(){if(!_197)return;_102.applyChanged([{attributeChanged:{'mf_adoptedStyleSheets':[this]}}])}function _732(){if(!_197){_17._39(_732,200);return}_363(HTMLInputElement.prototype,'value',{_125:_589});_363(HTMLTextAreaElement.prototype,'value',{_125:_589});_363(HTMLSelectElement.prototype,'value',{_125:_589})}function _589(){if(!_102.isKnownNode(this))return;_102.applyChanged([{attributeChanged:{'value':[this]}}])}function _363(_20,_718,_365){var _606=Object.getOwnPropertyDescriptor(_20,_718);if(!_365||!_606)return;Object.defineProperty(_20,_718,{get:function(){var _5=_606.get.apply(this,arguments);if(_365._158)_365._158.apply(this,arguments);return _5},set:function(){_606.set.apply(this,arguments);if(_365._125)_365._125.apply(this,arguments)}})}function _667(){if(_1._174){_1._342++;var _10={seq:_1._342,errorMsg:_1._174._110,url:_1._174._19,line:_1._174._601,col:_1._174._599,stack:_1._174._1109,errorTime:_1._231};_30(_6._52,{x:_1._342,y:0});_8('JS error '+_1._342+', msg: '+_1._174._110,_14());_352('error',_10);_1._174=null}}function _653(){_27._856();if(_534)_17._123(_534)}function _1135(){_1._676=_648();_534=_17._184(function(){const _274=_648();_1165(_274,_1._676)},200)}function _648(){const _45=_12.querySelectorAll('input,textarea,select');const _273=new Map();for(const _0 of _45){if(_11._187(_0,'no-mouseflow'))continue;if(!_1162(_0,['text','textarea','select-one']))continue;const _25=_162(_0);const _7=null;const _5=_280(_0);_273.set(_25,{_25,_7,_5})}return _273}function _1162(_132,_1163){return _132.type&&new RegExp(_1163.join('|'),'i').test(_132.type)}function _1165(_274,_615){if(_14()-_1._710<100)return;for(const[_16,_200]of _274){const _636=_615.get(_16);if(_636&&_636._5!==_200._5){_30(_6._255,{target:_200._25,selector:_200._7,value:_200._5})}_615.set(_16,_200)}}function _1180(_9,_0){if((+new Date())-_1._659<20)return;_1._659=+new Date();_30(_6._301,{x:_9.pageX,y:_9.pageY,element:_0})}function _1172(_9,_0){if((+new Date())-_1._652<20)return;_1._652=+new Date();const _111=_675(_0,_9.pageX,_9.pageY);if(!_111)return;_30(_6._319,{x:_111.x,y:_111.y,element:_111._0})}function _1174(_9,_0){if((+new Date())-_1._233<20)return;var _25=_162(_0);_1._233=+new Date();_1._484=_25;_30(_6._227,{x:_9.pageX,y:_9.pageY,element:_0,target:_25});_1._275.push(_1._233);_1._275=_1._275.slice(-5);if(_1._275[4]-_1._275[0]<1000){_139(_94._385,_0,_25);_1._275=[]}if(_1._233!==0&&_1._231!==0&&_1._233-_1._231<100){_139(_94._668,_0,_25);_667()}var _229=_400(_6._227).filter(function(_83){return _0.matches(_83._7)})[0];if(_229){_87(_229._87);if(_229._693)_17._39(()=>_418(_229._693,null,true),1)}}function _675(_0,_362,_358){let _111=_477(_0,_362,_358);if(!_111){if(_0?.firstElementChild){_111=_477(_0.firstElementChild,_362,_358)}else if(_0?.parentElement){_0=_0.parentElement;_111=_477(_0,_362,_358)}}if(_111){_111._0=_0}return _111}function _477(_20,_362,_358){var _44=_876(_20);if(_44==null||!_44.height||!_44.width)return null;return{x:parseInt((_362-_1._96.x-_44.x)/parseFloat(_44.width)*65535),y:parseInt((_358-_1._96.y-_44.y)/parseFloat(_44.height)*65535)}}function _1136(){const _36=['a','input','select','button','textarea','.mf-listen-click'];_36.push.apply(_36,_717(_400(_6._227)));return _36.slice(0,1000).join(',')}function _1137(){var _744={};var _756=/[^(]:hover/;if(_2.useAllHoverSelectors){for(var _4=0;_4<_12.styleSheets.length;_4++){var _155=_12.styleSheets[_4];try{var _279=_155.cssRules?_155.cssRules:_155.rules;for(var _145=0;_145<_279.length;_145++){var _728=_155.cssRules[_145];if(!_756.test(_728.selectorText))continue;let _36=_728.selectorText.split(',');var _7;for(var _478=0;_478<_36.length;_478++){_7=_36[_478].replace(/^\s+|\s+$/g,'');if(_756.test(_7)){_7=_7.substring(0,_7.indexOf(':hover'));_7=_1152(_7);_744[_7]=true}}}}catch(_35){_8('Cannot inspect external css file, :hover support may fail: '+_155.href)}}}let _36=['a','input','select','button','textarea','li','canvas','.mf-listen'];for(_7 in _744){_7=_7.replace(/^\s+|\s+$/g,'');if(_7!=''&&_7!='a'&&!_300(_7,' a')&&!_300(_7,' select')&&!_300(_7,' submit')&&!_300(_7,' textarea')&&!_300(_7,' li'))_36.push(_7)}_36.push.apply(_36,_2._339);_36.push.apply(_36,_717(_400(_6._235)));return _36.slice(0,1000).join(',')}function _400(_1156){var _1146={5:'Click',6:'Mouseover'};let _691=_90._137();var _683=_2._697.filter(function(_516){return _516._693===_691}).map(function(_516){return _516._310});_683.push(_691);var _519=_2._697.filter(function(_83){return _83._42===_1146[_1156]&&(!_83._310||_83._310===_2.location.href||_683.includes(_83._310))});return _519}function _717(_519){return _519.map(function(_83){return _83._7})}function _408(_20,_702,_522){if(!_522)_522=1000;for(let _4=0;_4<_522;_4++){if(!_20||!_702)return null;if(_702(_20))return _20;_20=_24._88(_20)??_20.host}return null}function _1152(_51){var _703=[/:active/g,/:visited/g,/::before/g,/:before/g,/::after/g,/:after/g,/::first-letter/g,/::first-line/g,/::selection/g];for(var _4=0;_4<_703.length;_4++)_51=_51.replace(_703[_4],'');return _51}function _120(_1153){try{return _3.encodeURIComponent(_1153)}catch(_35){_8('Encode error: '+_35.message,_14());return''}}function _950(_5){return _5.replace(/%/g,'%25').replace(/\|{3}/g,'%7C%7C%7C')}function _30(_22,_21){if(!_93)return;if(_1._10.length===0)_1._340=+new Date();var _43=_685(_22,_21,_1._166,_1._63,_881());if(!_43)return;if(_1243(_22)){_17._142(_346);_346=_17._39(_148,_76._525);_1._588=_14();_1._383=+new Date()}if(_737(_22))_1._710=_14();if(_1210(_43)){_450();if(_43._5!==undefined)_43._10[_43._10.length-1]=0;_1._10=_43._10;_1._10[0]=0;_1._10[1]=0;if(_43._70.length)_1._70.push(..._43._70);if(_43._5!==undefined)_1._63.push(_43._5);if(_43._206!==undefined)_1._181.push(_43._206)}else{_1._10=_1._10.concat(_43._10);if(_43._70.length)_1._70.push(..._43._70);if(_43._5!==undefined)_1._63.push(_43._5);if(_43._206!==undefined)_1._181.push(_43._206);if(_22===_6._416){_450()}}}function _1210(_43){const _1085=_379(_1._70)+_379(_43._70);const _1155=_379(_1._63)+_379(_43._5);const _1154=_1._10.length+_43._10.length+_1085+_1155;return _1154>_76._686}function _527(_532,_196){_714(_15._403,_532,_196)}function _714(_77,_532,_196=0){var _10=[],_166=[],_70=[],_63=[],_181=[];let _492=0;_532.forEach(function(_42,_50){if(!_42._21)_42._21={};_492=_50+1;var _43=_685(_42._22,_42._21,_166,_63,_492);if(!_43)return;_10=_10.concat(_43._10);if(_43._70.length)_70.push(..._43._70);if(_43._5!==undefined)_63.push(_43._5);if(_43._206!==undefined)_181.push(_43._206)});const _186=_657(_196,_10,_70,_63,_181);const _1139=_196+_492;const _684={_19:_176+'events?w='+_2._47+'&s='+_15._67+'&p='+_77+'&v='+_188+'&pst='+_271()+'&li='+_1139+'&lh=0&ls=0'};_684._10='d='+_186;_163(_684)}function _685(_22,_21,_166,_63,_1169){var _70=[];var _5=_21.value;var _206;var _10=[];_10._888=false;if(_1125(_22)&&!_1124(_21))return null;if(_21.value&&_21.value.length>_76._686){_8('Event, type: '+_22+', skipping due to large value, details: '+_501(_21),_14());return null}_185(2,_1169,_10);_185(1,_22,_10);if(_21.x<0)_21.x=0;if(_21.y<0)_21.y=0;if(_21.x>65534)_21.x=65534;if(_21.y>65534)_21.y=65534;if(_21.x!=undefined)_185(2,_21.x,_10);if(_21.y!=undefined)_185(2,_21.y,_10);if(_21.element){if(!_21.selector)_21.selector=null;if(!_21.target)_21.target=_162(_21.element)}if(_21.target!=undefined){if(typeof _21.target=='object'&&_21.target.id!=undefined)_21.target=_21.target.id;if(_22!==_6._87&&_21.target&&_21.target.indexOf('||')===-1){const _0=_21.element??_413(_21.target);if(_0){if(_315(_0))return null;if(_493(_0)){_21.target=_162(_408(_0,_409))}var _46=_503(_0);if(_46&&!_315(_46))_21.target=_162(_46)+'||'+_21.target}}}if(_1115(_22)){let _261=_166.indexOf(_21.target);if(!_21.target){_261=65535}else if(_261===-1){_261=_166.length;_70.push(_261+':'+_21.target);_166.push(_21.target)}else{_206=_261+':'+_21.target}_185(2,_261,_10)}if(_1182(_22)){let _302=_166.indexOf(_21.selector);if(!_21.selector){_302=65535}else if(_302===-1){_302=_166.length;_70.push(_302+':'+_21.selector);_166.push(_21.selector)}_185(2,_302,_10)}else{delete _21.selector}if(_22!==_6._436&&_22!==_6._259)_8('Event, type: '+_22+', time: '+_14()+', details: '+_501(_21),_14());if(_1247(_22)){if(_5 instanceof Array)_5=_5.join(', ');_185(1,_63.length,_10)}if(_10._888){_8('Event, type: '+_22+', skipping due to overflow in temp data, details: '+_501(_21),_14());return null}return{_10,_70,_5,_206}}function _501(_21){return _11._134({..._21,element:undefined})}function _881(){return+new Date()-_1._340}function _1161(){const _253=_507();const _327=_1._741-(_253.domLoading??0);return Math.ceil(_327)}function _798(){const _253=_507();const _327=(_253.loadEventStart??0)-(_253.fetchStart??0);return Math.ceil(_327)}function _507(){const _745=_3.performance.getEntriesByType('navigation');return _745[_745.length-1]??{}}function _1125(_22){return[_6._430,_6._440,_6._436,_6._301,_6._319,_6._227,_6._235,_6._314,_6._903,_6._52,_6._495,_6._490,_6._416,_6._511,_6._531,_6._530,_6._528,_6._422,_6._629,_6._423,_6._631,_6._429,_6._54,_6._431,_6._259,_6._74,_6._258,_6._662].indexOf(_22)!==-1}function _1124(_21){return _21.x!==undefined&&_21.y!==undefined&&!isNaN(_21.x)&&!isNaN(_21.y)}function _1115(_22){return[_6._301,_6._319,_6._227,_6._235,_6._314,_6._453,_6._316,_6._255,_6._518,_6._533,_6._361,_6._87,_6._422,_6._423,_6._429,_6._323,_6._508,_6._504,_6._431,_6._259,_6._74].indexOf(_22)!==-1}function _1182(_22){return[_6._301,_6._319,_6._227,_6._235,_6._314,_6._453,_6._316,_6._255,_6._518,_6._533,_6._361,_6._422,_6._423,_6._429,_6._323,_6._508,_6._504,_6._431,_6._259,_6._74].indexOf(_22)!==-1}function _1247(_22){return[_6._316,_6._255,_6._323,_6._74].indexOf(_22)!==-1}function _1243(_22){return _1234(_22)||_737(_22)||_1206(_22)}function _1234(_22){return[_6._436,_6._301,_6._319,_6._227,_6._440,_6._235,_6._314,_6._259].indexOf(_22)!==-1}function _737(_22){return[_6._453,_6._316,_6._255,_6._323].indexOf(_22)!==-1}function _1206(_22){return[_6._495,_6._490,_6._416,_6._511,_6._531,_6._530,_6._528,_6._422,_6._629,_6._423,_6._631,_6._429].indexOf(_22)!==-1}function _622(){if(!_172(_447(),_1._193)){_1._193=_447();_30(_6._430,_1._193);_1._489=_14()}if(!_172(_1._159,_1._616)){_1._616=_1._159;_30(_6._436,_1._159)}if(!_172(_1._96,_1._249)){_1._249=_1._96;_30(_6._440,_1._96);_1._461=_14()}for(const[_25,_96]of _1._632){const _249=_1._641.get(_25)??{x:0,y:0};if(_172(_96,_249))continue;_1._641.set(_25,_96);_30(_6._431,_96)}var _947=_3.visualViewport?_3.visualViewport.scale:1;var _485={x:_115.round(_115.min(_947,10)*1000),y:_115.round(_115.min(_3.devicePixelRatio,10)*1000)};if(!_172(_485,_1._663)){_30(_6._662,_485);_1._663=_485}if(_3.visualViewport){var _258={x:_3.visualViewport.offsetLeft,y:_3.visualViewport.offsetTop};if(!_172(_258,_1._670)){_30(_6._258,_258);_1._670=_258}}}function _943(){if(!_172(_1._159,_1._672)){_1._672=_1._159;const _0=_12.elementFromPoint(_1._159.x-_1._96.x,_1._159.y-_1._96.y);const _111=_675(_0,_1._159.x,_1._159.y);if(!_111)return;_30(_6._259,{x:_111.x,y:_111.y,element:_111._0})}}function _456(_10){if(!_93)return;if(!_10?.type)throw new Error('Custom event type is required');if(Object.keys(_10)[0]!=='type')_10={type:_10.type,..._10};_10.time=_14();_8('Custom event, type: '+_10.type+', , data: '+_11._134(_10),_14());_1034({_19:_176+'custom-events',_10:{website:_2._47,session:_15._67,page:_15._77,pst:_271(),events:[_10]},_52:_182=>_8(_182??'Failed to send custom event',_14())})}function _450(){var _196=_1._340-_1._82;_1._646+=_1._10.length;if(_1._646>_76._651&&!_1._647){_1._647=true;_8('Recording event limit of '+_76._651+' reached. Stopping recording.',_14());_65()}var _186=_657(_196,_1._10,_1._70,_1._63,_1._181);_1._161.push(_186);_1._10=[];_1._63=[];_1._70=[];_1._181=[];_1._340=+new Date();if(_14()>_76._1047){_8('Pageview over max.time, stopping.',_14());_653();_17._123(_475);_17._123(_474);_17._123(_470);_17._142(_346);_195=false}else{_1021()}}function _657(_196,_10,_70,_63,_181){var _348=[];_185(3,_196,_348);_185(2,_10.length,_348);_348=_348.concat(_10);let _611=_1171.e(_348)+'.'+_505(_70||[])+'.'+_505(_63||[]);const _1029=[...new Set(_181||[])].filter(_49=>!_70.includes(_49));_611+='.'+_505(_1029);return _611}function _1021(){if(_195&&_1._161.length>0){if(_1._356==1){_15._343++}var _84=_15._424?_464():[];for(let _4=0;_4<_1._161.length;_4++){const _634={_19:_176+'events?w='+_2._47+'&s='+_15._67+'&p='+_15._77+'&v='+_188+'&pst='+_271()+'&q='+_1._356+'&li='+_1._730+'&lh='+_1._779+'&ls='+_1._760};_634._10='d='+_1._161[_4];_84.push(_634);_1._356++;_1._730=_1._588;_1._779=_1._193.y;_1._760=_1._249.y}_1._161=[];if(_15._424&&_900(_84.slice(-10))){_899()}else{for(let _4=0;_4<_84.length;_4++){_163(_84[_4])}}if(_1._356>_76._1020)_65()}}function _899(){if(_1._457)return;var _18=_464().slice(0,1)[0];if(_18){_1._457=true;_18._113=_18._52=function(){_900(_464().slice(1));_1._457=false;_17._39(_899,1)};_163(_18)}}function _464(){return(_133._262('mf_transmitQueue')||[]).map(a=>({_19:a.url,_10:a.data}))}function _900(_84){return _133._277('mf_transmitQueue',_84.map(a=>({url:a._19,data:a._10})))}async function _1034(_18){if(!_18?._19){if(_18?._52)_18._52();return}let _19=_18._19;const _113=_18._113;const _52=_18._52;const _178={method:'GET',headers:{'Content-Type':'text/plain'}};if(_18._10){_178.method='POST';_178.body=_11._134(_18._10);_19=_1055(_19);_237(_178.body,async function(_10){_178.body=_10;_19=_902(_19);await _482()},_482)}else{await _482()}async function _482(){try{const _32=await _3.fetch(_19,_178);if(_113)_113(_32)}catch(_182){if(_52)_52(_182)}}}function _163(_18){if(!_18?._19){if(_18?._52)_18._52();return}_471();if(_1084()&&_3.XDomainRequest){_993(_18)}else if(_3.XMLHttpRequest){if(_18._10&&_18._237){var _1013=_2.compressFunction||_237;_1013(_18._10,function(_10){_18._10=_10;_18._19=_902(_18._19);_487(_18)},function(){_487(_18)})}else{_487(_18)}}}function _993(_18){try{_18._19=_976(_18._19);var _153=new _3.XDomainRequest();_153.open(_18._10?'POST':'GET',_18._19);_153.onload=function(){if(_18._113)_18._113(_877(_153))};_153.onerror=function(){if(_18._52)_18._52(_877(_153))};_153.onprogress=function(){_8('XDR progress:'+_18._19,_14())};_153.ontimeout=function(){_8('XDR timeout:'+_18._19,_14())};_153.timeout=20000;_17._39(function(){_153.send(_18._10)},500)}catch(_35){_8('Error in transmitCrossDomain (XDomainRequest): '+_35.message,_14());if(_18._52)_18._52({})}}function _487(_18){try{const _69=_24._1071();_69.onreadystatechange=function(){if(_69.readyState!==4||!_69.status)return;if(_990(_69.status)){if(_18._113)_18._113(_886(_69))}else{if(_18._52)_18._52(_886(_69))}};_69.open(_18._10?'POST':'GET',_18._19,true);_69.setRequestHeader('Content-Type','application/x-www-form-urlencoded');if(_18._995)_69.withCredentials=true;_69.send(_18._10)}catch(_35){_8('Error in transmitCrossDomain (XMLHttpRequest): '+_35.message,_14());if(_18._52)_18._52({})}}function _877(_153){return{_438:_153.responseText}}function _886(_69){return{_480:_69.status,_438:_69.response}}async function _237(_10,_113,_52){if(!_3.CompressionStream){if(_52)_52();return}const _1066=new _3.TextEncoder();const _1044=new _3.ReadableStream({start(_884){_884.enqueue(_1066.encode(_10));_884.close()}}).pipeThrough(new _3.CompressionStream('gzip'));const _1059=_1044.getReader();let _186;let _871=false;const _161=[];let _239=0;while(!_871){try{_186=await _1059.read();if(_186.value){_161.push(_186.value);_239+=_186.value.length}if(_186.done)_871=true}catch(_182){if(_52)_52(_182);return}}let _32;if(_161.length===1){_32=_161[0]}else{_32=new Uint8Array(_239);var _898=0;_161.forEach(function(_5){_32.set(_5,_898);_898+=_5.length})}if(_113)_113(_32)}function _910(_19,_989){return _19+(_19.indexOf('?')===-1?'?':'&')+_989}function _902(_19){return _910(_19,'gz=1')}function _1055(_19){return _910(_19,'json=1')}function _352(_22,_10){_163({_19:_176+'data',_10:'website='+_2._47+'&session='+_15._67+'&page='+_15._77+'&type='+_22+'&pst='+_271()+'&canonicalPage='+_90._137()+'&data='+_120(_11._134(_10))})}function _990(_480){return _480>=200&&_480<300}function _1084(){return _12.all&&!_3.atob;}function _882(){return _12.all&&!_12.addEventListener;}function _976(_19){return _19.replace(/^https?:/i,_2.location.protocol)}function _933(_54){var _421=_11._134(_54._10);if(_421&&_421.length>_2._930){_8('DOM size too big, not sending, size: '+_11._294(_421.length),_14());_87('mf_secret_html-too-big');return}var _245=_120(_421);var _916=5242000;var _359=_245.length<=_916;var _18={_19:_176+'html'+'?website='+_54._61._47+'&session='+_54._61._67+'&page='+_54._61._77,_10:'size='+_54._171+'&html='+_245+'&pst='+_271()+'&canonicalPage='+_120(_90._137()),_237:_2.compress};if(_15._424&&_359){var _84=_889();if(_245!==''){_8('Adding initial DOM to queue, size: '+_11._294(_245.length),_14());_84.push(_18)}else _8('Initial DOM empty, not sending',_14());if(_887(_84.slice(-10)))_897();else{_875(_18,_359,_245.length)}}else{if(_245==''){_8('Initial DOM empty, not sending',_14());return}_875(_18,_359,_245.length)}}function _897(){var _84=_889();var _18=_84.splice(0,1)[0];if(_18){_8('Sending initial DOM mutations. Size: '+_18._10.length,_14());_18._113=_18._52=function(){_887(_84);_17._39(_897,1)};_163(_18)}}function _875(_18,_359,_892){if(_359){_8('Transmitting initial DOM without queue due to no sessionstorage, size: '+_11._294(_892),_14())}else{_8('Transmitting initial DOM without queue due too big html, size: '+_11._294(_892),_14())}_163(_18)}function _889(){return(_133._262('mf_initialDomQueue')||[]).map(a=>({_19:a.url,_10:a.data,_237:a.compress}))}function _887(_84){return _133._277('mf_initialDomQueue',_84.map(a=>({url:a._19,data:a._10,compress:a._237})))}function _981(_54){var _190=_54._10.args[1].some(function(_138){return _563._190(_138)});if(_190){_8('DOM mutation is a duplicate and has not been added.',_14());return}var _880=_962(_54,_1._238);if(_880>-1){_1._238[_880]._10=_54._10;_8('Deduplicating DOM mutation',_14());return}if(_2.domReuse){var _433=_967(_54);var _879=_968(_433);if(_879>-1){_54.sequence=_879;_8('Reusing already sent DOM mutation, sequence '+_54.sequence,_14());_30(_6._54,{x:_54.sequence,y:0});return}else _1._513.push(_433)}_54.sequence=++_1._985;_30(_6._54,{x:_54.sequence,y:0});_1._238.push(_54);if(!_305)_305=_17._39(_874,1500)}function _968(_433){for(var i=0;i<_1._513.length;i++)if(_1._513[i]==_433)return i+1;return-1}function _967(_54){return _122(_11._134(_54._10))}function _874(){_305=0;if(_195&&_1._238.length>0){const _915=_1._238.length;const _427=new Map();for(const _54 of _1._238){const _61='website='+_54._61._47+'&session='+_54._61._67+'&page='+_54._61._77+'&pst='+_271();const _10=_54.sequence+'.'+_950(_11._134(_54._10));if(!_427.has(_61))_427.set(_61,[]);const _520=_427.get(_61);_520.push(_10)}_1._238=[];for(const[_61,_520]of _427){var _10=_520.join('|||');_10=_61+'&data='+_120(_10);_163({_19:_176+'dom',_10:_10,_237:_2.compress});_8('Sending DOM mutations: '+_915+', size: '+_10.length,_14());_1._901+=_915;if(_1._901>_76._909){_8('DOM mutation limit of '+_76._909+' reached. Stopping recording.',_14());_65()}}}}function _962(_103,_870){if(!_2.domDeduplicator)return-1;var _92=_103._10.args;var _912=_906(_92);var _905=_913(_92);if(!_912&&!_905)return-1;for(var i=0;i<_870.length;i++){var _512=_870[i]._10.args;if(_912&&_906(_512)&&_1266(_92[2],_512[2])){return i}else if(_905&&_913(_512)){return i}}return-1}function _906(_92){return _873(_92)&&_92[2].filter(_1224).length===_92[2].length}function _913(_92){return _873(_92)&&_92[2].filter(_1205).length===_92[2].length}function _873(_92){return _92[0].length===0&&_92[1].length===0&&_92[2].length>0&&_92[3].length===0}function _1224(_322){return _322.attributes.style&&_890(_322.attributes)===1}function _1205(_322){return _322.attributes.d&&_890(_322.attributes)===1}function _890(obj){var count=0;for(var prop in obj)if(Object.prototype.hasOwnProperty.call(obj,prop))count++;return count}function _1266(_497,_894){if(_497.length!==_894.length)return false;for(var i=0;i<_497.length;i++){var _1255=_497[i],_1262=_894[i];if(_1255.id!==_1262.id)return false}return true}function _499(){if(_1._10.length>0&&_881()>=5000){_30(_6._499,{});_450()}}function _148(){_8('Inactivity timeout.',_14());_65(true)}function _172(_152,_878){return _152.x==_878.x&&_152.y==_878.y}function _447(){return{x:_3.innerWidth,y:_3.innerHeight}}function _876(_234){if(!_234||!_234.getBoundingClientRect)return null;var _202=_234.getBoundingClientRect();var _307;if(!_234.childElementCount&&!_202.height&&!_202.width)_307=_1253(_234);if(!_307){return{x:_202.left,y:_202.top,width:_202.width,height:_202.height}}else{_307.x+=_202.left-_234.offsetLeft;_307.y+=_202.top-_234.offsetTop;return _307}}function _1253(_0){var _252=window.getComputedStyle(_0,[':after']);if(!_252)return _252;return{x:+_252.left.slice(0,-2),y:+_252.top.slice(0,-2),width:+_252.width.slice(0,-2),height:+_252.height.slice(0,-2)}}function _162(_0){if(_2.useSelectorGenerator)return _207._496(_0);var _336=_179.get(_0);if(_336)return _336;try{var _49=[];while(_0){var _26=_0.getRootNode?_24._1076(_0):_12;_49.unshift(_1244(_0,_26)||_1249(_0,_26));_0=_26.host}return _49.join(' > :document-fragment: > ')}catch(_35){_8('Error in getElementPath: '+_35.message,_14())}return''}function _1244(_0,_26){var _23=_0.attributes?.['name']?_0.attributes['name'].value:null;if(_23&&_503(_0)&&/button|input|select|textarea/.test(_0.tagName.toLowerCase())){var _443=_26.getElementsByName(_23);if(_443.length===1)return _23;if(_443.length>1){for(var _4=0;_4<_443.length;_4++)if(_0===_443[_4])return _23+'['+_4+']_mf'}}return null}function _1249(_56,_26){var _28=[];try{while(_56&&_56.nodeType===1){var _7='';var _72=_24._88(_56);if(!_72)return'';var _336=_179.get(_56);if(_336){_28.unshift(_336);break}if(_56.tagName==='TABLE'&&_28.indexOf('tbody')===-1&&_28.indexOf('thead')===-1)_28.unshift('tbody');if(_56.getAttribute('data-mf-id')){_7+='[data-mf-id="'+CSS.escape(_56.getAttribute('data-mf-id'))+'"]';_28.unshift(_7);break}if(_56.getAttribute('id')&&!_11._213(_56,'data-mf-ignore-child-ids')&&_2.useIdSelectors){_7+='#'+_56.getAttribute('id');_28.unshift(_7);break}_7+=_56.tagName.toLowerCase();var _451='',_506=_56,_268=1;if(_72?.tagName?.toLowerCase()=='body'){var _124=_11._241(_56);_451=_124.length?'.'+_124.join('.'):''}if(_451!==''&&_26.querySelectorAll(_896('body > '+_7+_451)).length===1)_7+=_451;else{while((_506=_506.previousElementSibling)){if(_506.tagName.toLowerCase()===_7)_268++}if(_268!==1)_7+=':['+_268+']'}_28.unshift(_7);_56=_72}}catch(_35){_8('Error in _getCssPath: '+_35.message,_14())}return _28.join(' > ').replace('html > body > ','> ')}function _413(_49,_1250=true){if(!_49)return null;if(_2.useSelectorGenerator)return _207._207(_49);var _0=_1229(_49);if(!_0){try{var _26=_12;_896(_49).split(' > :document-fragment: > ').forEach(function(_7){_0=_26.querySelector(_7);_26=_0.shadowRoot})}catch(_35){if(_1250)_8('Error in _getElementById: '+_35.message,_14())}}return _0}function _1229(_23){if(!_23)return null;var _75=_907.exec(_23);if(_75&&_75[1]){try{var _50=_3.parseInt(_75[1]);return _12.getElementsByName(_23.replace(_907,''))[_50]}catch(_35){}}var _45=_12.getElementsByName(_23);if(_45&&_45.length===1)return _45[0];return null}function _896(_28){if(!_28)return null;if(_28.substr(0,1)==='>')_28='html > body '+_28;_28=_28.replace(/^(\d)/,'\\3$1 ');_28=_28.replace(/#(\d)/,'#\\3$1 ');_28=_28.replace(/#(-\d)/,'#\\$1');_28=_28.replace(/:(?!\[)/g,'\\:');_28=_28.replace(/\\:document-fragment\\:/g,':document-fragment:');_28=_28.replace(/^#\S+/,function(_75){return _75.replace(/\./g,'\\.');});_28=_28.replace(/:\[([^\]]+)\]/g,':nth-of-type($1)');_28=_28.replace(/([{}[\]/;%$~@&<*^])/g,'\\$1');_28=_28.replace(/\\\[([^=]+="[^"]+")\\\]/g,'[$1]');return _28}function _185(_1116,_5,_338){for(var _4=_1116-1;_4>0;_4--){var _893=_115.pow(256,_4);_891(_115.floor(_5/_893),_338);_5=_5% _893}_891(_5,_338)}function _891(_885,_338){if(_885>255){_338._888=true;return}_338.push(_885)}function _505(_0){var _32='';for(var _4=0;_4<_0.length;_4++){_32+=(_4>0?',':'')+_502(_0[_4])}return _32}function _379(_0){if(!_0)return 0;if(typeof _0==='string')return _502(_0).length;if(_0.length){var _171=0;for(var _4=0;_4<_0.length;_4++)_171+=_502(_0[_4]).length+1;return _171>0?_171-1:_171}return 0}function _502(_5){return _1173.encode(''+_5)}function _895(_23,_5,_215,_31){if(_2.preferStorageApi)_60._125(_23,_5);else _371._125(_23,_5,_215,_31)}function _883(_23){if(_2.preferStorageApi)return _60._158(_23)||'';else return _371._158(_23)}function _1168(_23){if(_2.preferStorageApi){_133._263(_23);_60._263(_23)}else{_371._263(_23)}}var _1171=new function(){for(var d='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'.split(''),c=64;c;)--c;this.e=function(e){let a=[],f=0,b=0,g,c=e.length,h=c% 3;for(;f<c;)a[b++]=d[(g=e[f++]<<16|e[f++]<<8|e[f++])>>18&63]+d[g>>12&63]+d[g>>6&63]+d[g&63];if(h)for(a[--b]=a[b].substr(0,a[b].length-(h=3-h));h--;)a[b]+='*';return a.join('')}};var _1173={_373:'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',encode:function(c){for(var a='',d,b,e,i,h,f,g=0,c=this._1175(c);g<c.length;)d=c.charCodeAt(g++),b=c.charCodeAt(g++),e=c.charCodeAt(g++),i=d>>2,d=(d&3)<<4|b>>4,h=(b&15)<<2|e>>6,f=e&63,isNaN(b)?h=f=64:isNaN(e)&&(f=64),a=a+this._373.charAt(i)+this._373.charAt(d)+this._373.charAt(h)+this._373.charAt(f);return a},_1175:function(c){for(var c=c.replace(/\r\n/g,'\n'),a='',d=0;d<c.length;d++){var b=c.charCodeAt(d);128>b?a+=String.fromCharCode(b):(127<b&&2048>b?a+=String.fromCharCode(b>>6|192):(a+=String.fromCharCode(b>>12|224),a+=String.fromCharCode(b>>6&63|128)),a+=String.fromCharCode(b&63|128))}return a}};function _498(){var _152=function(){return((1+_115.random())*65536|0).toString(16).substring(1)};return _152()+_152()+_152()+_152()+_152()+_152()+_152()+_152()}var _494=0;function _299(){if(_12.body){_8('Initializing recorder');if(!_1177())return;if(_1178)_1179(_872);else _872();return}_494++;if(_494===1){_8('Retrying to initialize recorder - document.body is not set',_14())}else if(_494===25){_8('Failed to initialize recorder',_14());return}_17._39(_299,200)}function _872(){_8('Initializing recorder',_14());if(!_789(_2.location.hostname))return;if(_882()){_8('Recording not started - browser is IE8 or older',_14());return}if(_914)_1158();if(_914||_1141)return;_491=true;function _904(){if(!_93&&_2.autoStart&&_12.readyState!=='loading')_34();_467(_798())}_27._41(_12,'readystatechange',_904);_904()}function _467(_327){if(_529||!_93||_12.readyState!=='complete')return;_30(_6._903,{x:_327,y:_404?_404.scrollHeight:_11._587()});_529=true}function _1151(){return _2.useUnload?'unload':'beforeunload'}function _300(_908,_911){return _908.indexOf(_911,_908.length-_911.length)!==-1}function _122(_51){var _131=0,_868;for(var _4=0;_4<_51.length;_4++){_868=_51.charCodeAt(_4);_131=((_131<<5)-_131)+_868}return _131.toString()}function _788(_16){for(var _4=0;_4<_1._180.length;_4++)if(_1._180[_4].split('_')[0]===_122(_16)){return _4}return-1}function _813(_16,_5){var _524=_788(_16);var _523=_122(''+_5);if(_524>-1){if(_1._180[_524].split('_')[1]===_523){return false}_1._180[_524]=_122(_16)+'_'+_523}else if(_1._180.length<20){_1._180.push(_122(_16)+'_'+_523)}return true}function _789(_31){var _1150=_31;_31=_488(_31);var _790=false;for(let _4=0;_4<_308.length;_4++){if(_31==_488(_308[_4])){_790=true;break}}_31=_1149(_31);var _791=false;for(let _4=0;_4<_308.length;_4++){if(_31==_488(_308[_4])){_791=true;break}}var _32=_790||_791;if(!_32)_8('Domain was blocked: '+_1150+' - domain list: '+_308,_14());return _32}function _488(_31){if(_31==null)return'';_31=_31.toLowerCase();_31=_31.replace(/^\s+|\s+$/g,'');if(_31.substring(0,4)=='www.'){_31=_31.substring(4,_31.length)}return _31}function _1149(_31){if(_2.includeSubDomains){_31=_1148(_31)}return _31}function _1148(_31){var _150=_31.split('.');if(_150.length<=2)return _31;if(_31.indexOf('.co.')>-1||_31.indexOf('.com.')>-1||_31.indexOf('.org.')>-1){_150=_150.slice(_150.length-3,_150.length);return _150.join('.')}_150=_150.slice(_150.length-2,_150.length);return _150.join('.')}function _1147(){var _32=[];if(typeof Ember!='undefined')_32.push('em');if(typeof angular!='undefined')_32.push('an');if(typeof Backbone!='undefined')_32.push('bb');return _32}function _1144(){if(_2.autoTagging){_8('Autotagging session',_14());var _792=['utm_source','utm_medium','utm_term','utm_content','utm_campaign','gclid'];for(var _4=0;_4<_792.length;_4++){var _517=_792[_4];var _5=_793(_2.location.href,_517);if(!_5)_5=_793(_2.referrer,_517);if(_5)_135._849(['setVariable',_517,_5])}}}function _793(_19,_23){_23=_23.replace(/[[]/,'\\[').replace(/[\]]/,'\\]');var regex=new RegExp('[\\?&]'+_23+'=([^&#]*)'),results=regex.exec(_19);return results===null?'':decodeURIComponent(results[1].replace(/\+/g,' '))}const nonWordCharactersRegex=/[\s"'.,_\-+/*:=!?@#%&{}[\]\\|]/;function _1143(_515){return!nonWordCharactersRegex.test(_515)}function _1142(_5,_462){var _32='';for(var _4=0;_4<_462;_4++){_32+=_5}return _32}function _271(){return _1._794||_1._82}function _14(){return+new Date()-_1._82}function _1140(urlLength){var _246=_2.location.href;var _796=_76._795-urlLength-6;if(_120(_246).length>_796)_246=_246.split('#')[0];if(_120(_246).length>_796)_246=_246.split('?')[0];return _120(_246)}function _1138(_20){var _1145=_20 instanceof Element;if(!_1145)return false;var _797=_3.getComputedStyle(_20);var _466=_797?_797['white-space']:'';if(_466&&(_466.indexOf('pre')>-1||_466==='break-spaces'))return true;return false}this._299=_299;this._34=function(){_34();_467(_798())};this._65=_65;this._418=_418;this._561=_561;this._1019=function(){return _15._67};this._1017=function(){return _15._77};this._87=_87;this._539=_539;this._540=_540;this._543=_543;this._547=_547;this._345=_345;this._377=_377;this._139=function(_5,_23){_139({_5:_5,_800:_23,_148:0})};this._195=function(){return _195};this._1016=function(){return _15._353};this._368=_368;this._278=_278;this._203=_203;this._188=_188;this._510=_510;this._236=_236;this._1015=function(){_139(_94._473)};this._448=_448;this._521=_521;this._456=_456}function _835(_24,_2){var _806=[];function _190(_138){if(!_2.domMutationDetectorEnable||!_138||_138.nodeType!==1)return false;var _72=_24._88(_138);var _812=_72?_72.id:undefined;var _801=_138.previousSibling?_138.previousSibling.id:undefined;var _1159=_138.tagName;var _802=_138.attributes?_138.attributes.id:undefined;var _803=_138.attributes?_138.attributes.class:undefined;var _16=_1159;if(_2.domMutationUseParentNode&&_812)_16+='_'+_812;if(_2.domMutationUsePreviousSibling&&_801)_16+='_'+_801;if(_802)_16+='_'+_802;if(_803)_16+='_'+_803.replace(/\s/g,"_");var _807=+new Date();var _103=_806[_16];var _463=_103?_103._462:0;var _1176=_103?((_807-_103._1170)/1000):0;var _804=_463<_2.domMutationCountThreshold;var _805=_1176<_2.domMutationTimeThresholdInSeconds;var _190=_103?(_804&&_805):false;if(!_804||!_805)_463=0;_806[_16]={_1170:_807,_462:_463+1};return _190}this._190=_190}function _1025(_3,_17,_2,_119,_11,_27,_90,_60){var _48,_47,_8,_80;var _392='mf_liveHeatmaps';var _40;var _341=[];var _141;var _389=false;function _34(_369,_221,_320,_209){_47=_369;_48=_320;_8=_221;_389=window.location.search.indexOf('mf_legacy=1')!==-1?true:false;_8('Live heatmaps starting');_80=_119._284();if(!_80){_8('Live heatmaps not initiated - could not create root HTML element');return}if(!_3.opener){_8('Live heatmaps not initiated - window.opener is missing');return}if(typeof _209==='function'){_209(function(){_216()})}else{_216()}}function _65(){_381()}function _216(){_27._41(_3,'message',function(_42){if(_42.origin!==_48)return;_313(_42.data);switch(_42.data.message){case'MouseflowLiveHeatmaps_Init_Received':_3.clearInterval(_141);break;case'MouseflowLiveHeatmaps_Init_Success':case'MouseflowLiveHeatmaps_Hello':_107(_42.data);_326(_42.data.scripts,function(){var message;if(_389){message={mfCommand:'settings',value:{websiteSettings:_42.data.websiteSettings}}}else{_787();message={mfCommand:'settings_liveheatmap',value:_40}}_595(JSON.stringify(message))});break;case'MouseflowLiveHeatmaps_StreamData_Chunk':_347(_42.data.requestUrl,true)._598(_42.data.dataChunk);break;case'MouseflowLiveHeatmaps_StreamData_Success':_347(_42.data.requestUrl)._157();break;case'MouseflowLiveHeatmaps_StreamData_Error':_347(_42.data.requestUrl)._226();break;case'MouseflowLiveHeatmaps_RequestData_Success':_347(_42.data.requestUrl)._157(_42.data.responseText);break;case'MouseflowLiveHeatmaps_RequestData_Error':_347(_42.data.requestUrl)._226();break}});_141=_17._184(_335,500);_17._39(function(){_17._123(_141)},10000);_335()}function _335(){_199({message:'MouseflowLiveHeatmaps_Init',websiteId:_47,legacy:_389})}function _107(_107){_40=_808();var _351=_809();var _414=_2.location.search.match(/mf_liveHeatmaps=([^&]+)/);var _544=typeof _3.name==='string'&&_3.name.indexOf('mf_liveHeatmaps')===0?_3.name.slice(15).split('_'):[];var _1167=_414||_544[1]==='init';if(_40&&!_1167){_40.filters.url=_351.url;_95(_40);return}_40={isMinimized:false,appUrlBase:_48,websiteId:_47,filters:_351,minDate:_107.minDate,filteredViews:_107.filteredViews,user:_107.user,website:_107.website,mutedEvents:_107.mutedEvents,supportedLanguages:_107.supportedLanguages,accountFeatures:_107.accountFeatures};if(_107.filters&&_107.filters.view){_40.selectedFilteredView=_107.filters.view;delete _107.filters.view}if(_107.filters){Object.keys(_107.filters).forEach(function(_16){var _5=_107.filters[_16];if(_5 instanceof Date)_5=_386(_5);_40.filters[_16]=_5})}if(_414&&_414[1]!=='1')_40.filters.maptype=_414[1];else if(_544[2])_40.filters.maptype=_544[2];_95(_40);_3.name='mf_liveHeatmaps'}function _787(){_40.devices=_40.filters.device?_40.filters.device.and||_40.filters.device.or:[];_40.mapType=_40.filters.maptype;_40.url=_40.filters.url=_90._137();_199({message:'MouseflowLiveHeatmaps_SetSettings',settings:_40})}function _326(_175,_66){if(!_175)return;var _218=0;function _312(){if(_218>=_175.length){_66();return}var _89=_175[_218];_583(_89);_218++;var _183=document.createElement('script');if(_89.startsWith('/'))_183.src=_48+_89;else _183.src=_48+'/'+_89;_183.onload=_312;_80.appendChild(_183)}_312()}function _808(){return _60._262(_392)}function _95(_40){if(_8)_8('Live heatmaps saving settings');_60._277(_392,_40)}function _381(){if(_8)_8('Live heatmaps removing settings');_60._263(_392)}function _347(_19,_1164){var _178=_341.filter(function(_1166){return _1166._19===_19})[0];if(!_1164&&_178)_341.splice(_341.indexOf(_178),1);return _178}function _1157(_18){if(typeof _18!=='object')return;_40=_808();var _351=_809();Object.keys(_18).forEach(function(_16){var _5=_18[_16];if(_5 instanceof Date)_5=_386(_5);_40.filters[_16]=_5||undefined});Object.keys(_351).forEach(function(_16){if(!_40.filters[_16])_40.filters[_16]=_351[_16]});if(_40.filters.view){_40.selectedFilteredView=_40.filters.view;delete _40.filters.view}_95(_40)}function _809(){var _272=new Date();_272=new Date(_272.getFullYear(),_272.getMonth(),_272.getDate());var _605=new Date(_272);_605.setDate(_605.getDate()-29);return{maptype:'click',url:_90._137(),fromdate:_386(_605),todate:_386(_272)}}function _199(_10){_3.opener.postMessage(_10,_48);_8('Sent '+_10.message+(_10.requestUrl?', request URL: '+_10.requestUrl:''))}function _595(_10){_3.postMessage(_10,_3.location.origin);_8('Sent '+_10.message+(_10.requestUrl?', request URL: '+_10.requestUrl:''))}function _313(_10){if(_10.message&&_10.message.indexOf('MouseflowLiveHeatmaps_')===0)_8('Received '+_10.message+(_10.requestUrl?', request URL: '+_10.requestUrl:''))}function _583(_89){_8('Live heatmaps loading script: '+_89)}function _386(_121){return _121.getFullYear()+'-'+_810(_121.getMonth()+1,'00')+'-'+_810(_121.getDate(),'00')}function _810(_1160,_811){return(_811+_1160).slice(-_811.length)}this._34=_34;this._65=_65;this._509=function(_18){_1157(_18);if(_389){_595('{"mfCommand":"MouseflowHeatmap_UpdateHeatmap"}')}else{_787();var message={mfCommand:'settings_change',value:{settings:_40,reloadData:_18&&_18.maptype?false:true}};_595(JSON.stringify(message))}_8('Sent postmessage updateheatmap')};_3.mouseflowHeatmap={streamData:function(_19,_598,_157,_226){_341.push({_19:_19,_598:_598||function(){},_157:_157||function(){},_226:_226||function(){}});_199({message:'MouseflowLiveHeatmaps_StreamData',requestUrl:_19})},getData:function(_19,_157,_226){_341.push({_19:_19,_157:_157||function(){},_226:_226||function(){}});_199({message:'MouseflowLiveHeatmaps_RequestData',requestUrl:_19})}}}function _1035(_3,_17,_2,_119,_11,_27,_90,_60){const _392='mf_liveHeatmaps';let _48,_47,_8,_80;let _141;const _12=_3.document;const _1134=_3.location.search.slice(1).split('&').map(a=>a.split('=',2)).filter(a=>a[0]).reduce((acc,cur)=>(acc[cur[0]]=cur[1]??null,acc),{});function _34(_369,_221,_320,_209){_47=_369;_48=_320;_8=_221;_8('Live heatmaps starting');_80=_119._284();if(!_80){_8('Live heatmaps not initiated - could not create root HTML element');return}if(!_3.opener){_8('Live heatmaps not initiated - window.opener is missing');return}if(typeof _209==='function'){_209(function(){_216()})}else{_216()}}function _65(){}function _216(){_27._41(_3,'message',function(_42){if(_42.origin!==_48)return;_313(_42.data);switch(_42.data.message){case'MouseflowLiveHeatmapsV3_Init_Received':_17._123(_141);break;case'MouseflowLiveHeatmapsV3_Init_Success':_326(_42.data.scripts);break}});_141=_17._184(_335,500);_17._39(function(){_17._123(_141)},10000);_335()}function _335(){_199({message:'MouseflowLiveHeatmapsV3_Init',websiteId:_47,prod:_1134.prod!==undefined})}function _326(_175){for(const _89 of _175){const _0=_12.createElement(_89.tagName);if(_89.textContent){_0.textContent=_89.textContent}for(const _16 in _89.attributes){const _5=_89.attributes[_16];if(_16==='src'||_16==='href'){_0[_16]=_48+_5}else{_0.setAttribute(_16,_5)}}if(_0.tagName==='SCRIPT'){_0.async=false}if(_0.tagName==='SCRIPT'&&_0.type==='importmap'){_0.textContent=_0.textContent.replace(/(:\s*")(\/[^"]+")/g,`$1${_48}$2`)}_80.appendChild(_0)}}function _199(_10){_3.opener.postMessage(_10,_48);_8('Sent '+_10.message+(_10.requestUrl?', request URL: '+_10.requestUrl:''))}function _313(_10){if(_10.message&&_10.message.indexOf('MouseflowLiveHeatmapsV3_')===0)_8('Received '+_10.message+(_10.requestUrl?', request URL: '+_10.requestUrl:''))}this._34=_34;this._65=_65;this._509=function(){window.updateSpaPage()}}function _1028(_3,_119,_24,_17,_11,_27,_60,_2){var _12=_3.document,_48,_47,_8,_13,_80,_170,_29,_778,_869,_780,_781,_168,_130,_449,_177,_761,_242,_360,_324,_173,_147,_155;function _34(_1107,_369,_256,_415,_339,_439,_221){_48=_1107;_47=_369;_8=_221;_13=_1252()||{_146:false,_73:'exclude',_99:_256||[],_97:_415||[],_116:_339||[],_117:_439||[]};_8('Starting privacy tool');_80=_119._284();if(!_80){_8('Privacy tool not initiated - could not create root HTML element');return}_1106();_17._39(function(){_1105();_95(_13)},1000);}function _65(){_1108();if(_170){_80.removeChild(_170);_170=null}if(_29){_80.removeChild(_29);_29=null}}function _1106(){_27._41(_3,'message',function(event){if(event.origin!==_48)return;switch(event.data.message){case'MouseflowPrivacyTool_Hello':_8('Privacy tool API ready');_324=event.source;if(event.data.cssSelectorBlacklist){_13._99=event.data.cssSelectorBlacklist;_13._97=event.data.cssSelectorWhitelist;_13._116=event.data.cssSelectorTracked;_13._117=event.data.cssSelectorMasked}_260();break;case'MouseflowPrivacyTool_Save_Success':_8('Successfully saved CSS lists');if(_173)_173();_173=undefined;_147=undefined;break;case'MouseflowPrivacyTool_Save_Failed':_8('Failed saving CSS lists');if(_147)_147();_173=undefined;_147=undefined;_535('Uh oh! We couldn\'t save your changes.<br><br>'+'Please refresh the page and try again.');break;case'MouseflowPrivacyTool_Unauthorized':_8('Privacy tool API logged out - cannot save');if(_147)_147();_173=undefined;_147=undefined;_535('Uh oh! We couldn\'t save your changes.<br><br>'+'Please log into Mouseflow and try again.');break}});if(_3.opener){_8('Loading privacy tool API using window.opener');_3.opener.postMessage({message:'MouseflowPrivacyTool_Hello'},_48)}_17._39(function(){if(!_324){_8('Loading privacy tool API using iframe');_170=_12.createElement('iframe');_170.style.width='0px';_170.style.height='0px';_170.style.display='none';_170.src=_48+'/websites/'+_47+'/privacytool';_80.appendChild(_170);_17._39(function(){if(!_324){_8('Loading privacy tool API timed out');_1230('We\'re having trouble loading the Privacy Tool on this page. Please try '+'refreshing the page or logging in to Mouseflow and reloading the Privacy Tool from there.<br><br>'+'If you need help, please don\'t hesitate to reach out to us at:  <a class="green" href="mailto:support@mouseflow.com">support@mouseflow.com</a>')}},5000)}},2000)}function _1105(){_29=_1201(_13);_778=_29.querySelector('.tool-exclude output');_869=_29.querySelector('.tool-whitelist output');_780=_29.querySelector('.tool-track output');_781=_29.querySelector('.tool-masked output');_168=_29.querySelector('.tool-status-text');_130=_29.querySelector('.btn-widget');_449=_29.querySelector('.tool-loading h2');_13._99.forEach(_764);_13._97.forEach(_765);_13._116.forEach(_763);_13._117.forEach(_766);_80.appendChild(_29);_177=_1183();_29.appendChild(_177);_11._331(_12.body,'mf-privacy-tool-opened',!_13._146);_1104();_260()}function _260(){if(_29&&_324){_11._71(_29,'is-loading');_129();_1103();_394()}}function _590(){_381();_65();_3.close()}function _1104(){_27._41(_29,'click','.mf-tool-close',_590,{_108:true})}function _1103(){_27._41(_29,'click','.mf-tool-toggle',_782,{_108:true});_27._41(_29,'click','.mf-tool-close',_590,{_108:true});_27._41(_29,'click','.mf-tool-exclude',_1098,{_108:true});_27._41(_29,'click','.mf-tool-whitelist',_1096,{_108:true});_27._41(_29,'click','.mf-tool-track',_1095,{_108:true});_27._41(_29,'click','.mf-tool-masked',_1094,{_108:true});_27._41(_29,'click','.highlight-excluded',_1093,{_108:true});_27._41(_29,'click','.highlight-whitelisted',_1092,{_108:true});_27._41(_29,'click','.highlight-tracked',_1097,{_108:true});_27._41(_29,'click','.highlight-masked',_1110,{_108:true});_27._41(_29,'click','.mf-remove-excluded',_1131,{_108:true});_27._41(_29,'click','.mf-remove-whitelisted',_1130,{_108:true});_27._41(_29,'click','.mf-remove-tracked',_1129,{_108:true});_27._41(_29,'click','.mf-remove-masked',_1128,{_108:true});_27._41(_29,'submit',_1127,{_108:true});_27._41(_12,'mouseover',_1126,{_98:true});_27._41(_12,'mouseleave',_1122,{_98:true});_27._41(_12,'mouseup',_1119,{_98:true});_27._41(_12,'mouseenter',_201,{_98:true});_27._41(_12,'mousemove',_201,{_98:true});_27._41(_12,'mousedown',_201,{_98:true});_27._41(_12,'click',_201,{_98:true});_27._41(_12,'mouseout',_201,{_98:true});_27._41(_12,'scroll',_129,{_98:true,_417:true});_27._41(_3,'resize',_129,{_98:true,_417:true});var MutationObserver=_3.MutationObserver||_3.WebKitMutationObserver||_3.MozMutationObserver;if(MutationObserver){_360=new MutationObserver(function(_786){var _1099=_786.some(function(_103){if(_103.target.nodeType!==1||_11._101(_103.target,'#mouseflow *'))return false;var _1102=_103.oldValue&&_103.oldValue.indexOf('mf-highlight')!==-1;var _1101=_103.target.classList.contains('mf-highlight');var _1100=_1102||_1101;if(_103.type==='attributes'&&_103.attributeName==='class'&&_1100)return false;return true});if(_1099)_129();_786.forEach(function(_103){_103.addedNodes.forEach(function(_20){if(!_20.shadowRoot)return;_360.observe(_20.shadowRoot,{childList:true,subtree:true});_394(_20)})})});_360.observe(_12,{attributes:true,childList:true,characterData:true,subtree:true,attributeOldValue:true})}}function _1108(){_27._856();if(_360)_360.disconnect()}function _394(_72){if(!_155)_155=_1226();if(!_72)_72=_12;for(var _64=_24._826(_72);_64;_64=_24._514(_64)){_394(_64);var _105=_64.shadowRoot;if(!_105)continue;_394(_105);if(_105.adoptedStyleSheets){if(_105.adoptedStyleSheets.indexOf(_155)>-1)continue;var _785=Array.prototype.slice.call(_105.adoptedStyleSheets);_785.push(_155);_105.adoptedStyleSheets=_785}else{if(_105.querySelector('.mf-privacy-tool-style'))continue;var _81=_12.createElement('style');_81.type='text/css';_81.innerHTML=_586();_81.className='mf-privacy-tool-style';_105.appendChild(_81)}}}function _782(){_13._146=!_13._146;_95(_13);_11._331(_29,'tool-closed',_13._146);_11._331(_12.body,'mf-privacy-tool-opened',!_13._146);var _395=_29.getElementsByClassName('step')[0];var _225=_29.getElementsByClassName('tool-container')[0];if(_13._146){_11._71(_395,'fade-out');_11._114(_395,'fade-in');_11._71(_225,'fade-in');_11._114(_225,'fade-out')}else{_11._71(_395,'fade-in');_11._114(_395,'fade-out');_11._71(_225,'fade-out');_11._114(_225,'fade-in')}}function _1098(){_13._73='exclude';_95(_13);_398()}function _1096(){_13._73='whitelist';_95(_13);_398()}function _1095(){_13._73='track';_95(_13);_398()}function _1094(){_13._73='masked';_95(_13);_398()}function _398(){_11._71(_29.getElementsByClassName('mf-tool-exclude')[0],'active');_11._71(_29.getElementsByClassName('tool-exclude')[0],'active');_11._71(_29.getElementsByClassName('mf-tool-whitelist')[0],'active');_11._71(_29.getElementsByClassName('tool-whitelist')[0],'active');_11._71(_29.getElementsByClassName('mf-tool-track')[0],'active');_11._71(_29.getElementsByClassName('tool-track')[0],'active');_11._71(_29.getElementsByClassName('mf-tool-masked')[0],'active');_11._71(_29.getElementsByClassName('tool-masked')[0],'active');_11._114(_29.getElementsByClassName('mf-tool-'+_13._73)[0],'active');_11._114(_29.getElementsByClassName('tool-'+_13._73)[0],'active')}function _1093(_9){if(_13._73==='exclude'){_767(_9.target.getAttribute('data-target'));_129()}}function _1092(_9){if(_13._73==='whitelist'){_768(_9.target.getAttribute('data-target'));_129()}}function _1097(_9){if(_13._73==='track'){_769(_9.target.getAttribute('data-target'));_129()}}function _1110(_9){if(_13._73==='masked'){_770(_9.target.getAttribute('data-target'));_129()}}function _1131(_9){_767(_9.target.parentNode.getAttribute('data-target'));_129()}function _1130(_9){_768(_9.target.parentNode.getAttribute('data-target'));_129()}function _1129(_9){_769(_9.target.parentNode.getAttribute('data-target'));_129()}function _1128(_9){_770(_9.target.parentNode.getAttribute('data-target'));_129()}function _1127(){_1270();_1242(_13._99,_13._97,_13._116,_13._117,function(){_777();_130.innerHTML='Saved';_381();_17._39(_590,500)},function(){_777()})}function _1126(_9){_17._142(_761);var _784=_12.getElementsByClassName('mf-highlight');for(var _4=0;_4<_784.length;_4++){_11._71(_784[_4],'mf-highlight')}_11._114(_177,'hidden');if(_201(_9)||_762(_9.target))return;_11._114(_9.target,'mf-highlight');_761=_17._39(function(){var _44=_9.target.getBoundingClientRect();_177.style.left=_44.left+_3.pageXOffset+'px';_177.style.top=_44.top+_3.pageYOffset+'px';_177.style.width=_44.width+'px';_177.style.height=_44.height+'px';_11._71(_177,'hidden')},75)}function _1122(_9){if(_201(_9))return;if(_9.target===_12){_11._114(_177,'hidden')}}function _1119(_9){if(_201(_9))return;if(_9.button!==0||_762(_9.target))return;_11._71(_9.target,'mf-highlight');var _7=_1236(_9.target);if(_13._73==='exclude'){_764(_7)}else if(_13._73==='whitelist'){_765(_7)}else if(_13._73==='masked'){_766(_7)}else{_763(_7)}_129()}function _201(_9){if(_13._146||_9.target.nodeType!==1||_11._101(_9.target,'#mouseflow *'))return true;_9.preventDefault();_9.stopPropagation();return false}function _762(_0){return _0===_12.body||_11._101(_0,'html')||(_13._73==='whitelist'&&(!/INPUT|TEXTAREA/.test(_0.tagName)||/checkbox|radio|button|submit/.test(_0.type)))}function _763(_7){if(_7&&_13._116.indexOf(_7)===-1){_13._116.unshift(_7);_95(_13)}_192()}function _764(_7){if(_7&&_13._99.indexOf(_7)===-1){_13._99.unshift(_7);_95(_13)}_192()}function _765(_7){if(_7&&_13._97.indexOf(_7)===-1){_13._97.unshift(_7);_95(_13)}_192()}function _766(_7){if(_7&&_13._117.indexOf(_7)===-1){_13._117.unshift(_7);_95(_13)}_192()}function _767(_7){if(_7&&_13._99.indexOf(_7)!==-1){_13._99=_13._99.filter(function(_83){return _83!==_7});_95(_13)}_192()}function _768(_7){if(_7&&_13._97.indexOf(_7)!==-1){_13._97=_13._97.filter(function(_83){return _83!==_7});_95(_13)}_192()}function _769(_7){if(_7&&_13._116.indexOf(_7)!==-1){_13._116=_13._116.filter(function(_83){return _83!==_7});_95(_13)}_192()}function _770(_7){if(_7&&_13._117.indexOf(_7)!==-1){_13._117=_13._117.filter(function(_83){return _83!==_7});_95(_13)}_192()}function _129(){_17._142(_242);if(!_242){_17._39(function(){if(_242){_17._142(_242);_771();_242=undefined}},200)}_242=_17._39(function(){_771();_242=undefined},100)}function _771(){var _772=_29.querySelectorAll('.highlight-excluded,.highlight-whitelisted,.highlight-tracked,.highlight-masked'),_4;for(_4=0;_4<_772.length;_4++){_29.removeChild(_772[_4])}_13._99.forEach(function(_7){var _45=_156(_7,_12);for(_4=0;_4<_45.length;_4++){_29.appendChild(_1196(_7,_45[_4].getBoundingClientRect()))}});_13._97.forEach(function(_7){var _45=_156(_7,_12);for(_4=0;_4<_45.length;_4++){_29.appendChild(_1194(_7,_45[_4].getBoundingClientRect()))}});_13._116.forEach(function(_7){var _45=_156(_7,_12);for(_4=0;_4<_45.length;_4++){_29.appendChild(_1193(_7,_45[_4].getBoundingClientRect()))}});_13._117.forEach(function(_7){var _45=_156(_7,_12);for(_4=0;_4<_45.length;_4++){_29.appendChild(_1191(_7,_45[_4].getBoundingClientRect()))}})}function _156(_7,_26){try{var _45=[];_7.split(',').forEach(function(_7){var _37=_7.split(' > :document-fragment: > ',1);_26.querySelectorAll(_37[0]).forEach(function(_0){if(_37[1]&&_0.shadowRoot){_156(_37[1],_0.shadowRoot).forEach(function(_0){_45.push(_0)})}else{_45.push(_0)}})});return _45}catch(_35){_8('Could not get element from selector: '+ex.message)}}function _1242(_99,_97,_116,_117,_157,_1238){if(_173){_8('Attempted to save CSS lists while previous save was in progress');return}_173=_157;_147=_1238;_1216();_324.postMessage({message:'MouseflowPrivacyTool_Save',blacklist:_99,whitelist:_97,tracked:_116,masked:_117},_48);_17._39(function(){if(_173===_157){_8('Saving CSS lists timed out');if(_147)_147();_173=undefined;_147=undefined;_535('Uh oh! We couldn\'t save your changes.<br><br>'+'Please log into Mouseflow and try again.')}},7500)}function _1236(_0){if(_0==null)return null;try{var _49=[];while(_0){var _26=_0.getRootNode?_0.getRootNode():_12;var _7=_773(_0,_26);_49.unshift(_7);_0=_26.host}return _49.join(' > :document-fragment: > ')}catch(ex){_8('Could not get element selector: '+ex.message);return null}}function _1280(_0,_26){var _321=_1233(_0,_26);if(!_321)return null;if(_11._101(_0,_321))return _321;var _119=_26.querySelector(_321);var _144=_0;var _37=[];while(_144&&_144!==_119){var _36=_552(_144,_26);if(_36.length===0)_36.push(_774(_144));_37.unshift(_36);_144=_144.parentNode}_37.unshift(_321);return _554(_37,_26)}function _773(_0,_26,_37){if(!_37)_37=[];var _36=_552(_0,_26);_37.unshift(_36);var _7=_554(_37,_26);if(_7)return _7;if(_36.length===0){_36.push(_774(_0));_7=_554(_37,_26);if(_7)return _7}return _773(_0.parentNode,_26,_37)}function _554(_37,_26){var _553=_37.length>1?_1240.apply(this,_37):_37[0];for(var _4=0;_4<_553.length;_4++){if(_26.querySelectorAll(_553[_4]).length===1)return _553[_4]}return null}function _1233(_0,_26){var _144=_0;while(_144){var _36=_552(_144,_26);for(var _4=0;_4<_36.length;_4++){if(_26.querySelectorAll(_36[_4]).length===1)return _36[_4]}_144=_144.parentNode}return null}function _552(_0,_26){if(_0===_12.body)return['body'];var _36=[];var _72=_0.parentNode;var _4;var _49=_0.getAttribute('id');var _7='#'+_11._210(_49);if(_49&&_26.querySelectorAll(_7).length===1&&!_11._213(_0,'data-mf-ignore-child-ids')&&_2.useIdSelectors)return[_7];var _23=_0.getAttribute('name');_7='[name="'+_11._210(_23)+'"]';if(_23){if(_26.querySelectorAll(_7).length===1)return[_7];if(_72.querySelectorAll(_7).length===1)_36.push(_7)}var _124=_11._241(_0);for(_4=0;_4<_124.length;_4++){_7='.'+_11._210(_124[_4]);if(_26.querySelectorAll(_7).length===1)return[_7];if(_72.querySelectorAll(_7).length===1)_36.push(_7)}for(_4=0;_4<_124.length;_4++){_7=_11._210(_0.tagName.toLowerCase())+'.'+_11._210(_124[_4]);if(_26.querySelectorAll(_7).length===1)return[_7];if(_72.querySelectorAll(_7).length===1)_36.push(_7)}return _36}function _774(_0){var _7=_11._210(_0.tagName.toLowerCase());if(_0.parentNode.querySelectorAll(_7).length===1)return _7;var _268=0;var _372=_0;while(_372){if(_372.tagName===_0.tagName)_268++;_372=_372.previousElementSibling}_7+=':nth-of-type('+_268+')';return _7}function _1240(){var _36,_267,_266,_4;var _149=0;var _247=arguments.length-1;var _374=false;var _333=true;while(_149<_247){_267=undefined;for(_4=0;_4<=_149;_4++){_267=_267?_380(_267,arguments[_4],' > '):arguments[_4]}_266=undefined;for(_4=arguments.length-1;_4>=_247;_4--){_266=_266?_380(arguments[_4],_266,' > '):arguments[_4]}var _378=(_149+1)==_247?' > ':' ';_36=_36?_36.concat(_380(_267,_266,_378)):_380(_267,_266,_378);if(_333&&_374){_247--;_374=false;_333=true}else if(_333){_247--;_374=true;_333=false}else{_149++;if(_149!=_247)_247++;_374=true;_333=true}}return _36}function _380(_775,_776,_378){var _36=[];for(var _4=0;_4<_775.length;_4++){for(var _145=0;_145<_776.length;_145++){_36.push(_775[_4]+_378+_776[_145])}}return _36}function _1252(){return _60._262('mf_privacyTool')||null}function _95(_40){_60._277('mf_privacyTool',_40)}function _381(){_60._263('mf_privacyTool')}function _1270(){_130.setAttribute('disabled','');_130.setAttribute('original-html',_130.innerHTML);_130.innerHTML='<i>&bull;</i> <i>&bull;</i> <i>&bull;</i> <i>&bull;</i>';_11._114(_130,'loading')}function _777(){_11._71(_130,'loading');_130.innerHTML=_130.getAttribute('original-html');_130.removeAttribute('original-html');_130.removeAttribute('disabled')}function _192(){_778.innerHTML=_1187(_13._99);_869.innerHTML=_1186(_13._97);_780.innerHTML=_1185(_13._116);_781.innerHTML=_1204(_13._117);_168.innerHTML=_559(_13._99,_13._97,_13._116,_13._117);_11._71(_168,'red')}function _1230(_223){if(!_449)return;if(_13._146)_782();_449.innerHTML=_223;_11._114(_449,'red')}function _535(_223){if(!_168)return;_168.innerHTML=_223;_11._114(_168,'red')}function _1216(){if(!_168)return;_168.innerHTML=_559(_13._99,_13._97,_13._116,_13._117);_11._71(_168,'red')}function _1201(_13){var _33=_12.createElement('div');_33.className='privacy-tool is-loading';_33.innerHTML=_1190(_13);if(_13._146)_33.className+=' tool-closed';var _81=_12.createElement('style');_81.type='text/css';_81.innerHTML=_586();_33.appendChild(_81);return _33}function _1183(){var _33=_12.createElement('div');_33.className='highlight-box';return _33}function _1196(_7,_44){var _33=_12.createElement('div');_33.className='highlight-box highlight-excluded';_33.setAttribute('data-target',_7);_33.style.left=_44.left+_3.pageXOffset+'px';_33.style.top=_44.top+_3.pageYOffset+'px';_33.style.width=_44.width+'px';_33.style.height=_44.height+'px';return _33}function _1194(_7,_44){var _33=_12.createElement('div');_33.className='highlight-box highlight-whitelisted';_33.setAttribute('data-target',_7);_33.style.left=_44.left+_3.pageXOffset+'px';_33.style.top=_44.top+_3.pageYOffset+'px';_33.style.width=_44.width+'px';_33.style.height=_44.height+'px';return _33}function _1193(_7,_44){var _33=_12.createElement('div');_33.className='highlight-box highlight-tracked';_33.setAttribute('data-target',_7);_33.style.left=_44.left+_3.pageXOffset+'px';_33.style.top=_44.top+_3.pageYOffset+'px';_33.style.width=_44.width+'px';_33.style.height=_44.height+'px';return _33}function _1191(_7,_44){var _33=_12.createElement('div');_33.className='highlight-box highlight-masked';_33.setAttribute('data-target',_7);_33.style.left=_44.left+_3.pageXOffset+'px';_33.style.top=_44.top+_3.pageYOffset+'px';_33.style.width=_44.width+'px';_33.style.height=_44.height+'px';return _33}function _1190(_13){return('<form action="#" id="mf_privacy_tool">'+_1189(_13)+_1188(_13)+'</form>')}function _1189(_13){return('<div class="step step-block'+(_13._146?' fade-in':'')+'">'+'<div class="widget-header">'+'<div class="widget-text">Open privacy tool</div>'+'<div class="widget-toggle">'+'<a href="#" class="btn-arrow btn-arrow--up mf-tool-toggle"></a>'+'</div>'+'</div>'+'</div>')}function _1188(){return('<div class="tool-container'+(_13._146?'':' fade-in')+'">'+'<div class="tool-header">'+'<div class="tool-title">'+'<svg class="logo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="37" height="34" viewBox="0 0 37 34"><g id="logomark_dark" transform="translate(0 0.281)"><path id="Path_7123" class="logo-path" data-name="Path 7123" d="M36.916,16.723c0-2.879-2.308-5.423-6.032-7.173.347-4.1-.708-7.367-3.2-8.812S21.832.029,18.452,2.378c-.111-.078-.218-.153-.329-.227-3.4-2.267-6.552-2.768-8.9-1.417C6.735,2.171,5.685,5.444,6.034,9.547,2.308,11.3,0,13.844,0,16.723S2.311,22.149,6.038,23.9c-.013.133-.023.268-.03.4-.268,4.069.878,7.057,3.219,8.408a5.667,5.667,0,0,0,2.877.738,11.533,11.533,0,0,0,6.353-2.379,11.533,11.533,0,0,0,6.353,2.379,5.687,5.687,0,0,0,2.877-.738c2.343-1.352,3.485-4.339,3.222-8.408-.009-.133-.018-.268-.031-.4C34.607,22.149,36.916,19.6,36.916,16.723Zm-12.09-14.7a3.668,3.668,0,0,1,1.855.455c1.548.894,2.363,3.181,2.233,6.268a28.258,28.258,0,0,0-5.13-1.254,27.937,27.937,0,0,0-3.652-3.81A9.132,9.132,0,0,1,24.826,2.024ZM8.217,10.82a24.675,24.675,0,0,1,3.168-.941c-.432.652-.85,1.329-1.261,2.03s-.788,1.417-1.133,2.125a23.11,23.11,0,0,1-.774-3.215ZM22.7,24.077a34.406,34.406,0,0,1-4.243.256,34.365,34.365,0,0,1-4.242-.256c-.992-.123-1.928-.29-2.816-.492a23.143,23.143,0,0,1-3.174-.946,23.7,23.7,0,0,1,.765-3.222c.275-.885.6-1.785.982-2.692a33.8,33.8,0,0,1,1.9-3.811A34.244,34.244,0,0,1,14.2,9.381q.908-1.2,1.842-2.206A23.422,23.422,0,0,1,18.453,4.9a23.659,23.659,0,0,1,2.408,2.278A27.591,27.591,0,0,1,22.7,9.381a34.1,34.1,0,0,1,2.343,3.533,34.039,34.039,0,0,1,1.9,3.811,28.251,28.251,0,0,1,.982,2.692,23.66,23.66,0,0,1,.769,3.225,23.235,23.235,0,0,1-3.179.946C24.626,23.785,23.688,23.952,22.7,24.077Zm-4.243,2.267c.82,0,1.626-.027,2.408-.078a23.788,23.788,0,0,1-2.408,2.281,23.478,23.478,0,0,1-2.408-2.281Q17.228,26.344,18.457,26.344Zm9.468-12.306q-.526-1.071-1.133-2.125T25.53,9.881a24.368,24.368,0,0,1,3.166.939,22.89,22.89,0,0,1-.771,3.219ZM10.235,2.479a3.737,3.737,0,0,1,1.877-.463A9.029,9.029,0,0,1,16.778,3.68a28.033,28.033,0,0,0-3.65,3.812A27.992,27.992,0,0,0,8,8.749C7.866,5.659,8.683,3.373,10.235,2.479ZM2.017,16.723c0-1.928,1.646-3.715,4.31-5.072a27.76,27.76,0,0,0,1.479,5.078,28.156,28.156,0,0,0-1.475,5.066c-2.75-1.429-4.318-3.283-4.318-5.072Zm10.074,14.7a3.684,3.684,0,0,1-1.857-.456C8.661,30.055,7.853,27.78,8,24.7a28.105,28.105,0,0,0,5.122,1.254,28.219,28.219,0,0,0,3.652,3.812A9.118,9.118,0,0,1,12.092,31.42Zm14.592-.456c-1.55.894-3.937.463-6.544-1.2a28.218,28.218,0,0,0,3.652-3.812A28.193,28.193,0,0,0,28.917,24.7c.146,3.081-.662,5.357-2.237,6.265Zm3.909-9.169a28.41,28.41,0,0,0-1.475-5.065A28.321,28.321,0,0,0,30.6,11.651c2.662,1.357,4.308,3.144,4.308,5.072-.007,1.789-1.575,3.642-4.321,5.072Z" transform="translate(0 0)" fill="#0f172f"/><path id="Path_7124" data-name="Path 7124" d="M100,75.4a29.752,29.752,0,0,0-5,10.427l5-2.726,5,2.726A30.653,30.653,0,0,0,100,75.4Z" transform="translate(-81.541 -64.726)" fill="#0f172f"/></g></svg>'+'<h3>Click elements in the interface that you wish to manage</h3>'+'<div class="tool-toggle">'+'<div class="tool-toggle-text">'+'<b> Hide to navigate </b>'+'</div>'+'<div class="tool-toggle-icon">'+'<a href="#" class="btn-arrow btn-arrow--down mf-tool-toggle"></a>'+'</div>'+'</div>'+'<div class="tool-close">'+'<div class="tool-toggle-text">'+'Close'+'</div>'+'<div class="tool-toggle-icon">'+'<a href="#" class="btn-cross mf-tool-close"></a>'+'</div>'+'</div>'+'</div>'+'</div>'+'<div class="tool-content">'+'<ul class="tool-menu">'+'<li class="tool-menu-item mf-tool-exclude'+(_13._73==='exclude'?' active':'')+'">'+'Excluded content'+'</li>'+'<li class="tool-menu-item mf-tool-masked'+(_13._73==='masked'?' active':'')+'">'+'Masked content'+'</li>'+'<li class="tool-menu-item mf-tool-whitelist'+(_13._73==='whitelist'?' active':'')+'">'+'Whitelisted fields'+'</li>'+'<li class="tool-menu-item mf-tool-track'+(_13._73==='track'?' active':'')+'">'+'Tracked elements'+'</li>'+'</ul>'+'<div class="tool-exclude'+(_13._73==='exclude'?' active':'')+'">'+'<h2>Exclude content</h2>'+'<p>'+'To exclude content from being tracked, click on the element(s) you want to remove. '+'The excluded elements and any descendants inside those elements will not be stored or visible in Recordings or Heatmaps.'+'The CSS selectors of the selected elements will appear in the list below. '+'</p>'+'<p>'+'Click "Hide to navigate" to exclude more content or "Save and close" to apply changes. Check our <a href="https://help.mouseflow.com/en/articles/5973120-excluded-whitelisted-tracked-fields" target="_blank">Support Guide</a> for details and best practices.'+'</p>'+'<h3>Excluded content</h3>'+'<div>'+'<output></output>'+'</div>'+'</div>'+'<div class="tool-masked'+(_13._73==='masked'?' active':'')+'">'+'<h2>Mask content</h2>'+'<p>'+'Masking elements in the interface enables you to hide the content from being recorded without loosing interaction data (e.g. clicks, hovers) on that element. '+'Click the element in the interface that you would like to mask. '+'The CSS selectors of the selected elements will appear in the list below. '+'</p>'+'<p>'+'Click "Hide to navigate" to mask more content or "Save and close" to apply changes. Check our <a href="https://help.mouseflow.com/en/articles/5973120-excluded-whitelisted-tracked-fields" target="_blank">Support Guide</a> for details and best practices.'+'</p>'+'<h3>Masked content</h3>'+'<div>'+'<output></output>'+'</div>'+'</div>'+'<div class="tool-whitelist'+(_13._73==='whitelist'?' active':'')+'">'+'<h2>Whitelist input fields</h2>'+'<p>'+'Mouseflow automatically masks all fields to protect personal data. However, you can whitelist specific input fields by clicking on them. '+'This allows Mouseflow to record input in those fields. '+'The CSS selectors of the selected elements will appear in the list below. '+'</p>'+'<p>'+' Click "Hide to navigate" to whitelist more input fields or "Save and close" to apply changes. Check our <a href="https://help.mouseflow.com/en/articles/5973120-excluded-whitelisted-tracked-fields" target="_blank">Support Guide</a> for details and best practices.'+'</p>'+'<h3>Whitelisted fields</h3>'+'<div>'+'<output></output>'+'</div>'+'</div>'+'<div class="tool-track'+(_13._73==='track'?' active':'')+'">'+'<h2>Tracked elements</h2>'+'<p>'+'When viewing a Heatmap, most links show interaction data (e.g. clicks and hovers).'+'If you&quot;ve found an element that is not being tracked, you can select it here. '+'This will ensure the additional metrics are shown in your Heatmaps. '+'The CSS selectors of the selected elements will appear in the list below. '+'</p>'+'<p>'+'Click "Hide to navigate" or "Save and close" to finish. Check our <a href="https://help.mouseflow.com/en/articles/5973120-excluded-whitelisted-tracked-fields" target="_blank">Support Guide</a> for details and best practices.'+'</p>'+'<h3>Tracked elements</h3>'+'<div>'+'<output></output>'+'</div>'+'</div>'+'<div class="tool-status">'+'<div class="tool-status-text">'+_559(_13._99,_13._97,_13._116,_13._117)+'</div>'+'<div class="tool-status-buttons">'+'<button type="submit" class="btn-widget">Save and close</button>'+'<a href="#" class="green bold mf-tool-close">Close Privacy Tool</a>'+'</div>'+'</div>'+'<div class="tool-loading">'+'<h2 class="loading">Loading the Privacy Tool<i>.</i><i>.</i><i>.</i></h2>'+'</div>'+'<div class="tool-message">'+'<h3>Browser window is to small to load the Privacy Tool</h3>'+'<p>To use Mouseflow\'s Privacy Tool, you need to view the page in a larger browser window.</p>'+'</div>'+'</div>'+'</div>')}function _1187(_37){return _37.map(function(_7){return('<div class="tm-tag" data-target="'+_11._154(_7)+'">'+_11._154(_7)+'<a href="#" class="btn-cross mf-remove-excluded"></a>'+'</div>')}).join('')}function _1186(_37){return _37.map(function(_7){return('<div class="tm-tag" data-target="'+_11._154(_7)+'">'+_11._154(_7)+'<a href="#" class="btn-cross mf-remove-whitelisted"></a>'+'</div>')}).join('')}function _1185(_37){return _37.map(function(_7){return('<div class="tm-tag" data-target="'+_11._154(_7)+'">'+_11._154(_7)+'<a href="#" class="btn-cross mf-remove-tracked"></a>'+'</div>')}).join('')}function _1204(_37){return _37.map(function(_7){return('<div class="tm-tag" data-target="'+_11._154(_7)+'">'+_11._154(_7)+'<a href="#" class="btn-cross mf-remove-masked"></a>'+'</div>')}).join('')}function _559(_99,_97,_799,_783){return'<p>You have:</p>'+'<p>'+'&nbsp;&bull; excluded <i class="emphasis"> '+_99.length+'</i> '+(_99.length===1?'element':'elements')+'<br>'+'&nbsp;&bull; masked <i class="emphasis"> '+_783.length+'</i> '+(_783.length===1?'element':'elements')+'<br>'+'&nbsp;&bull; whitelisted <i class="emphasis">'+_97.length+'</i> input '+(_97.length===1?'field':'fields')+'<br>'+'&nbsp;&bull; tracked <i class="emphasis">'+_799.length+'</i> input '+(_799.length===1?'element':'elements')+'</p>'}function _1226(){var _143=new CSSStyleSheet();_143.replace(_586());return _143}function _586(){return('@font-face {'+'font-family: "Open Sans";'+'font-style: normal;'+'font-weight: 400;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-regular.woff2) format("woff2");'+'}'+'@font-face {'+'font-family: "Open Sans";'+'font-style: normal;'+'font-weight: 700;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-bold.woff2) format("woff2");'+'}'+':root,'+':host {'+'--deep-ocean: #08163c;'+'--dusty-cloud: #f7f9fc;'+'--dark-border: #bbc8e0;'+'--lighter-navy: #d4dbe3;'+'--dark-mode: #10172D;'+'--serious-business: #0b65e3;'+'--light-blue: #66A7FD;'+'--subtle-warmth: #7162e3;'+'--lighter-aqua: #ebf2fa;'+'--dusty-cloud-darker: #E4E9F2;'+'--deep-ocean-light: #A1B2D3;'+'--redwine-vibes: #cd575f;'+'}'+'.mf-highlight {'+'cursor: pointer !important;'+'}'+'.mf-privacy-tool-opened iframe {'+'pointer-events: none;'+'}'+'#mouseflow {'+'font-weight: 400;'+'font-family: \'Open Sans\', Arial, sans-serif;'+'}'+'#mouseflow .highlight-box {'+'background-color: #add8e6;'+'border: 2px dotted #808080;'+'position: absolute;'+'border-radius: 2px;'+'z-index: 2147483646;'+'cursor: pointer;'+'pointer-events: none;'+'opacity: 0.5;'+'-webkit-transition: opacity .075s linear;'+'transition: opacity .075s linear;'+'}'+'#mouseflow .highlight-box.hidden,'+'#mouseflow .tool-closed .highlight-box {'+'opacity: 0;'+'}'+'#mouseflow .highlight-box.highlight-excluded {'+'background-color: #FFD2CF80;'+'opacity: 1;'+'pointer-events: initial;'+'}'+'#mouseflow .highlight-box.highlight-whitelisted {'+'background-color: #70C59780;'+'opacity: 1;'+'pointer-events: initial;'+'}'+'#mouseflow .highlight-box.highlight-tracked {'+'background-color: #92C6FB80;'+'opacity: 1;'+'pointer-events: initial;'+'}'+'#mouseflow .highlight-box.highlight-masked {'+'background-color: #FFECBD80;'+'opacity: 1;'+'pointer-events: initial;'+'}'+'#mouseflow .tool-closed .highlight-box.highlight-excluded,'+'#mouseflow .tool-closed .highlight-box.highlight-whitelisted,'+'#mouseflow .tool-closed .highlight-box.highlight-masked,'+'#mouseflow .tool-closed .highlight-box.highlight-tracked {'+'pointer-events: none;'+'}'+'#mouseflow .btn-widget {'+'background: var(--serious-business);'+'}'+'#mouseflow .widget-header {'+'background: var(--dusty-cloud);'+'}'+'#mouseflow .widget-text,'+'#mouseflow .btn-arrow,'+'#mouseflow .btn-cross {'+'color: var(--deep-ocean);'+'}'+'#mouseflow .btn-widget {'+'color: white;'+'}'+'#mouseflow .tm-tag {'+'margin: 7px 7px 0 0;'+'padding: 7px;'+'display: inline-block;'+'border-radius: 8px;'+'border: 1px solid var(--dark-border);'+'background-color: var(--dusty-cloud);'+'color: var(--deep-ocean);'+'font-size: 13px;'+'}'+'#mouseflow .step {'+'visibility: hidden;'+'opacity: 0;'+'position: fixed;'+'bottom: 30px;'+'right: 30px;'+'z-index: 2147483647;'+'width: 300px;'+'border-radius: 8px;'+'border: 1px solid var(--deep-ocean);'+'overflow: hidden;'+'}'+'#mouseflow a:hover {'+'text-decoration: underline;'+'}'+'#mouseflow h2 {'+'font-size: 21px;'+'font-weight: 700;'+'line-height: 1.4em;'+'margin-bottom: 6px;'+'}'+'#mouseflow h3 {'+'font-size: 16px;'+'font-weight: 700;'+'line-height: 1.4em;'+'color: #08163C;'+'}'+'#mouseflow p {'+'margin-bottom: 8px;'+'line-height: 1.4em;'+'}'+'#mouseflow .green {'+'color: var(--deep-ocean);'+'}'+'#mouseflow .red {'+'color: var(--redwine-vibes);'+'}'+'#mouseflow .emphasis {'+'color: var(--subtle-warmth);'+'font-weight: 700;'+'}'+'#mouseflow .bold {'+'font-weight: 700;'+'}'+'#mouseflow .tool-container {'+'visibility: visible;'+'opacity: 0;'+'position: fixed;'+'bottom: 0;'+'left: 0;'+'width: 100%;'+'height: 350px;'+'max-height: 40%;'+'overflow: hidden;'+'background-color: white;'+'box-shadow: 0 0 6px var(--deep-ocean-light);'+'z-index: 2147483647;'+'}'+'#mouseflow .tool-header {'+'background-color: var(--dusty-cloud);'+'height: 58px;'+'border: 1px solid var(--dusty-cloud-darker);'+'}'+'#mouseflow .tool-title { '+'display: flex;'+'vertical-align: middle;'+'align-items: center;'+'}'+'#mouseflow .logo {'+'display: inline;'+'height: 30px;'+'margin: 14px 10px;'+'fill: black;'+'}'+'#mouseflow .tool-toggle,'+'#mouseflow .tool-close {'+'margin-left: auto;'+'padding: 18px 24px;'+'}'+'#mouseflow .is-loading .tool-close {'+'display: block;'+'}'+'#mouseflow .is-loading .tool-toggle,'+'#mouseflow .tool-close {'+'display: none;'+'}'+'#mouseflow .tool-toggle-text {'+'display: inline-block;'+'color: var(--deep-ocean);'+'font-size: 16px;'+'font-weight: 700;'+'}'+'#mouseflow .tool-toggle-icon {'+'width: 23px;'+'display: inline-block;'+'position: relative;'+'top: 0px;'+'}'+'#mouseflow .tool-close .tool-toggle-icon {'+'top: 4px;'+'}'+'#mouseflow .tool-content {'+'height: calc(100% - 58px);'+'}'+'#mouseflow .tool-menu {'+'width: 15%;'+'height: 100%;'+'float: left;'+'}'+'#mouseflow .tool-menu-item {'+'background-color: var(--dusty-cloud);'+'color: var(--deep-ocean);'+'cursor: pointer;'+'height: 40px;'+'padding: 12px;'+'}'+'#mouseflow .tool-menu-item.active {'+'position: relative;'+'background-color: var(--lighter-navy);'+'color: var(--deep-ocean);'+'cursor: default;'+'}'+'#mouseflow .tool-exclude,'+'#mouseflow .tool-whitelist,'+'#mouseflow .tool-track,'+'#mouseflow .tool-masked {'+'display: none;'+'width: 70%;'+'height: 100%;'+'float: left;'+'color: var(--deep-ocean);'+'overflow-y: auto;'+'overflow-x: hidden;'+'padding: 10px 20px;'+'}'+'#mouseflow .tool-exclude p, #mouseflow .tool-whitelist p, #mouseflow .tool-track p, #mouseflow .tool-masked p {'+'color: black;'+'}'+'#mouseflow .tool-exclude.active,'+'#mouseflow .tool-whitelist.active,'+'#mouseflow .tool-masked.active,'+'#mouseflow .tool-track.active {'+'display: block;'+'}'+'#mouseflow .tool-exclude::-webkit-scrollbar,'+'#mouseflow .tool-whitelist::-webkit-scrollbar,'+'#mouseflow .tool-masked::-webkit-scrollbar,'+'#mouseflow .tool-track::-webkit-scrollbar {'+'width: 8px;'+'}'+'#mouseflow .tool-exclude::-webkit-scrollbar-track,'+'#mouseflow .tool-whitelist::-webkit-scrollbar-track,'+'#mouseflow .tool-masked::-webkit-scrollbar-track,'+'#mouseflow .tool-track::-webkit-scrollbar-track {'+'border-radius: 10px;'+'background-color: #F5F5F5;'+'-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);'+'}'+'#mouseflow .tool-exclude::-webkit-scrollbar-thumb,'+'#mouseflow .tool-whitelist::-webkit-scrollbar-thumb,'+'#mouseflow .tool-masked::-webkit-scrollbar-thumb,'+'#mouseflow .tool-track::-webkit-scrollbar-thumb {'+'border-radius: 10px;'+'background-color: #a7a7a7;'+'-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);'+'}'+'#mouseflow .tool-status {'+'width: 15%;'+'background-color: var(--dusty-cloud);'+'color: var(--deep-ocean);'+'height: 100%;'+'float: left;'+'position: relative;'+'}'+'#mouseflow .tool-status-text {'+'font-size: 16px;'+'font-weight: 300;'+'text-align: left;'+'padding: 0 15px;'+'position: absolute;'+'top: 40px;'+'}'+'#mouseflow .tool-status-buttons {'+'width: 100%;'+'text-align: center;'+'position: absolute;'+'padding: 0 30px;'+'bottom: 40px;'+'}'+'#mouseflow .tool-loading {'+'width: 100%;'+'height: calc(100% - 58px);'+'background-color: white;'+'color: rgb(71, 64, 62);'+'position: absolute;'+'top: 58px;'+'z-index: 2;'+'visibility: hidden;'+'opacity: 0;'+'-webkit-animation: fadeOut .3s linear;'+'animation: fadeOut .3s linear;'+'}'+'#mouseflow .is-loading .tool-loading {'+'visibility: visible;'+'opacity: 1;'+'-webkit-animation: fadeIn .3s linear;'+'animation: fadeIn .3s linear;'+'}'+'#mouseflow .tool-loading h2 {'+'position: absolute;'+'left: 50%;'+'top: 50%;'+'-webkit-transform: translate(-50%, -50%);'+'-ms-transform: translate(-50%, -50%);'+'transform: translate(-50%, -50%);'+'}'+'#mouseflow .widget-header {'+'color: #fff;'+'padding: 12px 15px;'+'vertical-align: middle;'+'overflow: hidden;'+'position: relative;'+'z-index: 1;'+'-webkit-transition: opacity .3s linear;'+'transition: opacity .3s linear;'+'}'+'#mouseflow .widget-header:hover {'+'background-color: var(--lighter-aqua);'+'}'+'#mouseflow .widget-text {'+'font-size: 16px;'+'line-height: 20px;'+'width: 245px;'+'display: inline-block;'+'vertical-align: middle;'+'}'+'#mouseflow .widget-toggle {'+'width: 20px;'+'display: inline-block;'+'vertical-align: middle;'+'margin: 0;'+'}'+'#mouseflow .btn-arrow,'+'#mouseflow .btn-cross {'+'float: right;'+'z-index: 10;'+'line-height: .5;'+'}'+'#mouseflow .tool-toggle-icon .btn-arrow,'+'#mouseflow .tool-toggle-icon .btn-cross {'+'font-size: 23px;'+'}'+'#mouseflow .widget-toggle .btn-arrow {'+'font-size: 23px;'+'}'+'#mouseflow .tm-tag .btn-cross {'+'margin: 3px 0 0 7px;'+'font-weight: 700;'+'font-size: 16px;'+'}'+'#mouseflow .btn-arrow--up {'+'-webkit-transform: rotate(-90deg) scale(1.5, 1.5);'+'-ms-transform: rotate(-90deg) scale(1.5, 1.5);'+'transform: rotate(-90deg) scale(1.5, 1.5);'+'}'+'#mouseflow .btn-arrow--down {'+'-webkit-transform: rotate(+90deg) scale(1.5, 1.5);'+'-ms-transform: rotate(+90deg) scale(1.5, 1.5);'+'transform: rotate(+90deg) scale(1.5, 1.5);'+'}'+'#mouseflow .widget-toggle .btn-arrow:before {'+'content: "";'+'display: inline;'+'position: absolute;'+'top: -185px;'+'left: -15px;'+'right: -15px;'+'bottom: -15px;'+'display: block;'+'}'+'#mouseflow .tool-toggle-icon .btn-arrow:before {'+'content: "";'+'display: inline;'+'position: absolute;'+'top: -10px;'+'left: -15px;'+'right: -15px;'+'bottom: -100px;'+'display: block;'+'}'+'#mouseflow .tool-toggle-icon .btn-cross:before {'+'content: "";'+'display: inline;'+'position: absolute;'+'top: -25px;'+'left: -150px;'+'right: -20px;'+'bottom: -20px;'+'display: block;'+'}'+'#mouseflow .btn-arrow:after {'+'content: "\\203a";'+'display: inline;'+'}'+'#mouseflow .btn-cross:after {'+'content: "\\00d7";'+'display: inline;'+'top: -4px;'+'position: relative;'+'}'+'#mouseflow .tm-tag .btn-cross:after {'+'top: 0px;'+'}'+'#mouseflow .btn-arrow:hover,'+'#mouseflow .btn-cross:hover {'+'text-decoration: none;'+'}'+'#mouseflow .btn-widget {'+'width: 100%;'+'height: 38px;'+'border: none;'+'border-radius: 8px;'+'overflow: hidden;'+'position: relative;'+'z-index: 1;'+'cursor: pointer;'+'display: block;'+'padding: 10px;'+'font-size: 16px;'+'font-family: inherit;'+'font-weight: bold;'+'text-align: center;'+'outline: none;'+'color: var(--dusty-cloud);'+'margin-bottom: 10px;'+'-webkit-transition: background-color .3s linear;'+'transition: background-color .3s linear;'+'}'+'#mouseflow .btn-widget:hover {'+'text-decoration: none;'+'background-color: var(--light-blue);'+'}'+'#mouseflow .privacy-tool {'+'height: 350px;'+'max-height: 40%;'+'-webkit-transition: height .5s ease-out;'+'transition: height .5s ease-out;'+'}'+'#mouseflow .privacy-tool.tool-closed {'+'height: 0;'+'}'+'#mouseflow .tool-closed .step {'+'visibility: visible;'+'}'+'#mouseflow .tool-closed .tool-container {'+'visibility: hidden;'+'}'+'#mouseflow .step.fade-in,'+'#mouseflow .tool-container.fade-in {'+'-webkit-animation: fadeUpIn .8s cubic-bezier(0, 0, 0, 1) both;'+'animation: fadeUpIn .8s cubic-bezier(0, 0, 0, 1) both;'+'}'+'#mouseflow .step.fade-out,'+'#mouseflow .tool-container.fade-out {'+'-webkit-animation: fadeDownOut .8s cubic-bezier(0, 0, 0, 1);'+'animation: fadeDownOut .8s cubic-bezier(0, 0, 0, 1);'+'}'+'#mouseflow .btn-widget.loading {'+'cursor: default;'+'}'+'#mouseflow .btn-widget.loading:before {'+'display: none;'+'}'+'#mouseflow .loading i {'+'animation-name: blink;'+'animation-duration: 1.4s;'+'animation-iteration-count: infinite;'+'animation-fill-mode: both;'+'}'+'#mouseflow .loading i:nth-child(2) {'+'animation-delay: .2s;'+'}'+'#mouseflow .loading i:nth-child(3) {'+'animation-delay: .4s;'+'}'+'#mouseflow .loading i:nth-child(4) {'+'animation-delay: .6s;'+'}'+'#mouseflow .tool-message {'+'width: 100%;'+'height: calc(100% - 58px);'+'background-color: white;'+'color: rgb(71, 64, 62);'+'position: absolute;'+'top: 58px;'+'z-index: 3;'+'padding: 20px;'+'overflow-y: auto;'+'overflow-x: hidden;'+'visibility: hidden;'+'opacity: 0;'+'-webkit-animation: fadeOut .3s linear;'+'animation: fadeOut .3s linear;'+'}'+'#mouseflow .tool-message h3 {'+'margin-bottom: 20px;'+'}'+'@media (max-width: 1300px) {'+'#mouseflow .tool-exclude,'+'#mouseflow .tool-whitelist,'+'#mouseflow .tool-masked,'+'#mouseflow .tool-track {'+'width: 60%;'+'}'+'#mouseflow .tool-status {'+'width: 25%;'+'}'+'#mouseflow .tool-status-buttons {'+'bottom: 10px;'+'}'+'}'+'@media (max-width: 850px) {'+'#mouseflow .tool-menu-item {'+'height: 56px;'+'}'+'#mouseflow .tool-status-text {'+'font-size: 14px;'+'}'+'#mouseflow .btn-widget {'+'font-size: 12px;'+'}'+'#mouseflow a.mf-tool-close {'+'font-size: 12px;'+'}'+'}'+'@media (max-height: 800px) {'+'#mouseflow .tool-status-text {'+'top: 20px;'+'}'+'#mouseflow .tool-status-buttons {'+'bottom: 20px;'+'}'+'}'+'@media (max-height: 650px) {'+'#mouseflow .tool-status-text {'+'font-size: 14px;'+'}'+'}'+'@media (max-width: 650px), (max-height: 600px) {'+'#mouseflow .tool-message {'+'visibility: visible;'+'opacity: 1;'+'-webkit-animation: fadeIn .3s linear;'+'animation: fadeIn .3s linear;'+'}'+'}'+'@-webkit-keyframes fadeUpIn {'+'0% {'+'-webkit-transform: translateY(50px);'+'-ms-transform: translateY(50px);'+'transform: translateY(50px);'+'opacity: 0;'+'}'+'100% {'+'-webkit-transform: translateY(0);'+'-ms-transform: translateY(0);'+'transform: translateY(0);'+'opacity: 1;'+'}'+'}'+'@keyframes fadeUpIn {'+'0% {'+'-webkit-transform: translateY(50px);'+'-ms-transform: translateY(50px);'+'transform: translateY(50px);'+'opacity: 0;'+'}'+'100% {'+'-webkit-transform: translateY(0);'+'-ms-transform: translateY(0);'+'transform: translateY(0);'+'opacity: 1;'+'}'+'}'+'@-webkit-keyframes fadeDownOut {'+'0% {'+'visibility: visible;'+'-webkit-transform: translateY(0);'+'-ms-transform: translateY(0);'+'transform: translateY(0);'+'opacity: 1;'+'}'+'100% {'+'visibility: hidden;'+'-webkit-transform: translateY(50px);'+'-ms-transform: translateY(50px);'+'transform: translateY(50px);'+'opacity: 0;'+'}'+'}'+'@keyframes fadeDownOut {'+'0% {'+'visibility: visible;'+'-webkit-transform: translateY(0);'+'-ms-transform: translateY(0);'+'transform: translateY(0);'+'opacity: 1;'+'}'+'100% {'+'visibility: hidden;'+'-webkit-transform: translateY(50px);'+'-ms-transform: translateY(50px);'+'transform: translateY(50px);'+'opacity: 0;'+'}'+'}'+'@-webkit-keyframes fadeIn {'+'0% {'+'visibility: visible;'+'opacity: 0;'+'}'+'100% {'+'visibility: visible;'+'opacity: 1;'+'}'+'}'+'@keyframes fadeIn {'+'0% {'+'visibility: visible;'+'opacity: 0;'+'}'+'100% {'+'visibility: visible;'+'opacity: 1;'+'}'+'}'+'@-webkit-keyframes fadeOut {'+'0% {'+'visibility: visible;'+'opacity: 1;'+'}'+'100% {'+'visibility: hidden;'+'opacity: 0;'+'}'+'}'+'@keyframes fadeOut {'+'0% {'+'visibility: visible;'+'opacity: 1;'+'}'+'100% {'+'visibility: hidden;'+'opacity: 0;'+'}'+'}'+'@keyframes blink {'+'0% {'+'opacity: .2;'+'}'+'20% {'+'opacity: 1;'+'}'+'100% {'+'opacity: .2;'+'}'+'}')}this._34=_34;this._65=_65}function _1022(_3,_119,_17,_11,_27,_2,_90){var _8,_80,_141,_48,_854,_585;function _34(_221,_320,_1225,_66){_48=_320;_8=_221;_585=_66;_854=!!_1225;_8('Tagger tool starting');_80=_119._284();if(!_80){_8('Tagger tool not initiated - could not create root HTML element');return}if(!_3.opener){_8('Tagger tool not initiated - window.opener is missing');return}_216()}function _216(){_27._41(_3,'message',function(_42){if(_42.origin!==_48)return;_313(_42.data);switch(_42.data.message){case'MouseflowTaggerTool_Init_Received':_17._123(_141);break;case'MouseflowTaggerTool_Init_Success':_326(_42.data.scripts,function(){taggerToolWidget.start(_90._137());if(typeof _585==='function')_585();_8('Tagger tool scripts loaded')});break}});_141=_17._184(_814,500);_17._39(function(){_17._123(_141)},10000);_814()}function _814(){_199({message:'MouseflowTaggerTool_Init',startWithHeatMap:_854})}function _326(_175,_66){if(!_175)return;var _218=0;function _312(){if(_218>=_175.length){_66();return}var _89=_175[_218];_583(_89);_218++;var _183=document.createElement('script');if(_89.startsWith('/'))_183.src=_48+_89;else _183.src=_48+'/'+_89;_183.onload=_312;_80.appendChild(_183)}_312()}function _583(_89){_8('Tagger tool loading script: '+_89)}function _313(_10){if(_10.message&&_10.message.indexOf('MouseflowTaggerTool_')===0)_8('Received '+_10.message+(_10.requestUrl?', request URL: '+_10.requestUrl:''))}function _199(_10){_3.opener.postMessage(_10,_48);_8('Sent '+_10.message+(_10.requestUrl?', request URL: '+_10.requestUrl:''))}this._34=_34}function _1000(_2,_476,_486){function _137(){if(_2.forcePath&&_2.path)return _2.path.toLowerCase();var _86=(_2.crossDomainSupport?_2.location.hostname:'')+(_2.path||(_2.decodePathName?decodeURIComponent(_2.location.pathname):_2.location.pathname)).toLowerCase();var _131=(_2.includeHashInPath?_2.location.hash:'').toLowerCase();var _128=_2.location.search.toLowerCase();if(_86!=='/'&&_86.slice(-1)==='/'&&(!_2.includeQueryStringInPath&&!_2.includeHashInPath))_86=_86.slice(0,-1);return _1223(_86+(_2.includeQueryStringInPath?_128:'')+_131)||_86+_1220(_128)+_131}function _1223(_86){return _476.filter(function(_91){return _1218(_86,_91)}).map(function(_91){return _1217(_91)})[0]}function _1220(_128){if(_128[0]==='?')_128=_128.slice(1);var _75;var _582=[];var _1219=/([^&=]+)=?([^&]*)/g;while((_75=_1219.exec(_128))!==null){var _50=_486.indexOf(_75[1]);if(_75[2]&&_50>-1)_582[_50]=_75[0]}return _582.length?'?'+_582.filter(hasValue).join('&'):(_2.includeQueryStringInPath&&_128?'?'+_128:'')}function _1218(_86,_91){var _815=_86.indexOf('?');if(!_2.includeQueryStringInPath&&_815>-1)_86=_86.slice(0,_815);switch(_91._22){case'equals':return _86===_91._5.toLowerCase();case'startsWith':return _86.substr(0,_91._5.length)===_91._5;case'endsWith':return _86.substr(-_91._5.length)===_91._5;case'contains':return _86.includes(_91._5.toLowerCase());case'regex':return new RegExp(_91._5).test(_86);default:return false}}function _1217(_91){if(_91._581)return _91._581;switch(_91._22){case'startsWith':return _91._5+'*';case'endsWith':return'*'+_91._5;default:return _91._5}}function hasValue(value){return value}this._137=_137}function _843(_22,_3,_11,_8){var _276=_1212(_22);this._158=function(_16){try{return _276.getItem(_16)||null}catch(e){_8(e);return null}};this._262=function(_16){try{return _11._370(this._158(_16))||null}catch(e){_8(e);return null}};this._125=function(_16,_5){try{_276.setItem(_16,_5);return true}catch(e){_8(e);return false}};this._277=function(_16,_5){try{return this._125(_16,_11._134(_5))}catch(e){_8(e);return false}};this._263=function(_16){try{_276.removeItem(_16)}catch(e){_8(e)}};this._860=function(){try{var _16='mf_supportsSessionStorage';var _5='1';_276.setItem(_16,_5);var _1213=_276.getItem(_16)===_5;_276.removeItem(_16);return _1213}catch(e){_8(e);return false}};function _1212(_22){switch(_22){case'local':return _3.localStorage;case'session':return _3.sessionStorage;default:throw Error('Unknown storage type: '+(_22||'null'))}}}function _1086(_3,_11,_2,_8){var _12=_3.document;var _79=_3.location;var _1114=7776000000;this._1087=function(_23){var _845=_23+'=';var _844=_12.cookie.split(';');for(var i=0;i<_844.length;i++){var c=_844[i];while(c.charAt(0)===' '){c=c.substring(1)}if(c.indexOf(_845)===0){return c.substring(_845.length,c.length)}}return''};this._158=function(_16){try{return this._1087(_16)}catch(e){_8(e);return null}};this._262=function(_16){try{return _11._370(this._158(_16))||null}catch(e){_8(e);return null}};this._964=function(_23,_5,_215,_31){var _846='';if(_215==1){var _121=new Date();_121.setTime(_121.getTime()+_1114);_846='; expires='+_121.toGMTString()}var _1051=_2.secureCookie?'secure;':'';_12.cookie=_23+'='+_5+_846+'; path=/; domain='+_31+';'+_1051+'SameSite=Strict;'};this._125=function(_16,_5,_215,_31){try{this._964(_16,_5,_215,_31);return true}catch(e){_8(e);return false}};this._277=function(_16,_5,_215,_31){try{return this._125(_16,_11._134(_5),_215,_31)}catch(e){_8(e);return false}};this._263=function(_16){try{_12.cookie=_16+'=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/; domain='+_11._325(_79,_2)+';'}catch(e){_8(e)}}}function _992(_3,_17,_11,_2,_8){this._847=function(){_3._mfq=[]};this._260=function(){if(!_3._mfq)this._847();for(var _50=0;_50<_3._mfq.length;_50++){var _59=_3._mfq[_50];if(_59&&_59.length){var _848=true;if(_59[0]==='config')_2._402.apply(_2,_59.slice(1));else if(_59[0]==='newPageView')_2._562.apply(_2,_59.slice(1));else _848=false;if(_848)delete _3._mfq[_50]}}};this._34=function(){_3._mfq=new _135(_3._mfq)};this._849=function(){_3._mfq.push.apply(_3._mfq,arguments)};this._958=function(){return _3._mfq};function _135(_437){if(!_437)_437=[];var _38=this;_17._39(function(){for(var _50=0;_50<_437.length;_50++)_38.push(_437[_50])},1)}_135.prototype.push=function(_59){if(!_59)return;try{if(typeof _59==='object'&&_59.length){_3.mouseflow[_59.slice(0,1)].apply(_3.mouseflow,_59.slice(1))}else if(typeof _59==='function'){_59(_3.mouseflow)}}catch(error){var _223='Failed to execute item on action queue';var _850=_11._134(_59);if(_850)_223+='\n'+_850;_223+='\n'+error;_8(_223)}}}function _953(_24,_11){var _571=[];var _965=['target','button','pageX','pageY','which','data','origin','source','touches','key','clientX','clientY'];function _984(_25,_6,_53,_572,_18){var _98=!!_18._98;var _852=function(_9){var _367=[];if(_9.composedPath&&((_9.target&&_9.target.shadowRoot)||_53))_367=_9.composedPath();var _851=_9;_9=_948(_9);_9.preventDefault=function(){_851.preventDefault()};_9.stopPropagation=function(){_851.stopPropagation()};if(_9.target&&_9.target.shadowRoot&&_367.length)_9.target=_367[0];if(_53){_9.delegatedTarget=_855(function(_56,_4){return _367.length?_367[_4]:(_56?_24._88(_56):_9.target)},_53);if(!_9.delegatedTarget&&!_18._949)return;if(_18._417&&_9.target!==_9.delegatedTarget)return}else if(_18._417&&_9.target!==_25){return}if(_18._108)_9.preventDefault();if(_18._1281)_9.stopPropagation();_572.apply(this,arguments)};_25.addEventListener(_6,_852,{capture:_98});_571.push({_25:_25,_6:_6,_572:_852,_98:_98})}function _948(_9){var _853={};_965.forEach(function(_16){if(_9[_16]!=undefined)_853[_16]=_9[_16]});return _853}function _983(){_571.forEach(function(_27){_27._25.removeEventListener(_27._6,_27._572,{capture:_27._98})});_571=[]}function _855(_867,_53,_25,_50){if(!_50)_50=0;_25=_867(_25,_50);if(!_25||!_53)return null;if(_11._101(_25,_53))return _25;return _855(_867,_53,_25,++_50)}this._41=function(_25,_6,_53,_66,_18){if(typeof _53==='function'){_18=_66;_66=_53;_53=null}_984(_25,_6,_53,_66,_18||{})};this._856=_983}function _834(_2,_11){function _566(_189,_344){if(!_189||!_189.length)return true;_189=_189.filter(function(_78){return _78&&_78._22&&_78._5});var _857=_189.filter(function(_78){return _78._22.indexOf('not')!==0});var _979=_857.length===0||_857.some(function(_78){return _296(_78,_344)});var _858=_189.filter(function(_78){return _78._22.indexOf('not')===0});var _980=_858.length===0||_858.every(function(_78){return _296(_78,_344)});return _980&&_979}function _296(_78,_344){const _86=_2.path||_2.location.pathname;const _131=_2.includeHashInPath?_2.location.hash:'';const _128=_2.includeQueryStringInPath?_2.location.search:'';const _28=(_86+_128+_131).toLowerCase();const _859=_344?.toLowerCase();const _987=_344&&_859===_78._5?.toLowerCase();let _565=_987?_564(_78,_859):_564(_78,_28);if(!_565&&_2.crossDomainSupport)_565=_564(_78,_2.location.hostname+_28);return _565}function _564(_78,_28){const _22=(_78._22||'').toLowerCase();const _5=(_78._5||'').toLowerCase();const _382=_11._391(_28,'/');const _388=_11._391(_5,'/');const _978={equals:()=>_382===_388,startswith:()=>_28.startsWith(_5),endswith:()=>_382.endsWith(_388),regex:()=>new RegExp(_5).test(_28),contains:()=>_28.includes(_5),notequals:()=>_382!==_388,notstartswith:()=>!_28.startsWith(_5),notendswith:()=>!_382.endsWith(_388),notcontains:()=>!_28.includes(_5)};return _978[_22]?.()??true}this._566=_566;this._296=_296}function _946(_3,_60,_133,_569,_568,_567){const _79=_3.location;const _12=_3.document;const _974=URL.parse??_570;function _570(_19){var _101=(_19||'').match(/^(([^:]+:)?\/?\/?(([^:/?#]+)?:?(\d+)?))(\/.*?)?(\?.*?)?(#.*)?$/);return{href:_101[0]||'',origin:_101[1]||'',protocol:_101[2]||'',host:_101[3]||'',hostname:_101[4]||'',port:_101[5]||'',pathname:_101[6]||'',search:_101[7]||'',hash:_101[8]||''}}function _861(_973){if(_567)return'';const _19=_974(_973);return _19?.protocol&&_19?.origin?_19.origin:''}this.debug=_3.mouseflowDebug||_79.search.indexOf('mf_debug=1')!==-1;this.includeDebugTime=false;this.forceStart=_79.search.indexOf('mf_force=1')!==-1;this.autoStart=_3.mouseflowAutoStart!==false&&_79.search.indexOf('mf_autostart=0')===-1;this.enableBots=false;this.touchEvents=!_3.mouseflowDisableTouch;this.htmlDelay=_3.mouseflowHtmlDelay||1000;this.newPageViewHtmlDelay=_3.mouseflowNewPageViewHtmlDelay||500;this.compress=_3.mouseflowCompress!==false&&_79.search.indexOf('mf_compress=0')===-1;this.compressFunction=null;this.autoTagging=_3.mouseflowAutoTagging!==false;this.path=_3.mouseflowPath;this.forcePath=false;this.crossDomainSupport=!!_3.mouseflowCrossDomainSupport;this.location=_570(_3.mouseflowHref||_79.href);this.hasCustomHref=!!_3.mouseflowHref;this.referrer=_861(_3.mouseflowReferrer!==undefined?_3.mouseflowReferrer:_12.referrer);this.htmlFetchMode=_3.mouseflowHtmlFetchMode||'post';this.sessionId=_3.mouseflowSessionId;this.honorDoNotTrack=_3.mouseflowHonorDoNotTrack||_568;this.gdprEnabled=_3.mouseflowForceGdpr||_569;this.keyLogging=!_3.mouseflowDisableKeyLogging&&!this.gdprEnabled;this.domReuse=!_3.mouseflowDisableDomReuse;this.domDeduplicator=!_3.mouseflowDisableDomDeduplicator;this.includeSubDomains=!_3.mouseflowExcludeSubDomains;this.registerSubmitTimeout=_3.mouseflowRegisterSubmitTimeout||2000;this.useUnload=!!_3.mouseflowUseUnload;this.replaceLastFormValues=_3.mouseflowReplaceLastFormValues||!this.keyLogging||this.gdprEnabled;this.useAllHoverSelectors=!!_3.mouseflowUseAllHoverSelectors;this.enableCssRecording=!!_3.mouseflowEnableCssRecording;this.secureCookie=!!_3.mouseflowSecureCookie;this.enableSpa=true;this.includeHashInPath=false;this.includeQueryStringInPath=false;this.autoTagPayments=true;this.preferStorageApi=!!_3.mouseflowPreferStorageApi;this.domMutationDetectorEnable=_3.domMutationDetectorEnable!==undefined?_3.domMutationDetectorEnable:false;this.domMutationUseParentNode=_3.domMutationUseParentNode!==undefined?_3.domMutationUseParentNode:true;this.domMutationUsePreviousSibling=_3.domMutationUsePreviousSibling!==undefined?_3.domMutationUsePreviousSibling:false;this.domMutationCountThreshold=_3.domMutationCountThreshold!==undefined?_3.domMutationCountThreshold:20;this.domMutationTimeThresholdInSeconds=_3.domMutationTimeThresholdInSeconds!==undefined?_3.domMutationTimeThresholdInSeconds:10;this.liveHeatmapsEnabled=false;this.privacyToolEnabled=false;this.taggerToolEnabled=false;this.useIdSelectors=_3.mouseflowUseIdSelectors!==undefined?_3.mouseflowUseIdSelectors:true;this.useSelectorGenerator=_3.mouseflowUseSelectorGenerator!==undefined?_3.mouseflowUseSelectorGenerator:false;this.proxyAttachShadow=true;this.scrollSelector=_3.mouseflowScrollSelector;this.autoScrollSelector=_3.mouseflowAutoScrollSelector||false;this.freezeElementIds=[];this.proxyValueSetter=false;this.decodePathName=false;this.forms=_3.mouseflowFormsConfiguration||null;this.notFoundIdentifiers=_3.mouseflowNotFoundIdentifiers||["Not Found","404"];this.debugDeadClick=_79.search.indexOf('mf_debugDeadClick=1')!==-1;this.enableDeadClick=true;this.enableDataLayerCapture=!!_3.mouseflowEnableDataLayerCapture;this._260=function(){const _290=typeof _3.name==='string'&&_3.name.startsWith('mf_')?_3.name.slice(3).split('_'):[];if(`${_290[0]}_${_290[3]}`==='liveHeatmaps_v3'){this.liveHeatmapsV3Enabled=true;_133._125('mf_liveHeatmaps_version','v3')}else if(_133._158('mf_liveHeatmaps_version')==='v3'){this.liveHeatmapsV3Enabled=true}if(!!_3.opener&&_79.search.indexOf('mf_liveHeatmaps')!==-1){this.liveHeatmapsEnabled=true;this.taggerToolEnabled=true;return}if(_79.search.indexOf('mf_inspect')!==-1){this.privacyToolEnabled=true;return}if(!!_3.opener&&_290[0]==='liveHeatmaps'){this.liveHeatmapsEnabled=true;this.taggerToolEnabled=true;return}if(_290[0]==='privacyTool'){this.privacyToolEnabled=true;return}if(`${_290[0]}_${_290[1]}`==='tagger_tool'){this.taggerToolEnabled=true;return}if(!_60._860())return;if(_3.opener){if(_60._158('mf_privacyTool'))this.privacyToolEnabled=true;else if(_60._158('mf_liveHeatmaps')){this.liveHeatmapsEnabled=true;this.taggerToolEnabled=true}}};this._562=function(_28,_79){this._402('href',_3.location.href);this.path=undefined;if(_28)this.path=_28.toString();if(_79){this.location=_79;this.hasCustomHref=true}};this._402=function(_16,_5){if(_16[0]==='_')return;switch(_16){case'href':this.location=_570(_5);this.hasCustomHref=_5!==_3.location.href;break;case'keyLogging':this.keyLogging=this.keyLogging&&_5;break;case'gdprEnabled':this.gdprEnabled=this.gdprEnabled||_5;break;case'freezeElementIds':this.freezeElementIds=Array.isArray(_5)?_5:[''+_5];break;case'referrer':this.referrer=_861(_5);break;case'hasCustomHref':break;default:this[_16]=_5;break}}}function _991(_3,_24){const _434='mf-root';let _862,_224;_293(_3);function _293(_295){_862=_295;_224=_295.document;_24._293(_295)}function _578(){if(!_224.body)return null;const _100=_977();if(!_920())_469();return _100}function _284(){const _80=_578();const _100=_80?.shadowRoot.getElementById('mouseflow');return _100}function _580(){const _100=_864();if(!_100)return;const _863=_862.getComputedStyle(_224.body);const _575=parseInt(_863.marginTop)+parseInt(_863.paddingTop);if(_575){_100.style.top=`${_575 * -1}px`;_100.style.height=`calc(100% + ${_575}px)`;_100.style.left='0px';_100.style.width='100%'}}function _864(){return _224.getElementsByTagName(_434)[0]}function _977(){const _100=_864()??_224.createElement(_434);if(!_100.id)_100.id='mouseflow';if(_100.innerHTML?.trim()==='')_100.innerHTML=_925();if(!_224.contains(_100))_224.body.appendChild(_100);_580();return _100}function _920(){return!!_24._1039(_434)}function _469(){_24._469(_434,class extends _24._465('HTMLElement'){connectedCallback(){const _105=this.shadowRoot??this.attachShadow({mode:'open'});if(_105.getElementById('mouseflow'))return;_105.innerHTML=('<div id="mouseflow">'+'<style type="text/css">'+'@font-face {'+'font-family: "Open Sans";'+'font-style: normal;'+'font-weight: 400;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-regular.woff2) format("woff2");'+'}'+'@font-face {'+'font-family: "Open Sans";'+'font-style: normal;'+'font-weight: 700;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-bold.woff2) format("woff2");'+'}'+':host {'+'all: initial;'+'font: 400 14px/1.4 "Open Sans", Arial, sans-serif;'+'color: #666;'+'}'+'.load-font {'+'position: absolute;'+'visibility: hidden;'+'width: 0px;'+'height: 0px;'+'overflow: hidden;'+'}'+'* {'+'background: transparent;'+'border: 0;'+'border-image-outset: 0s;'+'border-image-repeat: stretch;'+'border-image-slice: 100%;'+'border-image-source: none;'+'border-image-width: 1;'+'border-color: #000;'+'border-radius: 0;'+'border-width: 0;'+'border-style: none;'+'box-sizing: border-box;'+'clip: auto;'+'float: none;'+'color: inherit;'+'font-family: inherit;'+'font-size: inherit;'+'font-style: inherit;'+'font-weight: inherit;'+'width: auto;'+'height: auto;'+'min-width: auto;'+'min-height: auto;'+'max-width: auto;'+'max-height: auto;'+'letter-spacing: normal;'+'line-height: normal;'+'margin: 0;'+'padding: 0;'+'text-decoration: none;'+'text-indent: 0;'+'text-transform: none;'+'vertical-align: baseline;'+'text-align: left;'+'overflow: visible;'+'top: auto;'+'right: auto;'+'bottom: auto;'+'left: auto;'+'-webkit-transition: none;'+'transition: none;'+'}'+'.mf-is-hidden {'+'display: none;'+'}'+'</style>'+'<div class="load-font">load font</div>'+'<slot />'+'</div>')}})}function _925(){return('<style type="text/css">'+'@font-face {'+'font-family: "Mouseflow Open Sans";'+'font-style: normal;'+'font-weight: 400;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-regular.woff2) format("woff2");'+'}'+'@font-face {'+'font-family: "Mouseflow Open Sans";'+'font-style: normal;'+'font-weight: 700;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-bold.woff2) format("woff2");'+'}'+'#mouseflow,'+'mf-root {'+'all: initial;'+'font: 400 14px/1.4 "Mouseflow Open Sans", Arial, sans-serif;'+'color: #666;'+'}'+'#mouseflow *,'+'mf-root * {'+'background: transparent;'+'border: 0;'+'border-image-outset: 0s;'+'border-image-repeat: stretch;'+'border-image-slice: 100%;'+'border-image-source: none;'+'border-image-width: 1;'+'border-color: #000;'+'border-radius: 0;'+'border-width: 0;'+'border-style: none;'+'box-sizing: border-box;'+'clip: auto;'+'float: none;'+'color: inherit;'+'font-family: inherit;'+'font-size: inherit;'+'font-style: inherit;'+'font-weight: inherit;'+'width: auto;'+'height: auto;'+'min-width: auto;'+'min-height: auto;'+'max-width: auto;'+'max-height: auto;'+'letter-spacing: normal;'+'line-height: normal;'+'margin: 0;'+'padding: 0;'+'text-decoration: none;'+'text-indent: 0;'+'text-transform: none;'+'vertical-align: baseline;'+'text-align: left;'+'overflow: visible;'+'top: auto;'+'right: auto;'+'bottom: auto;'+'left: auto;'+'-webkit-transition: none;'+'transition: none;'+'}'+'#mouseflow .mf-is-hidden,'+'mf-root .mf-is-hidden {'+'display: none;'+'}'+'</style>')}this._293=_293;this._578=_578;this._284=_284;this._580=_580}function _919(_3,_24){this._39=function(){return _24._230(_3,'setTimeout').apply(_3,arguments)};this._184=function(){return _24._230(_3,'setInterval').apply(_3,arguments)};this._142=function(){_24._230(_3,'clearTimeout').apply(_3,arguments)};this._123=function(){_24._230(_3,'clearInterval').apply(_3,arguments)}}function _918(_3,_115,_537,_24){var _12=_3.document;function _187(_0,_109){var _124=_0.classList;if(_124&&_109)return _124.contains(_109);var _167=_241(_0);return _167.indexOf(_109)!==-1}function _114(_0,_109){var _124=_0.classList;if(_124&&_109){_0.classList.add(_109);return}var _167=_241(_0);if(_167.indexOf(_109)===-1)_167.push(_109);_0.className=_167.join(' ')}function _71(_0,_109){var _124=_0.classList;if(_124&&_109){_0.classList.remove(_109);return}var _167=_241(_0);var _50=_167.indexOf(_109);if(_50!==-1)_167.splice(_50,1);_0.className=_167.join(' ')}function _331(_0,_109,_584){if(_584===undefined)_584=!_187(_0,_109);if(_584){_114(_0,_109)}else{_71(_0,_109)}}function _241(_0){var _865=typeof _0.className==='string'?_0.className.replace(/\s+/g,' ').trim():'';return _865!==''?_865.split(' '):[]}function _587(){return _115.max((_12.body||{}).scrollHeight||0,(_12.body||{}).offsetHeight||0,_12.documentElement.scrollHeight||0,_12.documentElement.offsetHeight||0,_12.documentElement.clientHeight||0)}function _596(){var _289=null;var _929=_12.body.scrollHeight;_12.querySelectorAll('body *').forEach(function(_56){if(_56.tagName==='LINKBAR-CONTAINER')return;if(!_289)_289=_56;if(_289.scrollHeight<_56.scrollHeight)_289=_56});return _289.scrollHeight>_929?_289:null}function _608(_2){if(!_2.autoScrollSelector)return _12.querySelector(_2.scrollSelector);return _596()}function _53(_63,_941){var _32=[];if(!_63)return _32;for(var _4=0;_4<_63.length;_4++){if(_941(_63[_4],_4))_32.push(_63[_4])}return _32}function _294(_171){var _4=Math.floor(Math.log(_171)/Math.log(1024));return(_171/Math.pow(1024,_4)).toFixed(2)*1+' '+['B','KB','MB','GB','TB'][_4]}function _819(_318){var _425=_318.length;while(_425){var _4=_115.floor(_115.random()*_425--);var _938=_318[_425];_318[_425]=_318[_4];_318[_4]=_938}}function _154(_51){if(!_51)return _51;return _51.replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/'/g,'&#39;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}function _604(_51){if(!_51)return _51;return _51.replace(/&amp;/g,'&').replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,'<').replace(/&gt;/g,'>')}function _600(url){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(url.trim())}function _820(_51){return _51.replace(/\[([^\]]+)\]\(([^)]+)\)/g,function(_75,_944,_19){_19=_604(_19);return _600(_19)?'<a href="'+_19+'" target="_blank">'+_944+'</a>':_75})}function _210(_5){if(!_5)return _5;return _5.replace(/([^a-zA-Z\d-_])/g,'\\$1').replace(/^(-)?(\d)/,'$1\\3$2 ')}function _370(_5){return _5?_537.parse(_5):undefined}function _134(_5){var _32;if(Array.prototype.toJSON){var _945=Array.prototype.toJSON;delete Array.prototype.toJSON;_32=_537.stringify(_5);Array.prototype.toJSON=_945}else if(_5){_32=_537.stringify(_5)}return _32}function _821(_934,_932){var _285=_393(_934);var _51=_393(_932);var _239=_115.max(_285.length,_51.length);if(_51=='NaN'||_285=='NaN'){return false}for(var _4=0;_4<_239;_4++){_285[_4]=_285[_4]||0;_51[_4]=_51[_4]||0;if(_285[_4]==_51[_4]){continue}return _285[_4]>_51[_4]}return true}function _393(_931){var _866=_931.split('.');var _842=[];for(var _4=0;_4<_866.length;_4++){_842.push(parseInt(_866[_4]))}return _842}function _391(_51,_928){var _32=_51;while(_32[_32.length-1]===(_928||' '))_32=_32.slice(0,-1);return _32}function _822(_376){var _75;var _128=/([^?&=]+)(?:=([^&]*))?/g;var _841={};while((_75=_128.exec(_376))!==null){var _16=_75[1];var _5=_75[2]?window.decodeURIComponent(_75[2].replace(/\+/g,' ')):null;_841[_16]=_5}return _841}const platformRegexes=[{family:'windows',regex:[/microsoft (windows) (vista|xp)/i,/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[/]?([\d.\w]*)/i,/(windows)[/]?([ntce\d.]+\w)(?!.+xbox)/i,/(win(?=3|9|n)|win 9x )([nt\d.]+)/i]},{family:'ios',regex:[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[/])([\d.]+)/i,/cfnetwork\/.+darwin/i]},{family:'macos',regex:[/(mac os x) ?([\w. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i]},{family:'android',regex:[/droid ([\w.]+)\b.+android[- ]x86/i,/(android)[-/]?([\w.]*)/i]},{family:'linux',regex:[/\b(joli|palm)\b ?(?:os)?\/?([\w.]*)/i,/(mint)[/()]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-/]?(?!chrom|package)([-\w.]*)/i,/(hurd|linux) ?([\w.]*)/i,/(gnu) ?([\w.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[/]?(?!amd|[ix346]{1,2}86)([\w.]*)/i,/(haiku) (\w+)/i]}];const browserRegexes=[{browser:'chrome',regex:[/\b(?:crmo|crios)\/([\w.]+)/i]},{browser:'edge',regex:[/edg(?:e|ios|a)?\/([\w.]+)/i]},{browser:'opera',regex:[/(opera mini)\/([-\w.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w.]+)/i,/(opera)(?:.+version\/|[/]+)([\w.]+)/i,/opios[/]+([\w.]+)/i,/\bopr\/([\w.]+)/i]},{browser:'ie',regex:[/(?:ms|\()(ie) ([\w.]+)/i,/trident.+rv[: ]([\w.]{1,9})\b.+like gecko/i]},{browser:'firefox',regex:[/\bfocus\/([\w.]+)/i,/fxios\/([\w.-]+)/i,/(?:mobile|tablet);.*(firefox)\/([\w.-]+)/i,/mobile vr; rv:([\w.]+)\).+firefox/i,/(firefox)\/([\w.]+)/i]},{browser:'opera',regex:[/\bopt\/([\w.]+)/i,/coast\/([\w.]+)/i]},{browser:'samsung',regex:[/(samsung)browser\/([\w.]+)/i]},{browser:'chrome',regex:[/ wv\).+(chrome)\/([\w.]+)/i,/chrome\/([\w.]+) mobile/i,/(chrome)\/v?([\w.]+)/i]},{browser:'android',regex:[/droid.+ version\/([\w.]+)\b.+(?:mobile safari|safari)/i]},{browser:'safari',regex:[/version\/([\w.,]+) .*mobile(?:\/\w+ | ?)safari/i,/iphone .*mobile(?:\/\w+ | ?)safari/i,/version\/([\w.,]+) .*(safari)/i,/webkit.+?(mobile ?safari|safari)(\/[\w.]+)/i]}];function _823(_839){var _817;var _818;for(let _4=0;_4<platformRegexes.length;_4++){var _840=platformRegexes[_4];let _75=_840.regex.find(function(_550){return _550.test(_839)});if(_75){_818=_840.family;break}}for(let _4=0;_4<browserRegexes.length;_4++){var _816=browserRegexes[_4];let _75=_816.regex.find(function(_550){return _550.test(_839)});if(_75){_817=_816.browser;break}}return{browser:_817,os:_818}}function _101(_0,_7){if(_0.nodeType!==1)return false;if(_0.msMatchesSelector)return _0.msMatchesSelector(_7);if(_0.matches)return _0.matches(_7);return false}function _213(_56,_556){var _72=_24._88(_56);return _72&&_72.hasAttribute&&_72.hasAttribute(_556)}function _557(ipaddress){if(/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(ipaddress)){return(true)}return(false)}function _325(_51,_2){if(_557(_51.hostname)||!_2.includeSubDomains)return _51.hostname;var _31=_51.href;var _1053=/\.co\.|\.com\.|\.ac\.|\.org\.|\.gov\.|\.edu\.|\.net\./;_31=_31.replace(/^http(s)?:\/\/?/i,'').replace(/^([^/]+)\/.*/i,'$1').replace(/:[\d]*$/,'');if(_1053.test(_31))_31=_31.replace(/^([^.]+\.){1,}([^.]+\.[^.]+\.[^.]+)$/i,'$2');else _31=_31.replace(/^([^.]+\.){1,}([^.]+\.[^.]+)$/i,'$2');return'.'+_31}this._325=_325;this._557=_557;this._187=_187;this._114=_114;this._71=_71;this._331=_331;this._241=_241;this._587=_587;this._53=_53;this._294=_294;this._819=_819;this._154=_154;this._604=_604;this._600=_600;this._820=_820;this._210=_210;this._370=_370;this._134=_134;this._821=_821;this._393=_393;this._391=_391;this._101=_101;this._213=_213;this._822=_822;this._823=_823;this._596=_596;this._608=_608}function _1049(_3,_8){const _1072=_3.Object;let _444;let _198,_412,_106,_212;this._293=function(_295){_198=_295;_412=_295.document;_106={}};this._293(_3);this._465=function(_55){const _288=_198[_55];const _824=`function ${_55}() { [native code] }`;let _58=_288;try{while(_106[_55]===undefined){if(!_58){_106[_55]=_460(_55);break}else if(_396(_58)===_824){_106[_55]=_58;break}else if(_396(_58.prototype?.constructor)===_824){_106[_55]=_58.prototype.constructor;break}else{_58=Object.getPrototypeOf(_58)}}}catch(e){_8(e)}return _106[_55]??_288};this._828=function(_55,_151){const _288=_198[_55];const _1046=`function ${_151}() { [native code] }`;const _232=`${_55}.${_151}`;try{if(_106[_232]===undefined){let _58=this._465(_55).prototype;let _211=this._230(_58,_151);if(_396(_211)!==_1046){_106[_55]=_460(_55);_58=_106[_55].prototype;_211=_58[_151]}_106[_232]=_211}}catch(e){_8(e)}return _106[_232]??_288[_151]};this._355=function(_55,_228,_240){const _288=_198[_55];const _1045=`function ${_240} ${_228}() { [native code] }`;const _232=`${_55}.${_228}.${_240}`;try{if(_106[_232]===undefined){let _58=this._465(_55).prototype;let _387=_468(_58,_228,_240);if(_396(_387)!==_1045){_106[_55]=_460(_55);_58=_106[_55].prototype;_387=_468(_58,_228,_240)??_387}_106[_232]=_387}}catch(e){_8(e)}return _106[_232]??_468(_288,_228,_240)};this._230=function(_25,_23){let _825;if(_3.Zone?.__symbol__)_825=_25[_3.Zone.__symbol__(_23)];return _825||_25[_23]};function _468(_58,_228,_240){return Object.getOwnPropertyDescriptor(_58,_228)[_240]}this._500=function(_55,_151,_287){const _211=this._828(_55,_151);const _92=Array.from(arguments).slice(3);return _211.apply(_287,_92)};this._469=function(_23,_1043){this._500('CustomElementRegistry','define',_198.customElements,_23,_1043)};this._1039=function(_23){return this._500('CustomElementRegistry','get',_198.customElements,_23)};function _460(_55){if(!_212){_212=_412.createElement('iframe');_212.style.display='none';_212.style.width='0';_212.style.height='0';_212.style.position='absolute';_412.body.appendChild(_212)}const _58=_212.contentWindow[_55];return _58}function _396(_5){return _5?.toString().replace(/\s+/g,' ')}this._88=function(_0){const _1048=this._355('Node','parentNode','get');return _0?_1048.apply(_0):null};this._514=function(_0){const _1060=this._355('Node','nextSibling','get');return _0?_1060.apply(_0):null};this._826=function(_0){const _1083=this._355('Node','firstChild','get');return _0?_1083.apply(_0):null};this._208=function(_0){const _1081=this._355('Node','childNodes','get');return _0?_1081.apply(_0)??[]:[]};this._1079=function(_0){const _1078=this._355('Node','parentElement','get');return _0?_1078.apply(_0):null};this._1076=function(_0){return this._500('Node','getRootNode',_0)};this._1075=function(_0){if(!_0)return false;if(_444===undefined){try{_444=_412.createElement('div').attachShadow({mode:'open'}).constructor}catch{_444=_198.ShadowRoot}}let _58=_0;let _5=null;while(_5===null){_58=_1072.getPrototypeOf(_58);if(!_58||_58.constructor===_198.DocumentFragment)_5=false;if(_58&&_58.constructor===_444)_5=true}return _5};this._1071=function(){const _69=new _3.XMLHttpRequest();this._827(_69,'XMLHttpRequest','open');this._827(_69,'XMLHttpRequest','send');return _69};this._827=function(_287,_55,_151){const _211=this._828(_55,_151,_287);if(_211!==_287[_151])_287[_151]=_211.bind(_287)}}function _832(_3,_24,_420,_2,_8){const _12=_3.document;const _829=' :document-fragment: ';const _179=new Map();const _526=['attribute','id','class','tag','nthoftype'];const _1007=['.mf-*',/\[(?!data-mf-id=)/];const _1006=['[data-mf-id=*]'];if(!_2.useIdSelectors)_526.splice(_526.indexOf('id'),1);this._496=function(_0){try{const _37=[];while(_0){const _7=[];let _26=_0.getRootNode?_0.getRootNode():_12;const _1004=_1002(_0)??_420.getCssSelector(_0,{root:_26,selectors:_526,blacklist:_1007,whitelist:_1006});_7.push(_1004);_37.unshift(_7.join(' '));_0=_26.host}return _37.join(_829)}catch(_35){_35.message='Get CSS selector failed: '+_35.message;_8(_35)}return''};function _1002(_0){return _179.size?_179.get(_0):null}function _1284(_0,_26){return _2.useIdSelectors&&_0.hasAttribute('id')?_420.getCssSelector(_0,{root:_26,selectors:['id']}):null}this._207=function(_7,_26){return _483(_7,_26||_12,(_56,_479)=>[_56.querySelector(_479)])[0]};this._833=function(_7,_26){return _483(_7,_26||_12,(_56,_479)=>_56.querySelectorAll(_479))};this._445=function(){if(!_2.freezeElementIds)return;const _38=this;for(let _7 of _2.freezeElementIds){try{const _194=_38._833(_7);for(const _20 of _194){if(_179.has(_20))return;if(_194.length>1)_7=_38._496(_20);_179.set(_20,_7)}}catch(_35){_35.message='Could not freeze element IDs: '+_35.message;_8(_35)}}};function _483(_7,_26,_830){const _45=[];try{for(const _999 of _7.split(',')){const _37=_999.split(_829,2);for(const _72 of _830(_26,_37[0])){if(_37[1]&&_72.shadowRoot){const _136=_483(_37[1],_72.shadowRoot,_830);for(const _64 of _136){_45.push(_64)}}else{_45.push(_72)}}}}catch(_35){_35.message='Could not get element from selector: '+_35.message;_8(_35)}return _45}function _1283(_0,_66){while(_0){if(!(_0 instanceof Element))break;if(_66(_0))return _0;_0=_24._88(_0)}return null}}function _994(_3,_17){var _831;this.proxyPushState=function(callback){var _459=_3.history;_831=_459.pushState;_459.pushState=function(){_17._39(callback,100);return _831.apply(_459,arguments)};_3.addEventListener('popstate',function(){_17._39(callback,100)})}}function _68(){return undefined}function _169(){return null}function _390(){return false}var _135=new _992(window,_17,_11,_2,_8);var _119=new _991(window,_24);var _90=new _1000(_2,_476,_486);var _207=(typeof _832==='function')?new _832(window,_24,_420,_2,_8):{_496:_169,_207:_169,_833:_169,_445:_68};var _328=(typeof _834==='function')?new _834(_2,_11):{_296:_390};var _250=(typeof _1033==='function')?new _1033(window,_2,_119,_17,_11,_328,_27,_60,_8,_90):{_34:_68,_65:_68,_368:_68,_1282:_169,_1030:_68,_1279:_68};var _563=(typeof _835==='function')?new _835(_24,_2):{_190:_390};var _838=new _1028(window,_119,_24,_17,_11,_27,_60,_2);var _407=_2.liveHeatmapsV3Enabled?new _1035(window,_17,_2,_119,_11,_27,_90,_60):new _1025(window,_17,_2,_119,_11,_27,_90,_60);var _837=new _1022(window,_119,_17,_11,_27,_2,_90);var _57=_297?new _836(window,Math,_24,_2,_17,_11,_27,_90,_328,_60,_133,_250,_563,_8,_481,_371,_135,_207):null;_135._260();var _62=false;if(_2.privacyToolEnabled){_838._34(_48,_2._47,_2._256,_2._415,_2._339,_2._439,_8)}else if(_2.liveHeatmapsEnabled){var _209;if(_2.taggerToolEnabled){_209=function(_66){_837._34(_8,_48,true,_66)}}_407._34(_2._47,_8,_48,_209)}else if(_2.taggerToolEnabled){_837._34(_8,_48)}else if(_297){_57._299();_62=true}window.mouseflow={start:_62?_57._34:_68,stop:_62?_57._65:function(){if(_2.privacyToolEnabled)_838._65();else if(_2.liveHeatmapsEnabled)_407._65()},newPageView:_62?_57._418:function(_28,_79){_2._562(_28,_79);if(_2.liveHeatmapsEnabled)_407._509()},stopSession:_62?_57._561:_68,getSessionId:_62?_57._1019:_169,getPageViewId:_62?_57._1017:_169,tag:_62?_57._87:_68,star:_62?_57._539:_68,setVariable:_62?_57._540:_68,identify:_62?_57._543:_68,formSubmitAttempt:_62?_57._547:_68,formSubmitSuccess:_62?_57._345:_68,formSubmitFailure:_62?_57._377:_68,addFriction:_62?_57._139:_68,isRecording:_62?_57._195:_390,isReturningUser:_62?_57._1016:_390,activateFeedback:_62?_57._368:_68,proxyAttachShadow:_62?_57._278:_68,recordingRate:_62?_57._203:_169,version:_62?_57._188:_169,lastUpdate:_62?_57._510:_169,isCreditCard:_62?_57._236:_68,pageNotFound:_62?_57._1015:_68,websiteId:_2._47,gdprEnabled:_2.gdprEnabled,updateHeatmap:_407._509,getDisplayUrl:_90._137,config:function(){return arguments.length===1?_2[arguments[0]]:_2._402.apply(_2,arguments)},logConfig:function(){if(_2.debug)console.log(_2)},debug:function(){_2.debug=!_2.debug;console.log('MF: Debugging '+(_2.debug?'enabled':'disabled'))},createTreeMirrorClient:_297?_57._448:_68,deleteTreeMirrorClient:_297?_57._521:_68,addCustomEvent:_297?_57._456:_68,exclude:function(selector){if(!_2._256.includes(selector))_2._256.push(selector)}};if(_2.enableSpa)_481.proxyPushState(window.mouseflow.newPageView);if(!_62)_135._34()})()}